<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ImageResizer: ImageResizer.ImageBuilder Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="resizer-icon-64.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.2.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_image_resizer.html">ImageResizer</a>      </li>
      <li class="navelem"><a class="el" href="class_image_resizer_1_1_image_builder.html">ImageBuilder</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">ImageResizer.ImageBuilder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ImageResizer::ImageBuilder" --><!-- doxytag: inherits="ImageResizer::Resizing::AbstractImageProcessor,ImageResizer::Plugins::IQuerystringPlugin,ImageResizer::Plugins::IFileExtensionPlugin" -->
<p>Provides methods for generating resized images, and for reading and writing them to disk. Use <a class="el" href="class_image_resizer_1_1_image_builder.html#afcfb7f40a65d121670118ccebfe1ca4b" title="Returns a shared instance of ImageBuilder or a subclass, equivalent to Config.Current.CurrentImageBuilder.">ImageBuilder.Current</a> to get the current instance (as configured in the application configuration), or use ImageBuilder.Current.Create() to control which extensions are used.  
 <a href="class_image_resizer_1_1_image_builder.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ImageResizer.ImageBuilder:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_image_builder__inherit__graph.png" border="0" usemap="#_image_resizer_8_image_builder_inherit__map" alt="Inheritance graph"/></div>
<map name="_image_resizer_8_image_builder_inherit__map" id="_image_resizer_8_image_builder_inherit__map">
<area shape="rect" id="node2" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html" title="Not for external use. Inherit from BuilderExtension instead. Dual&#45;purpose base class for both ImageBu..." alt="" coords="5,6,371,53"/><area shape="rect" id="node4" href="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin.html" title="For plugins that access the query string (important!)" alt="" coords="396,6,679,53"/><area shape="rect" id="node6" href="interface_image_resizer_1_1_plugins_1_1_i_file_extension_plugin.html" title="For plugins that add support for new source file image extensions." alt="" coords="703,6,1009,53"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ImageResizer.ImageBuilder:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_image_builder__coll__graph.png" border="0" usemap="#_image_resizer_8_image_builder_coll__map" alt="Collaboration graph"/></div>
<map name="_image_resizer_8_image_builder_coll__map" id="_image_resizer_8_image_builder_coll__map">
<area shape="rect" id="node2" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html" title="Not for external use. Inherit from BuilderExtension instead. Dual&#45;purpose base class for both ImageBu..." alt="" coords="126,5,493,51"/><area shape="rect" id="node4" href="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin.html" title="For plugins that access the query string (important!)" alt="" coords="168,75,451,122"/><area shape="rect" id="node6" href="interface_image_resizer_1_1_plugins_1_1_i_file_extension_plugin.html" title="For plugins that add support for new source file image extensions." alt="" coords="156,146,463,193"/><area shape="rect" id="node8" href="interface_image_resizer_1_1_encoding_1_1_i_encoder_provider.html" title="A provider (or selector) of IEncoder instances." alt="" coords="6,217,613,263"/><area shape="rect" id="node10" href="interface_image_resizer_1_1_plugins_1_1_i_settings_modifier.html" title="Provides a way to modify settings before they reach the managed API. Does not execute early enough to..." alt="" coords="23,287,596,334"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_image_resizer_1_1_image_builder-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a5fd0abe1e804a676b596f11786ea45a6">ImageBuilder</a> (IEnumerable&lt; <a class="el" href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">BuilderExtension</a> &gt; extensions, <a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder_provider.html">IEncoderProvider</a> encoderProvider, <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html">IVirtualImageProvider</a> virtualFileProvider, <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_settings_modifier.html">ISettingsModifier</a> settingsModifier)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new instance of <a class="el" href="class_image_resizer_1_1_image_builder.html" title="Provides methods for generating resized images, and for reading and writing them to disk...">ImageBuilder</a> using the specified extensions, encoder provider, file provider, and settings filter. Extension methods will be fired in the order they exist in the collection.  <a href="#a5fd0abe1e804a676b596f11786ea45a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_image_resizer_1_1_image_builder.html">ImageBuilder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ac0d37c18d40aeae0148dc56165d826a6">Create</a> (IEnumerable&lt; <a class="el" href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">BuilderExtension</a> &gt; extensions, <a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder_provider.html">IEncoderProvider</a> writer, <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html">IVirtualImageProvider</a> virtualFileProvider, <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_settings_modifier.html">ISettingsModifier</a> settingsModifier)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates another instance of the class using the specified extensions. Subclasses should override this and point to their own constructor.  <a href="#ac0d37c18d40aeae0148dc56165d826a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_image_resizer_1_1_image_builder.html">ImageBuilder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a1de161f6083813949f26b01c0e10283c">Copy</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the instance along with extensions. Subclasses must override this.  <a href="#a1de161f6083813949f26b01c0e10283c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Bitmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a185dcaa809670c427788a45539f2f1f3">LoadImage</a> (object source, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a Bitmap from the specified source. If a filename is available, it will be attached to bitmap.Tag in a BitmapTag instance. The Bitmap.Tag.Path value may be a virtual, relative, UNC, windows, or unix path. Does not dispose 'source' if it is a Stream or Image instance - that's the responsibility of the calling code.  <a href="#a185dcaa809670c427788a45539f2f1f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Bitmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a17a976acd6935ca64f88b54332a00c2d">LoadImage</a> (object source, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, bool restoreStreamPos)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a Bitmap from the specified source. If a filename is available, it will be attached to bitmap.Tag in a BitmapTag instance. The Bitmap.Tag.Path value may be a virtual, relative, UNC, windows, or unix path. Does not dispose 'source' if it is a Stream or Image instance - that's the responsibility of the calling code.  <a href="#a17a976acd6935ca64f88b54332a00c2d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override Bitmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#aa00b42693a3af4544751cc1d1be0bbbf">DecodeStream</a> (Stream s, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, string optionalPath)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes the stream into a System.Drawing.Bitmap instance. As of 3.0.7, now ensures the stream can safely be closed after the method returns. May copy the stream. The copied stream will be in b.Tag.Source. Does not close or dispose any streams.  <a href="#aa00b42693a3af4544751cc1d1be0bbbf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Stream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ab51799a036b1624f4e5d9c2aa2fcfa88">GetStreamFromSource</a> (object source, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, ref bool disposeStream, out string path, out bool restoreStreamPosition)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">For plugin use only. Returns a stream instance from the specified source object and settings object. To exend this method, override GetStream.  <a href="#ab51799a036b1624f4e5d9c2aa2fcfa88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Bitmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83">Build</a> (object source, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior.  <a href="#a12f49b48e9244ee7f6e86fd60fffcc83"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Bitmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ab6583432ca82dfa02d357000d252c45d">Build</a> (object source, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, bool disposeSource)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg.  <a href="#ab6583432ca82dfa02d357000d252c45d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a23d0a1c7686627fc160d5f0173f14cf5">Build</a> (object source, object dest, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes and processes the specified source image and stores the encoded result in the specified destination. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior.  <a href="#a23d0a1c7686627fc160d5f0173f14cf5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a1528f6e7863248a4dd0d2d3c2d140261">Build</a> (object source, object dest, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, bool disposeSource)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes and processes the specified source image and stores the encoded result in the specified destination. If passed a source Stream, Bitmap, or Image instance, it will not be disposed unless disposeSource=true.  <a href="#a1528f6e7863248a4dd0d2d3c2d140261"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a87954c4d5579b7b2d45bec6ca1eb5aab">Build</a> (object source, object dest, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, bool disposeSource, bool addFileExtension)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes and processes the specified source image and stores the encoded result in the specified destination. If passed a source Stream, Bitmap, or Image instance, it will not be disposed unless disposeSource=true. If passed a path destination, the physical path of the written file will be returned.  <a href="#a87954c4d5579b7b2d45bec6ca1eb5aab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a521141a412897869bff44e38e375f85a"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Build" ref="a521141a412897869bff44e38e375f85a" args="(ImageJob job)" -->
virtual <a class="el" href="class_image_resizer_1_1_image_job.html">ImageJob</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Build</b> (<a class="el" href="class_image_resizer_1_1_image_job.html">ImageJob</a> job)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a8e2f4b3bbf8bb38e54249490122ebb71">Process</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes an ImageState instance. Used by Build, GetFinalSize, and TranslatePoint. Can be overriden by a plugin with the OnProcess method.  <a href="#a8e2f4b3bbf8bb38e54249490122ebb71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual PointF[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#af498e87cf9e20dee93b0fb711e39581f">TranslatePoints</a> (PointF[] sourcePoints, Size originalSize, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Doesn't support flipping. Translate a point on the original bitmap to a point on the new bitmap. If the original point no longer exists, returns Empty.  <a href="#af498e87cf9e20dee93b0fb711e39581f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ac0ad7c5f8e03ca9a50e6538677c3475d">GetFinalSize</a> (Size originalSize, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the final size of an image.  <a href="#ac0ad7c5f8e03ca9a50e6538677c3475d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual IEnumerable&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a303922cae5567e1e58462695000ec705">GetSupportedFileExtensions</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of the file extensions <a class="el" href="class_image_resizer_1_1_image_builder.html" title="Provides methods for generating resized images, and for reading and writing them to disk...">ImageBuilder</a> can load by default. <a class="el" href="namespace_image_resizer_1_1_plugins.html">Plugins</a> can implement IFileExtensionPlugin to add new ones.  <a href="#a303922cae5567e1e58462695000ec705"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual IEnumerable&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a4d055522b14dc97d8edf5eb8ec3a1296">GetSupportedQuerystringKeys</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of the querystring commands <a class="el" href="class_image_resizer_1_1_image_builder.html" title="Provides methods for generating resized images, and for reading and writing them to disk...">ImageBuilder</a> can parse by default. <a class="el" href="namespace_image_resizer_1_1_plugins.html">Plugins</a> can implement IQuerystringPlugin to add new ones.  <a href="#a4d055522b14dc97d8edf5eb8ec3a1296"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a064d8a5a2a83b8f9f35a0f8b411b0cf9">ImageBuilder</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Shouldn't be used except to make a factory instance.  <a href="#a064d8a5a2a83b8f9f35a0f8b411b0cf9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1824012ca6ccf41e119ef03a60b12cc"></a><!-- doxytag: member="ImageResizer::ImageBuilder::BuildJob" ref="ab1824012ca6ccf41e119ef03a60b12cc" args="(ImageJob job)" -->
override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><b>BuildJob</b> (<a class="el" href="class_image_resizer_1_1_image_job.html">ImageJob</a> job)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a078dae9f4dba27048dfd41862ce9960b">buildToStream</a> (Bitmap source, Stream dest, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Override this when you need to override the behavior of image encoding and/or Bitmap processing Not for external use. Does NOT dispose of 'source' or 'source's underlying stream.  <a href="#a078dae9f4dba27048dfd41862ce9960b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override Bitmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a097e510478c85eb23fd6ac0db3cd3078">buildToBitmap</a> (Bitmap source, <a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, bool transparencySupported)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Override this when you need to override the behavior of Bitmap processing. Not for external use. Does NOT dispose of 'source' or 'source's underlying stream.  <a href="#a097e510478c85eb23fd6ac0db3cd3078"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7">Layout</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.3: Handles the layout phase of Processing.  <a href="#ab0e7f7482b1ed782c4c522ca02d004f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ad3c0e9b89c62b5a6896b062d30db2641">Render</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the rendering phase of processing.  <a href="#ad3c0e9b89c62b5a6896b062d30db2641"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a34af5ed805a72bb5477e25591d3b8110">PrepareSourceBitmap</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.1 Switches the bitmap to the correct frame or page, and applies source flipping commands.  <a href="#a34af5ed805a72bb5477e25591d3b8110"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a9e22edc2ecc338cf2cc0e2b599d3ba01">LayoutPadding</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.3(Layout).4: Ring "padding" is added to the layout.  <a href="#a9e22edc2ecc338cf2cc0e2b599d3ba01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a5226d94222273bd96dad169ad1d5bec0">LayoutMargin</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.3(Layout).10: Margins are added to the layout.  <a href="#a5226d94222273bd96dad169ad1d5bec0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ace292d7e6b4cf7093d00f2c8d3ea52d7">LayoutBorder</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.3(Layout).6: Ring "border" is added to the layout.  <a href="#ace292d7e6b4cf7093d00f2c8d3ea52d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a251f5ddd07226dbc98abec4673afa07e">LayoutRound</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.3(Layout).anytime: Occurs when the layout point values are rounded to integers. May be called anytime during <a class="el" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7" title="Process.3: Handles the layout phase of Processing.">Layout()</a>  <a href="#a251f5ddd07226dbc98abec4673afa07e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ad7d2c54cc300e532a28e76a34de35186">LayoutRotate</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.3(Layout).anytime: Occurs when the layout is rotated. May be called anytime during <a class="el" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7" title="Process.3: Handles the layout phase of Processing.">Layout()</a>  <a href="#ad7d2c54cc300e532a28e76a34de35186"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ad4e099c55af7db2a764bf7429e0c1c7f">LayoutNormalize</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.3(Layout).anytime: Occurs when the layout is normalized to 0,0. May be called anytime during <a class="el" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7" title="Process.3: Handles the layout phase of Processing.">Layout()</a>  <a href="#ad4e099c55af7db2a764bf7429e0c1c7f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#ad3c48a100d8e661aec4dbb56783c8508">EndLayout</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.3(Layout).12: Occurs once layout has finished. No more changes should occur to points or rings in the layout after this method. destSize is calculated here.  <a href="#ad3c48a100d8e661aec4dbb56783c8508"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a4cb07c8d3c0aea9841613431614a3fa9">PrepareDestinationBitmap</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a bitmap of s.destSize dimensions, intializes a graphics object for it, and configures all the default settings.  <a href="#a4cb07c8d3c0aea9841613431614a3fa9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a32558f4f0b1a0aaed2500dc9e5b849ea">RenderBackground</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the background color if needed or requested.  <a href="#a32558f4f0b1a0aaed2500dc9e5b849ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a6095ca220f026fec0fd15b3ebf4ef12a">RenderPadding</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.5(Render).5 Image padding is drawn.  <a href="#a6095ca220f026fec0fd15b3ebf4ef12a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a70a8ba17d8b08e48d273f72b256b5573">CreateImageAttribues</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.5(Render).7: An ImageAttributes instance is created if it doesn't already exist.  <a href="#a70a8ba17d8b08e48d273f72b256b5573"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a0d9f4fd12809ec0cc17bbb2fb33a7309">RenderImage</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.5(Render).10: The image is copied to the destination parallelogram specified by ring 'image'.  <a href="#a0d9f4fd12809ec0cc17bbb2fb33a7309"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a73ee8389af6a5b923455dc80da3ac66e">RenderBorder</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.5(Render).12: The border is rendered.  <a href="#a73ee8389af6a5b923455dc80da3ac66e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#af7321daa43947075d5963a33f3473883">FlushChanges</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.5(Render).17: Changes are flushed to the bitmap here and the graphics object is destroyed.  <a href="#af7321daa43947075d5963a33f3473883"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a5f3df5920c5ec3f75085a91d4268157a">ProcessFinalBitmap</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process.6: Non-rendering changes to the bitmap object occur here, such as flipping. The graphics object is unavailable.  <a href="#a5f3df5920c5ec3f75085a91d4268157a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a0649c6799567d75a2f0c46d3cd0f6196">LayoutImage</a> (<a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Populates copyRect, as well as Rings image and imageArea. Translates and scales any existing rings as if they existed on the original bitmap.  <a href="#a0649c6799567d75a2f0c46d3cd0f6196"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37bf21938ea9a7756f6829b46fcad3c8"></a><!-- doxytag: member="ImageResizer::ImageBuilder::_encoderProvider" ref="a37bf21938ea9a7756f6829b46fcad3c8" args="" -->
<a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder_provider.html">IEncoderProvider</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_encoderProvider</b> = null</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a489e4074ed6778a388b67db6f3d8c5f7"></a><!-- doxytag: member="ImageResizer::ImageBuilder::_settingsModifier" ref="a489e4074ed6778a388b67db6f3d8c5f7" args="" -->
<a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_settings_modifier.html">ISettingsModifier</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_settingsModifier</b> = null</td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder_provider.html">IEncoderProvider</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a9bd254f85a8c846eb287a985b3accbde">EncoderProvider</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the encoder selection and provision proccess.  <a href="#a9bd254f85a8c846eb287a985b3accbde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_settings_modifier.html">ISettingsModifier</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#af9bcb1d2b216d219670c2a98a3586792">SettingsModifier</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">May be null. A class to modify or normalize <a class="el" href="class_image_resizer_1_1_resize_settings.html" title="Represents the settings which will be used to process the image. Extends NameValueCollection to provi...">ResizeSettings</a> instances before they are used.  <a href="#af9bcb1d2b216d219670c2a98a3586792"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html">IVirtualImageProvider</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#a391309229993353e75f82223cdf0323f">VirtualFileProvider</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a resolution service for app-relative URLs.  <a href="#a391309229993353e75f82223cdf0323f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_image_resizer_1_1_image_builder.html">ImageBuilder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_image_builder.html#afcfb7f40a65d121670118ccebfe1ca4b">Current</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a shared instance of <a class="el" href="class_image_resizer_1_1_image_builder.html" title="Provides methods for generating resized images, and for reading and writing them to disk...">ImageBuilder</a> or a subclass, equivalent to Config.Current.CurrentImageBuilder.  <a href="#afcfb7f40a65d121670118ccebfe1ca4b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Provides methods for generating resized images, and for reading and writing them to disk. Use <a class="el" href="class_image_resizer_1_1_image_builder.html#afcfb7f40a65d121670118ccebfe1ca4b" title="Returns a shared instance of ImageBuilder or a subclass, equivalent to Config.Current.CurrentImageBuilder.">ImageBuilder.Current</a> to get the current instance (as configured in the application configuration), or use ImageBuilder.Current.Create() to control which extensions are used. </p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00027">27</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a064d8a5a2a83b8f9f35a0f8b411b0cf9"></a><!-- doxytag: member="ImageResizer::ImageBuilder::ImageBuilder" ref="a064d8a5a2a83b8f9f35a0f8b411b0cf9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_image_resizer_1_1_image_builder.html#a064d8a5a2a83b8f9f35a0f8b411b0cf9">ImageResizer.ImageBuilder.ImageBuilder</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shouldn't be used except to make a factory instance. </p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00032">32</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_image_builder_8cs_source.html#l00090">ImageResizer.ImageBuilder.Copy()</a>, and <a class="el" href="_image_builder_8cs_source.html#l00083">ImageResizer.ImageBuilder.Create()</a>.</p>
<div class="fragment"><pre class="fragment">{ }
</pre></div>
</div>
</div>
<a class="anchor" id="a5fd0abe1e804a676b596f11786ea45a6"></a><!-- doxytag: member="ImageResizer::ImageBuilder::ImageBuilder" ref="a5fd0abe1e804a676b596f11786ea45a6" args="(IEnumerable&lt; BuilderExtension &gt; extensions, IEncoderProvider encoderProvider, IVirtualImageProvider virtualFileProvider, ISettingsModifier settingsModifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_image_resizer_1_1_image_builder.html#a064d8a5a2a83b8f9f35a0f8b411b0cf9">ImageResizer.ImageBuilder.ImageBuilder</a> </td>
          <td>(</td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">BuilderExtension</a> &gt;&#160;</td>
          <td class="paramname"><em>extensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder_provider.html">IEncoderProvider</a>&#160;</td>
          <td class="paramname"><em>encoderProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html">IVirtualImageProvider</a>&#160;</td>
          <td class="paramname"><em>virtualFileProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_settings_modifier.html">ISettingsModifier</a>&#160;</td>
          <td class="paramname"><em>settingsModifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new instance of <a class="el" href="class_image_resizer_1_1_image_builder.html" title="Provides methods for generating resized images, and for reading and writing them to disk...">ImageBuilder</a> using the specified extensions, encoder provider, file provider, and settings filter. Extension methods will be fired in the order they exist in the collection. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">extensions</td><td></td></tr>
    <tr><td class="paramname">encoderProvider</td><td></td></tr>
    <tr><td class="paramname">settingsModifier</td><td></td></tr>
    <tr><td class="paramname">virtualFileProvider</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00068">68</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">            : base(extensions) {
            this._encoderProvider = encoderProvider;
            this._virtualFileProvider = virtualFileProvider;
            this._settingsModifier = settingsModifier;
        }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a12f49b48e9244ee7f6e86fd60fffcc83"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Build" ref="a12f49b48e9244ee7f6e86fd60fffcc83" args="(object source, ResizeSettings settings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Bitmap <a class="el" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83">ImageResizer.ImageBuilder.Build</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>May be an instance of string (a physical path), VirtualFile, IVirtualBitmapFile, HttpPostedFile, Bitmap, Image, or Stream.</td></tr>
    <tr><td class="paramname">settings</td><td><a class="el" href="namespace_image_resizer_1_1_resizing.html">Resizing</a> and processing command to apply to the.</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00305">305</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_image_job_8cs_source.html#l00043">ImageResizer.ImageJob.Build()</a>, and <a class="el" href="_intercept_module_8cs_source.html#l00171">ImageResizer.InterceptModule.HandleRequest()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                            {
            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83" title="Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior.">Build</a>(source, settings, <span class="keyword">true</span>);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ab6583432ca82dfa02d357000d252c45d"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Build" ref="ab6583432ca82dfa02d357000d252c45d" args="(object source, ResizeSettings settings, bool disposeSource)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Bitmap <a class="el" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83">ImageResizer.ImageBuilder.Build</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disposeSource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg. </p>
<p>If passed a source Stream, Bitmap, or Image instance, it will not be disposed unless disposeSource=true.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>May be an instance of string (a physical path), VirtualFile, IVirtualBitmapFile, HttpPostedFile, Bitmap, Image, or Stream.</td></tr>
    <tr><td class="paramname">settings</td><td><a class="el" href="namespace_image_resizer_1_1_resizing.html">Resizing</a> and processing command to apply to the.</td></tr>
    <tr><td class="paramname">disposeSource</td><td>If false, 'source' will not be disposed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00320">320</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                {
            ImageJob j = <span class="keyword">new</span> ImageJob(source, typeof(Bitmap), settings, disposeSource, <span class="keyword">false</span>);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83" title="Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior.">Build</a>(j);
            <span class="keywordflow">return</span> j.Result as Bitmap;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a23d0a1c7686627fc160d5f0173f14cf5"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Build" ref="a23d0a1c7686627fc160d5f0173f14cf5" args="(object source, object dest, ResizeSettings settings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83">ImageResizer.ImageBuilder.Build</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resizes and processes the specified source image and stores the encoded result in the specified destination. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>May be an instance of string (a physical path or app-relative virtual path), VirtualFile, IVirtualBitmapFile, HttpPostedFile, Bitmap, Image, or Stream. App-relative virtual paths will use the VirtualPathProvider system</td></tr>
    <tr><td class="paramname">dest</td><td>May be a physical path (string), or a Stream instance. Does not have to be seekable.</td></tr>
    <tr><td class="paramname">settings</td><td><a class="el" href="namespace_image_resizer_1_1_resizing.html">Resizing</a> and processing command to apply to the image.</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00333">333</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                       {
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83" title="Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior.">Build</a>(source, dest, settings, <span class="keyword">true</span>);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a1528f6e7863248a4dd0d2d3c2d140261"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Build" ref="a1528f6e7863248a4dd0d2d3c2d140261" args="(object source, object dest, ResizeSettings settings, bool disposeSource)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83">ImageResizer.ImageBuilder.Build</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disposeSource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resizes and processes the specified source image and stores the encoded result in the specified destination. If passed a source Stream, Bitmap, or Image instance, it will not be disposed unless disposeSource=true. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>May be an instance of string (a physical path or app-relative virtual path), VirtualFile, IVirtualBitmapFile, HttpPostedFile, Bitmap, Image, or Stream. App-relative virtual paths will use the VirtualPathProvider system</td></tr>
    <tr><td class="paramname">dest</td><td>May be a physical path (string), or a Stream instance. Does not have to be seekable.</td></tr>
    <tr><td class="paramname">settings</td><td><a class="el" href="namespace_image_resizer_1_1_resizing.html">Resizing</a> and processing command to apply to the image.</td></tr>
    <tr><td class="paramname">disposeSource</td><td>True to dispose 'source' after use. False to leave intact.</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00346">346</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                           {
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83" title="Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior.">Build</a>(source, dest, settings, disposeSource, <span class="keyword">false</span>);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a87954c4d5579b7b2d45bec6ca1eb5aab"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Build" ref="a87954c4d5579b7b2d45bec6ca1eb5aab" args="(object source, object dest, ResizeSettings settings, bool disposeSource, bool addFileExtension)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual string <a class="el" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83">ImageResizer.ImageBuilder.Build</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>disposeSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>addFileExtension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resizes and processes the specified source image and stores the encoded result in the specified destination. If passed a source Stream, Bitmap, or Image instance, it will not be disposed unless disposeSource=true. If passed a path destination, the physical path of the written file will be returned. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>May be an instance of string (a physical path or app-relative virtual path), VirtualFile, IVirtualBitmapFile, HttpPostedFile, Bitmap, Image, or Stream. App-relative virtual paths will use the VirtualPathProvider system</td></tr>
    <tr><td class="paramname">dest</td><td>May be a physical path (string), or a Stream instance. Does not have to be seekable.</td></tr>
    <tr><td class="paramname">settings</td><td><a class="el" href="namespace_image_resizer_1_1_resizing.html">Resizing</a> and processing command to apply to the image.</td></tr>
    <tr><td class="paramname">disposeSource</td><td>True to dispose 'source' after use. False to leave intact.</td></tr>
    <tr><td class="paramname">addFileExtension</td><td>If true, will add the correct file extension to 'dest' if it is a string. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00360">360</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                                    {
            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_image_builder.html#a12f49b48e9244ee7f6e86fd60fffcc83" title="Resizes and processes the specified source image and returns a bitmap of the result. Note! This method assumes that transparency will be supported in the final output format, and therefore does not apply a matte color. Use &amp;bgcolor to specify a background color if you use this method with a non-transparent format such as Jpeg. If passed a source Stream, Bitmap, or Image instance, it will be disposed after use. Use disposeSource=False to disable that behavior.">Build</a>(<span class="keyword">new</span> ImageJob(source, dest, settings, disposeSource, addFileExtension)).FinalPath;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a097e510478c85eb23fd6ac0db3cd3078"></a><!-- doxytag: member="ImageResizer::ImageBuilder::buildToBitmap" ref="a097e510478c85eb23fd6ac0db3cd3078" args="(Bitmap source, ResizeSettings settings, bool transparencySupported)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override Bitmap <a class="el" href="class_image_resizer_1_1_image_builder.html#a097e510478c85eb23fd6ac0db3cd3078">ImageResizer.ImageBuilder.buildToBitmap</a> </td>
          <td>(</td>
          <td class="paramtype">Bitmap&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>transparencySupported</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Override this when you need to override the behavior of Bitmap processing. Not for external use. Does NOT dispose of 'source' or 'source's underlying stream. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td></td></tr>
    <tr><td class="paramname">settings</td><td></td></tr>
    <tr><td class="paramname">transparencySupported</td><td>True if the output method will support transparency. If false, the image should be provided a matte color</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a8f60fdef5ccd6ced2d35ef29da71e657">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00477">477</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                    {
            Bitmap b = base.buildToBitmap(source,settings,transparencySupported);
            <span class="keywordflow">if</span> (b != null) <span class="keywordflow">return</span> b; <span class="comment">//Allow extensions to replace the method wholesale.</span>

            <span class="keyword">using</span> (<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html" title="Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...">ImageState</a> state = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html" title="Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...">ImageState</a>(settings, source.Size, transparencySupported)) {
                state.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a> = source;

                <span class="comment">//Generic processing of ImageState instances.</span>
                <a class="code" href="class_image_resizer_1_1_image_builder.html#a8e2f4b3bbf8bb38e54249490122ebb71" title="Processes an ImageState instance. Used by Build, GetFinalSize, and TranslatePoint. Can be overriden by a plugin with the OnProcess method.">Process</a>(state);

                <span class="comment">//Save a reference to return</span>
                b = state.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d" title="The destination bitmap. If null, skip drawing commands, but continue layout logic.">destBitmap</a>;
                state.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d" title="The destination bitmap. If null, skip drawing commands, but continue layout logic.">destBitmap</a> = null; <span class="comment">//So it doesn&#39;t get disposed yet</span>

                <span class="comment">//Don&#39;t dispose the source bitmap either, just the graphics object.</span>
                state.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a> = null;
            }
            <span class="keywordflow">return</span> b;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a078dae9f4dba27048dfd41862ce9960b"></a><!-- doxytag: member="ImageResizer::ImageBuilder::buildToStream" ref="a078dae9f4dba27048dfd41862ce9960b" args="(Bitmap source, Stream dest, ResizeSettings settings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a078dae9f4dba27048dfd41862ce9960b">ImageResizer.ImageBuilder.buildToStream</a> </td>
          <td>(</td>
          <td class="paramtype">Bitmap&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Override this when you need to override the behavior of image encoding and/or Bitmap processing Not for external use. Does NOT dispose of 'source' or 'source's underlying stream. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td></td></tr>
    <tr><td class="paramname">dest</td><td></td></tr>
    <tr><td class="paramname">settings</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ab1f103b63d633d4a2d35b26c5065a5e4">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00457">457</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                              {
            <span class="keywordflow">if</span> (base.buildToStream(source, dest, settings) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            <a class="code" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html" title="An image encoder. Exposes methods for suitability checking, encoding, transparency compatibility chec...">IEncoder</a> e = <span class="keyword">this</span>.EncoderProvider.GetEncoder(settings,source);
            <span class="keywordflow">if</span> (e == null) <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageProcessingException(<span class="stringliteral">&quot;No image encoder was found for this request.&quot;</span>);
            <span class="keyword">using</span> (Bitmap b = <a class="code" href="class_image_resizer_1_1_image_builder.html#a097e510478c85eb23fd6ac0db3cd3078" title="Override this when you need to override the behavior of Bitmap processing. Not for external use...">buildToBitmap</a>(source, settings,e.SupportsTransparency)) {<span class="comment">//Determines output format, includes code for saving in a variety of formats.</span>
                <span class="comment">//Save to stream</span>
                e.Write(b, dest);
            }
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a1de161f6083813949f26b01c0e10283c"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Copy" ref="a1de161f6083813949f26b01c0e10283c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_image_resizer_1_1_image_builder.html">ImageBuilder</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a1de161f6083813949f26b01c0e10283c">ImageResizer.ImageBuilder.Copy</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copies the instance along with extensions. Subclasses must override this. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00090">90</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                          {
            <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_image_builder.html#a064d8a5a2a83b8f9f35a0f8b411b0cf9" title="Shouldn&#39;t be used except to make a factory instance.">ImageBuilder</a>(this.<a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a79fd55facde998a6090e73fe8affda85" title="Contains the set of extensions that are called for every method.">exts</a>,this._encoderProvider, this._virtualFileProvider,this._settingsModifier);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ac0d37c18d40aeae0148dc56165d826a6"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Create" ref="ac0d37c18d40aeae0148dc56165d826a6" args="(IEnumerable&lt; BuilderExtension &gt; extensions, IEncoderProvider writer, IVirtualImageProvider virtualFileProvider, ISettingsModifier settingsModifier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_image_resizer_1_1_image_builder.html">ImageBuilder</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#ac0d37c18d40aeae0148dc56165d826a6">ImageResizer.ImageBuilder.Create</a> </td>
          <td>(</td>
          <td class="paramtype">IEnumerable&lt; <a class="el" href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">BuilderExtension</a> &gt;&#160;</td>
          <td class="paramname"><em>extensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder_provider.html">IEncoderProvider</a>&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html">IVirtualImageProvider</a>&#160;</td>
          <td class="paramname"><em>virtualFileProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_settings_modifier.html">ISettingsModifier</a>&#160;</td>
          <td class="paramname"><em>settingsModifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates another instance of the class using the specified extensions. Subclasses should override this and point to their own constructor. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">extensions</td><td></td></tr>
    <tr><td class="paramname">writer</td><td></td></tr>
    <tr><td class="paramname">virtualFileProvider</td><td></td></tr>
    <tr><td class="paramname">settingsModifier</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00083">83</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_config_8cs_source.html#l00108">ImageResizer.Configuration.Config.UpgradeImageBuilder()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                                                                                             {
            <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_image_builder.html#a064d8a5a2a83b8f9f35a0f8b411b0cf9" title="Shouldn&#39;t be used except to make a factory instance.">ImageBuilder</a>(extensions,writer,virtualFileProvider,settingsModifier);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a70a8ba17d8b08e48d273f72b256b5573"></a><!-- doxytag: member="ImageResizer::ImageBuilder::CreateImageAttribues" ref="a70a8ba17d8b08e48d273f72b256b5573" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a70a8ba17d8b08e48d273f72b256b5573">ImageResizer.ImageBuilder.CreateImageAttribues</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.5(Render).7: An ImageAttributes instance is created if it doesn't already exist. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ad68b63bf995e13ff9097771d1af0b80e">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00762">762</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                              {
            <span class="keywordflow">if</span> (base.CreateImageAttribues(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>
            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0575a388f0e3235d967cb62f4904fe09" title="Allows color correction/modification during the image copy.">copyAttibutes</a> == null) s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0575a388f0e3235d967cb62f4904fe09" title="Allows color correction/modification during the image copy.">copyAttibutes</a> = <span class="keyword">new</span> ImageAttributes();
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aa00b42693a3af4544751cc1d1be0bbbf"></a><!-- doxytag: member="ImageResizer::ImageBuilder::DecodeStream" ref="aa00b42693a3af4544751cc1d1be0bbbf" args="(Stream s, ResizeSettings settings, string optionalPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override Bitmap <a class="el" href="class_image_resizer_1_1_image_builder.html#aa00b42693a3af4544751cc1d1be0bbbf">ImageResizer.ImageBuilder.DecodeStream</a> </td>
          <td>(</td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>optionalPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decodes the stream into a System.Drawing.Bitmap instance. As of 3.0.7, now ensures the stream can safely be closed after the method returns. May copy the stream. The copied stream will be in b.Tag.Source. Does not close or dispose any streams. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
    <tr><td class="paramname">settings</td><td></td></tr>
    <tr><td class="paramname">optionalPath</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ae5d188de9b281e6d1885c86f211190d0">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00197">197</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                    {
            Bitmap b = base.DecodeStream(s, settings, optionalPath);
            <span class="keywordflow">if</span> (b != null &amp;&amp; b.Tag == null) b.Tag = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">BitmapTag</a>(optionalPath); <span class="comment">//Assume Bitmap wasn&#39;t used.</span>
            <span class="keywordflow">if</span> (b != null) <span class="keywordflow">return</span> b;

            <span class="keywordtype">bool</span> useICM = <span class="keyword">true</span>;
            <span class="keywordflow">if</span> (settings != null &amp;&amp; <span class="stringliteral">&quot;true&quot;</span>.Equals(settings[<span class="stringliteral">&quot;ignoreicc&quot;</span>], StringComparison.OrdinalIgnoreCase)) useICM = <span class="keyword">false</span>;

            <span class="comment">//NDJ - May 24, 2011 - Copying stream into memory so the original can be closed safely.</span>
            MemoryStream ms = s.CopyToMemoryStream(); 
            b = <span class="keyword">new</span> Bitmap(ms, useICM); 
            b.Tag = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">BitmapTag</a>(optionalPath, ms); <span class="comment">//May 25, 2011: Storing a ref to the MemorySteam so it won&#39;t accidentally be garbage collected.</span>
            <span class="keywordflow">return</span> b;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ad3c48a100d8e661aec4dbb56783c8508"></a><!-- doxytag: member="ImageResizer::ImageBuilder::EndLayout" ref="ad3c48a100d8e661aec4dbb56783c8508" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#ad3c48a100d8e661aec4dbb56783c8508">ImageResizer.ImageBuilder.EndLayout</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.3(Layout).12: Occurs once layout has finished. No more changes should occur to points or rings in the layout after this method. destSize is calculated here. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ae7b0ecd36d59e8fbf0f9ccbaf749cf26">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00671">671</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (base.EndLayout(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//Calculates a bounding box around all the rings in the layout, then rounds that size. Creates a 1x1 pixel destSize value at minimum.</span>
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919" title="The size of the target bitmap image. Set after all sizing operations have completed.">destSize</a> = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a3bd9aa254e8639eb72e580d324f929b9" title="Rounds the elements of the specified array [not used].">RoundPoints</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_layout_builder.html#aa648f003522418c8c8a6677a62c1df4e" title="Gets a bounding box that encloses all rings that don&#39;t have ExcludeFromBoundingBox set...">GetBoundingBox</a>().Size);
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919" title="The size of the target bitmap image. Set after all sizing operations have completed.">destSize</a> = <span class="keyword">new</span> Size((<span class="keywordtype">int</span>)Math.Max(1, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919" title="The size of the target bitmap image. Set after all sizing operations have completed.">destSize</a>.Width), (int)Math.Max(1, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919" title="The size of the target bitmap image. Set after all sizing operations have completed.">destSize</a>.Height));
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="af7321daa43947075d5963a33f3473883"></a><!-- doxytag: member="ImageResizer::ImageBuilder::FlushChanges" ref="af7321daa43947075d5963a33f3473883" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#af7321daa43947075d5963a33f3473883">ImageResizer.ImageBuilder.FlushChanges</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.5(Render).17: Changes are flushed to the bitmap here and the graphics object is destroyed. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a49c8c02cfd568675f9ab8929f0cb94a2">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00827">827</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
            <span class="keywordflow">if</span> (base.FlushChanges(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a> == null) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
            <span class="comment">//Commit changes.</span>
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.Flush(FlushIntention.Flush);
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.Dispose();
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a> = null;
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ac0ad7c5f8e03ca9a50e6538677c3475d"></a><!-- doxytag: member="ImageResizer::ImageBuilder::GetFinalSize" ref="ac0ad7c5f8e03ca9a50e6538677c3475d" args="(Size originalSize, ResizeSettings q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Size <a class="el" href="class_image_resizer_1_1_image_builder.html#ac0ad7c5f8e03ca9a50e6538677c3475d">ImageResizer.ImageBuilder.GetFinalSize</a> </td>
          <td>(</td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>originalSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the final size of an image. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00879">879</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html" title="Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...">ImageState</a> s = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html" title="Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...">ImageState</a>(q, originalSize, <span class="keyword">true</span>);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a8e2f4b3bbf8bb38e54249490122ebb71" title="Processes an ImageState instance. Used by Build, GetFinalSize, and TranslatePoint. Can be overriden by a plugin with the OnProcess method.">Process</a>(s);
            <span class="keywordflow">return</span> s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f" title="The dimensions of the bitmap afer all operations have been applied to it (Calling FlipRotate can chan...">finalSize</a>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ab51799a036b1624f4e5d9c2aa2fcfa88"></a><!-- doxytag: member="ImageResizer::ImageBuilder::GetStreamFromSource" ref="ab51799a036b1624f4e5d9c2aa2fcfa88" args="(object source, ResizeSettings settings, ref bool disposeStream, out string path, out bool restoreStreamPosition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Stream <a class="el" href="class_image_resizer_1_1_image_builder.html#ab51799a036b1624f4e5d9c2aa2fcfa88">ImageResizer.ImageBuilder.GetStreamFromSource</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ref bool&#160;</td>
          <td class="paramname"><em>disposeStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out bool&#160;</td>
          <td class="paramname"><em>restoreStreamPosition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For plugin use only. Returns a stream instance from the specified source object and settings object. To exend this method, override GetStream. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The physical or app-relative path, or a VirtualFile, IVirtualFile, Stream, HttpPostedFile, or HttpPostedFileBase instance.</td></tr>
    <tr><td class="paramname">settings</td><td>Querystring settings to pass to the VirtualFileProvider</td></tr>
    <tr><td class="paramname">disposeStream</td><td>You should externally initialize this to true, unless the user-provided 'source' is a Stream instance. Will be set to false for HttpPostedFile and HttpPostedFileBase instances, so they can be reused. </td></tr>
    <tr><td class="paramname">path</td><td>The physical or virtual path associated with the stream (if present). Otherwise null</td></tr>
    <tr><td class="paramname">restoreStreamPosition</td><td>True if you should save and restore the seek position of the stream. True for HttpPostedFile and HttpPostedFileBase instances. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00222">222</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_image_builder_8cs_source.html#l00114">ImageResizer.ImageBuilder.LoadImage()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                                                           {
            <span class="keywordflow">if</span> (source == null) <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="stringliteral">&quot;source&quot;</span>, <span class="stringliteral">&quot;The source argument cannot be null; how do you load an image from a null value?&quot;</span>);
            <span class="keywordflow">if</span> (settings == null) settings = <span class="keyword">new</span> ResizeSettings();

            <span class="comment">//Allow plugins to extend this</span>
            <span class="keywordtype">bool</span> disposeS = disposeStream;
            Stream s = base.GetStream(source, settings, ref disposeS, out path, out restoreStreamPosition);
            <span class="keywordflow">if</span> (s != null) {
                disposeStream = disposeS;
                <span class="keywordflow">return</span> s;
            }

            <span class="comment">//App-relative path - converted to virtual path</span>
            <span class="keywordflow">if</span> (source is <span class="keywordtype">string</span>) {
                path = source as string;
                <span class="comment">//Convert app-relative paths to VirtualFile instances</span>
                <span class="keywordflow">if</span> (path.StartsWith(<span class="stringliteral">&quot;~&quot;</span>, StringComparison.OrdinalIgnoreCase)) {
                    source = this.<a class="code" href="class_image_resizer_1_1_image_builder.html#a391309229993353e75f82223cdf0323f" title="Provides a resolution service for app-relative URLs.">VirtualFileProvider</a>.<a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html#aa3bb3191e4ed5cbf957c961d607d611b" title="Returns a virtual file instance for the specified path and querystring.">GetFile</a>(<a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html" title="A set of utility methods for manipulating virtual paths.">PathUtils</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#adafb4cd7d85a3567782842873c1a5176" title="Resolves app-relative paths to virtual paths. Does nothing with virtual or relative paths...">ResolveAppRelative</a>(path), settings);
                    <span class="keywordflow">if</span> (source == null) <span class="keywordflow">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="stringliteral">&quot;The specified virtual file could not be found.&quot;</span>, <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html" title="A set of utility methods for manipulating virtual paths.">PathUtils</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#adafb4cd7d85a3567782842873c1a5176" title="Resolves app-relative paths to virtual paths. Does nothing with virtual or relative paths...">ResolveAppRelative</a>(path));
                }
            }

            path = null;
            restoreStreamPosition = <span class="keyword">false</span>;
            <span class="comment">//Stream</span>
            <span class="keywordflow">if</span> (source is Stream) {
                s = (Stream)source;
            }
                <span class="comment">//VirtualFile</span>
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (source is System.Web.Hosting.VirtualFile) {
                path = ((System.Web.Hosting.VirtualFile)source).<a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file.html#a15340f8f7cfedacf7d10f8aa9f037b22" title="The virtual path of the file (relative to the domain, like /app/folder/file.ext)">VirtualPath</a>;
                s = ((System.Web.Hosting.VirtualFile)source).Open();
                <span class="comment">//IVirtualFile</span>
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (source is <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file.html" title="A virtual file to support IVirtualImageProvider.">IVirtualFile</a>) {
                path = ((IVirtualFile)source).VirtualPath;
                s = ((IVirtualFile)source).Open();
                <span class="comment">//PhysicalPath</span>
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (source is <span class="keywordtype">string</span>) {
                path = (string)source;
                s = File.Open(path, FileMode.Open, FileAccess.Read, FileShare.Read);
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (source is byte[]) {
                s = <span class="keyword">new</span> MemoryStream((byte[])source, 0, ((byte[])source).Length, <span class="keyword">false</span>, <span class="keyword">true</span>);
            } <span class="keywordflow">else</span> {
                <span class="comment">//For HttpPostedFile and HttpPostedFileBase - we must use reflection to support .NET 3.5 without losing 2.0 compat.</span>
                PropertyInfo pname = source.GetType().GetProperty(<span class="stringliteral">&quot;FileName&quot;</span>, typeof(<span class="keywordtype">string</span>));
                PropertyInfo pstream = source.GetType().GetProperty(<span class="stringliteral">&quot;InputStream&quot;</span>);

                <span class="keywordflow">if</span> (pname != null &amp;&amp; pstream != null) {
                    path = pname.GetValue(source, null) as string;
                    s = pstream.GetValue(source, null) as Stream;
                    disposeStream = <span class="keyword">false</span>; <span class="comment">//We never want to dispose the HttpPostedFile or HttpPostedFileBase streams..</span>
                    restoreStreamPosition = <span class="keyword">true</span>;
                }

                <span class="keywordflow">if</span> (s == null) <span class="keywordflow">return</span> null;
            }


            <span class="keywordflow">try</span> {

                <span class="keywordflow">if</span> (s != null &amp;&amp; s.Length &lt;= s.Position &amp;&amp; s.Position &gt; 0)
                    <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageProcessingException(<span class="stringliteral">&quot;The source stream is at the end (have you already read it?). You must call stream.Seek(0, SeekOrigin.Begin); before re-using a stream, or use ImageJob with ResetSourceStream=true the first time the stream is read.&quot;</span>);

                <span class="keywordflow">if</span> (s != null &amp;&amp; s.Length == 0)
                    <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageProcessingException(<span class="stringliteral">&quot;Source stream is empty; it has a length of 0. No bytes, no data. We can&#39;t work with this.&quot;</span>);

            } <span class="keywordflow">catch</span> (NotSupportedException) {
            }

            <span class="keywordflow">return</span> s;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a303922cae5567e1e58462695000ec705"></a><!-- doxytag: member="ImageResizer::ImageBuilder::GetSupportedFileExtensions" ref="a303922cae5567e1e58462695000ec705" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual IEnumerable&lt;string&gt; <a class="el" href="class_image_resizer_1_1_image_builder.html#a303922cae5567e1e58462695000ec705">ImageResizer.ImageBuilder.GetSupportedFileExtensions</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a list of the file extensions <a class="el" href="class_image_resizer_1_1_image_builder.html" title="Provides methods for generating resized images, and for reading and writing them to disk...">ImageBuilder</a> can load by default. <a class="el" href="namespace_image_resizer_1_1_plugins.html">Plugins</a> can implement IFileExtensionPlugin to add new ones. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_file_extension_plugin.html#a53672fd2aee854a01f313f099c95b330">ImageResizer.Plugins.IFileExtensionPlugin</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l01054">1054</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_pipeline_config_8cs_source.html#l00047">ImageResizer.Configuration.PipelineConfig._cacheUrlData()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {
            <span class="keywordflow">return</span> _supportedFileExtensions;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a4d055522b14dc97d8edf5eb8ec3a1296"></a><!-- doxytag: member="ImageResizer::ImageBuilder::GetSupportedQuerystringKeys" ref="a4d055522b14dc97d8edf5eb8ec3a1296" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual IEnumerable&lt;string&gt; <a class="el" href="class_image_resizer_1_1_image_builder.html#a4d055522b14dc97d8edf5eb8ec3a1296">ImageResizer.ImageBuilder.GetSupportedQuerystringKeys</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a list of the querystring commands <a class="el" href="class_image_resizer_1_1_image_builder.html" title="Provides methods for generating resized images, and for reading and writing them to disk...">ImageBuilder</a> can parse by default. <a class="el" href="namespace_image_resizer_1_1_plugins.html">Plugins</a> can implement IQuerystringPlugin to add new ones. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin.html#aaa1c43be9b92caf1f1caa81dc9e9f4bf">ImageResizer.Plugins.IQuerystringPlugin</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l01071">1071</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_pipeline_config_8cs_source.html#l00047">ImageResizer.Configuration.PipelineConfig._cacheUrlData()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                         {
            <span class="keywordflow">return</span> _supportedQuerystringKeys;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ab0e7f7482b1ed782c4c522ca02d004f7"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Layout" ref="ab0e7f7482b1ed782c4c522ca02d004f7" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7">ImageResizer.ImageBuilder.Layout</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.3: Handles the layout phase of Processing. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a2cdd9a7fcb0eb6beb59fc717537c1ba3">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00516">516</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                {
            <span class="keywordflow">if</span> (base.Layout(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel;
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a5e94c1414ba792ae6689bf2fbb1f7e2c" title="Process.3(Layout).1: This is where the points in the layout are flipped the same way the source bitma...">FlipExistingPoints</a>(s); <span class="comment">//Not implemented</span>
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a0649c6799567d75a2f0c46d3cd0f6196" title="Populates copyRect, as well as Rings image and imageArea. Translates and scales any existing rings as...">LayoutImage</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a544a3bf1d48ed6c5e7d8bec650cd0f9d" title="Process.3(Layout).3: Add rings here to insert them between the image area and the padding...">PostLayoutImage</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a9e22edc2ecc338cf2cc0e2b599d3ba01" title="Process.3(Layout).4: Ring &quot;padding&quot; is added to the layout.">LayoutPadding</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a696149f4844c8ad24faac37e701138e2" title="Process.3(Layout).5: Add rings here to insert them between the padding and the border.">PostLayoutPadding</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#ace292d7e6b4cf7093d00f2c8d3ea52d7" title="Process.3(Layout).6: Ring &quot;border&quot; is added to the layout.">LayoutBorder</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ac2f96a3a43b3c7223f6eaf5067128f54" title="Process.3(Layout).7: Add rings here to insert them between the border and the effect rings...">PostLayoutBorder</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a4adb0a25b8e3e72b0dcd3ddb17d0f1aa" title="Process.3(Layout).8: Effects such as &#39;shadow&#39; are added here.">LayoutEffects</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ad57e0be78a8590979e1fbb97d3ab908b" title="Process.3(Layout).9: Add rings here to insert them between the effects and the margin.">PostLayoutEffects</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a5226d94222273bd96dad169ad1d5bec0" title="Process.3(Layout).10: Margins are added to the layout.">LayoutMargin</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a61db0e28cc08d480dc8393c68ce8244c" title="Process.3(Layout).11: Add rings here to insert them around the margin. Rings will be outermost...">PostLayoutMargin</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#ad7d2c54cc300e532a28e76a34de35186" title="Process.3(Layout).anytime: Occurs when the layout is rotated. May be called anytime during Layout()...">LayoutRotate</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a0952b1b7e6c9a43abb86f17daaa03032" title="Process.3(Layout).anytime: Occurs after the layout is rotated. May be called anytime during Layout()...">PostLayoutRotate</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#ad4e099c55af7db2a764bf7429e0c1c7f" title="Process.3(Layout).anytime: Occurs when the layout is normalized to 0,0. May be called anytime during ...">LayoutNormalize</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a5a9f19293a122c856931233451d530a9" title="Process.3(Layout).anytime: Occurs after the layout is normalized. May be called anytime during Layout...">PostLayoutNormalize</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a251f5ddd07226dbc98abec4673afa07e" title="Process.3(Layout).anytime: Occurs when the layout point values are rounded to integers. May be called anytime during Layout()">LayoutRound</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#af6ba81f3ba8f01c06dfaffa70c718b7f" title="Process.3(Layout).anytime: Occurs after the layout point values are rounded to integers. May be called anytime during Layout()">PostLayoutRound</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#ad3c48a100d8e661aec4dbb56783c8508" title="Process.3(Layout).12: Occurs once layout has finished. No more changes should occur to points or ring...">EndLayout</a>(s);
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ace292d7e6b4cf7093d00f2c8d3ea52d7"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LayoutBorder" ref="ace292d7e6b4cf7093d00f2c8d3ea52d7" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#ace292d7e6b4cf7093d00f2c8d3ea52d7">ImageResizer.ImageBuilder.LayoutBorder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.3(Layout).6: Ring "border" is added to the layout. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a2a8e4341f18a4b1c7a4800c71fb3ccd9">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00635">635</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
            <span class="keywordflow">if</span> (base.LayoutBorder(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//And borders</span>
            if (!s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a4b1353db785a5d82397ed82641f05e0d" title="Returns true if th.">IsEmpty</a>) {
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.AddRing(<span class="stringliteral">&quot;border&quot;</span>, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>);
            }
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a0649c6799567d75a2f0c46d3cd0f6196"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LayoutImage" ref="a0649c6799567d75a2f0c46d3cd0f6196" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a0649c6799567d75a2f0c46d3cd0f6196">ImageResizer.ImageBuilder.LayoutImage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Populates copyRect, as well as Rings image and imageArea. Translates and scales any existing rings as if they existed on the original bitmap. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a6eb1f023fce8205261fc10b2b4a58941">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00895">895</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                     {
            <span class="keywordflow">if</span> (base.LayoutImage(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//Use the crop size if present.</span>
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a> = <span class="keyword">new</span> RectangleF(<span class="keyword">new</span> PointF(0,0),s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>);
            <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.GetList&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;crop&quot;</span>, 0, 4) != null) {
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a> = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a61b50db80ba6c732565d07ef6163c0a0" title="Rounds a floating-point rectangle to an integer rectangle using System.Round.">ToRectangle</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.getCustomCropSourceRect(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>)); <span class="comment">//Round the custom crop rectangle coordinates</span>
                <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a>.Size.IsEmpty) <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;You must specify a custom crop rectange if crop=custom&quot;</span>);
            }
            <span class="comment">//Save the manual crop size.</span>
            SizeF manualCropSize = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0a8e5171b83599382074f3462944c4dd" title="(read-only) Same as copyRect.Size, convenience property.">copySize</a>;
            RectangleF manualCropRect = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a>;

            <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a> fit = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a>;
            <span class="comment">//Determine fit mode to use if both vertical and horizontal limits are used.</span>
            <span class="keywordflow">if</span> (fit == <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.None){
                <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a80001d573cec108c39e5376f6d854993" title="[&quot;width&quot;]: Sets the desired width of the image. (minus padding, borders, margins, effects, and rotation). The only instance the resulting image will be smaller is if the original source image is smaller. Set Scale=Both to upscale these images and ensure the output always matches &#39;width&#39; and &#39;height&#39;. If both width and height are specified, the image will be &#39;letterboxed&#39; to match the desired aspect ratio. Change the Mode property to adjust this behavior.">Width</a> != -1 || s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a7145aef3affc3244969cad8841359e3f" title="[&quot;height&quot;]: Sets the desired height of the image. (minus padding, borders, margins, effects, and rotation) The only instance the resulting image will be smaller is if the original source image is smaller. Set Scale=Both to upscale these images and ensure the output always matches &#39;width&#39; and &#39;height&#39;. If both width and height are specified, the image will be &#39;letterboxed&#39; to match the desired aspect ratio. Change the Mode property to adjust this behavior.">Height</a> != -1){

                    <span class="keywordflow">if</span> (<span class="stringliteral">&quot;fill&quot;</span>.Equals(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;stretch&quot;</span>], StringComparison.OrdinalIgnoreCase)) fit = <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Stretch;
                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="stringliteral">&quot;auto&quot;</span>.Equals(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;crop&quot;</span>], StringComparison.OrdinalIgnoreCase)) fit = <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Crop;
                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;carve&quot;</span>]) 
                        &amp;&amp; !<span class="stringliteral">&quot;false&quot;</span>.Equals(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;carve&quot;</span>], StringComparison.OrdinalIgnoreCase)
                        &amp;&amp; !<span class="stringliteral">&quot;none&quot;</span>.Equals(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;carve&quot;</span>], StringComparison.OrdinalIgnoreCase)) fit = <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Carve;
                    <span class="keywordflow">else</span> fit = <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Pad;
                }<span class="keywordflow">else</span>{
                    fit = <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Max;
                }

            }
            



            <span class="comment">//Aspect ratio of the image</span>
            <span class="keywordtype">double</span> imageRatio = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0a8e5171b83599382074f3462944c4dd" title="(read-only) Same as copyRect.Size, convenience property.">copySize</a>.Width / s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0a8e5171b83599382074f3462944c4dd" title="(read-only) Same as copyRect.Size, convenience property.">copySize</a>.Height;

            <span class="comment">//Zoom factor</span>
            <span class="keywordtype">double</span> zoom = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.Get&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;zoom&quot;</span>, 1);

            <span class="comment">//The target size for the image </span>
            SizeF targetSize = <span class="keyword">new</span> SizeF(-1, -1);
            <span class="comment">//Target area for the image</span>
            SizeF areaSize = <span class="keyword">new</span> SizeF(-1, -1);
            <span class="comment">//If any dimensions are specified, calculate. Otherwise, use original image dimensions</span>
            <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a80001d573cec108c39e5376f6d854993" title="[&quot;width&quot;]: Sets the desired width of the image. (minus padding, borders, margins, effects, and rotation). The only instance the resulting image will be smaller is if the original source image is smaller. Set Scale=Both to upscale these images and ensure the output always matches &#39;width&#39; and &#39;height&#39;. If both width and height are specified, the image will be &#39;letterboxed&#39; to match the desired aspect ratio. Change the Mode property to adjust this behavior.">Width</a> != -1 || s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a7145aef3affc3244969cad8841359e3f" title="[&quot;height&quot;]: Sets the desired height of the image. (minus padding, borders, margins, effects, and rotation) The only instance the resulting image will be smaller is if the original source image is smaller. Set Scale=Both to upscale these images and ensure the output always matches &#39;width&#39; and &#39;height&#39;. If both width and height are specified, the image will be &#39;letterboxed&#39; to match the desired aspect ratio. Change the Mode property to adjust this behavior.">Height</a> != -1 || s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a16d3547dfb87d598876fb64e54c0a938" title="[&quot;maxheight&quot;]: Sets the maximum desired height of the image. (minus padding, borders, margins, effects, and rotation). The image may be smaller than this value to maintain aspect ratio when both maxwidth and maxheight are specified.">MaxHeight</a> != -1 || s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a80fd5f97f3264009aa2c2648bb1379d7" title="[&quot;maxwidth&quot;]: Sets the maximum desired width of the image. (minus padding, borders, margins, effects, and rotation). The image may be smaller than this value to maintain aspect ratio when both maxwidth and maxheight are specified.">MaxWidth</a> != -1) {
                <span class="comment">//A dimension was specified. </span>
                <span class="comment">//We first calculate the largest size the image can be under the width/height/maxwidth/maxheight restrictions.</span>
                <span class="comment">//- pretending stretch=fill and scale=both</span>

                <span class="comment">//Temp vars - results stored in targetSize and areaSize</span>
                <span class="keywordtype">double</span> width = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a80001d573cec108c39e5376f6d854993" title="[&quot;width&quot;]: Sets the desired width of the image. (minus padding, borders, margins, effects, and rotation). The only instance the resulting image will be smaller is if the original source image is smaller. Set Scale=Both to upscale these images and ensure the output always matches &#39;width&#39; and &#39;height&#39;. If both width and height are specified, the image will be &#39;letterboxed&#39; to match the desired aspect ratio. Change the Mode property to adjust this behavior.">Width</a>;
                <span class="keywordtype">double</span> height = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a7145aef3affc3244969cad8841359e3f" title="[&quot;height&quot;]: Sets the desired height of the image. (minus padding, borders, margins, effects, and rotation) The only instance the resulting image will be smaller is if the original source image is smaller. Set Scale=Both to upscale these images and ensure the output always matches &#39;width&#39; and &#39;height&#39;. If both width and height are specified, the image will be &#39;letterboxed&#39; to match the desired aspect ratio. Change the Mode property to adjust this behavior.">Height</a>;
                <span class="keywordtype">double</span> maxwidth = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a80fd5f97f3264009aa2c2648bb1379d7" title="[&quot;maxwidth&quot;]: Sets the maximum desired width of the image. (minus padding, borders, margins, effects, and rotation). The image may be smaller than this value to maintain aspect ratio when both maxwidth and maxheight are specified.">MaxWidth</a>;
                <span class="keywordtype">double</span> maxheight = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a16d3547dfb87d598876fb64e54c0a938" title="[&quot;maxheight&quot;]: Sets the maximum desired height of the image. (minus padding, borders, margins, effects, and rotation). The image may be smaller than this value to maintain aspect ratio when both maxwidth and maxheight are specified.">MaxHeight</a>;

                <span class="comment">//Eliminate cases where both a value and a max value are specified: use the smaller value for the width/height </span>
                <span class="keywordflow">if</span> (maxwidth &gt; 0 &amp;&amp; width &gt; 0) {   width = Math.Min(maxwidth, width);    maxwidth = -1;  }
                <span class="keywordflow">if</span> (maxheight &gt; 0 &amp;&amp; height &gt; 0) { height = Math.Min(maxheight, height); maxheight = -1; }

                <span class="comment">//Handle cases of width/maxheight and height/maxwidth as in legacy versions. </span>
                <span class="keywordflow">if</span> (width != -1 &amp;&amp; maxheight != -1) maxheight = Math.Min(maxheight, (width / imageRatio));
                <span class="keywordflow">if</span> (height != -1 &amp;&amp; maxwidth != -1) maxwidth = Math.Min(maxwidth, (height * imageRatio));


                <span class="comment">//Move max values to width/height. FitMode should already reflect the mode we are using, and we&#39;ve already resolved mixed modes above.</span>
                width = Math.Max(width, maxwidth);
                height = Math.Max(height, maxheight);

                <span class="comment">//Calculate missing value (a missing value is handled the same everywhere). </span>
                <span class="keywordflow">if</span> (width &gt; 0 &amp;&amp; height &lt;= 0) height = width/ imageRatio;
                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (height &gt; 0 &amp;&amp; width &lt;= 0) width = height * imageRatio;

                <span class="comment">//We now have width &amp; height, our target size. It will only be a different aspect ratio from the image if both &#39;width&#39; and &#39;height&#39; are specified.</span>

                <span class="comment">//FitMode.Max</span>
                <span class="keywordflow">if</span> (fit == <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Max) {
                    areaSize = targetSize = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a0495fc6849c286b9f880c900d1b66e7d" title="Scales &#39;inner&#39; to fit inside &#39;bounding&#39; while maintaining aspect ratio. Upscales and downscales...">ScaleInside</a>(manualCropSize, <span class="keyword">new</span> SizeF((<span class="keywordtype">float</span>)width, (<span class="keywordtype">float</span>)height));
                <span class="comment">//FitMode.Pad</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fit == <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Pad) {
                    areaSize = <span class="keyword">new</span> SizeF((<span class="keywordtype">float</span>)width, (<span class="keywordtype">float</span>)height);
                    targetSize = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a0495fc6849c286b9f880c900d1b66e7d" title="Scales &#39;inner&#39; to fit inside &#39;bounding&#39; while maintaining aspect ratio. Upscales and downscales...">ScaleInside</a>(manualCropSize, areaSize);
                <span class="comment">//FitMode.crop</span>
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fit == <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Crop) {
                    <span class="comment">//We autocrop - so both target and area match the requested size</span>
                    areaSize = targetSize = <span class="keyword">new</span> SizeF((<span class="keywordtype">float</span>)width, (<span class="keywordtype">float</span>)height);
                    <span class="comment">//Determine the size of the area we are copying</span>
                    Size sourceSize = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a3bd9aa254e8639eb72e580d324f929b9" title="Rounds the elements of the specified array [not used].">RoundPoints</a>(<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a0495fc6849c286b9f880c900d1b66e7d" title="Scales &#39;inner&#39; to fit inside &#39;bounding&#39; while maintaining aspect ratio. Upscales and downscales...">ScaleInside</a>(areaSize, manualCropSize)); 
                    <span class="comment">//Center the portion we are copying within the manualCropSize</span>
                    s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a> = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a61b50db80ba6c732565d07ef6163c0a0" title="Rounds a floating-point rectangle to an integer rectangle using System.Round.">ToRectangle</a>(<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#ac55469f83724581600d27eabd617c582" title="Aligns the specified rectangle object with its reference (&#39;container&#39;) rectangle using the specified ...">AlignWith</a>(<span class="keyword">new</span> RectangleF(0, 0, sourceSize.Width, sourceSize.Height), s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a>, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a753bf2d269715c21237d0786255167ad" title="How to anchor the image when cropping or adding whitespace to meet sizing requirements.">Anchor</a>));

                } <span class="keywordflow">else</span> { <span class="comment">//Stretch and carve both act like stretching, so do that:</span>
                    areaSize = targetSize = <span class="keyword">new</span> SizeF((<span class="keywordtype">float</span>)width, (<span class="keywordtype">float</span>)height);
                }


            }<span class="keywordflow">else</span>{
                <span class="comment">//No dimensions specified, no fit mode needed. Use manual crop dimensions</span>
                areaSize = targetSize = manualCropSize; 
            }

            <span class="comment">//Multiply both areaSize and targetSize by zoom. </span>
            areaSize.Width *= (float)zoom;
            areaSize.Height *= (float)zoom;
            targetSize.Width *= (float)zoom;
            targetSize.Height *= (float)zoom;
                
            <span class="comment">//Now do upscale/downscale checks. If they take effect, set targetSize to imageSize</span>
            <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae7fc16e795fb8ebf6423f3df628dc404" title="[&quot;scale&quot;] Whether to downscale, upscale, upscale the canvas, or both upscale or downscale the image a...">Scale</a> == <a class="code" href="namespace_image_resizer.html#aca52f6f1e90c78a5e5e79c6d709a571c" title="Controls whether the image is allowed to upscale, downscale, both, or if only the canvas gets to be u...">ScaleMode</a>.DownscaleOnly) {
                <span class="keywordflow">if</span> (<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a98c83ada594ba88b34d97d26176f8ada" title="Returns true if &#39;inner&#39; fits inside or equals &#39;outer&#39;.">FitsInside</a>(manualCropSize, targetSize)) {
                    <span class="comment">//The image is smaller or equal to its target polygon. Use original image coordinates instead.</span>
                    areaSize = targetSize = manualCropSize;
                    s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a> = manualCropRect;
                }
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae7fc16e795fb8ebf6423f3df628dc404" title="[&quot;scale&quot;] Whether to downscale, upscale, upscale the canvas, or both upscale or downscale the image a...">Scale</a> == <a class="code" href="namespace_image_resizer.html#aca52f6f1e90c78a5e5e79c6d709a571c" title="Controls whether the image is allowed to upscale, downscale, both, or if only the canvas gets to be u...">ScaleMode</a>.UpscaleOnly) {
                <span class="keywordflow">if</span> (!<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a98c83ada594ba88b34d97d26176f8ada" title="Returns true if &#39;inner&#39; fits inside or equals &#39;outer&#39;.">FitsInside</a>(manualCropSize, targetSize)) {
                    <span class="comment">//The image is larger than its target. Use original image coordintes instead</span>
                    areaSize = targetSize = manualCropSize;
                    s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a> = manualCropRect;
                }
            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae7fc16e795fb8ebf6423f3df628dc404" title="[&quot;scale&quot;] Whether to downscale, upscale, upscale the canvas, or both upscale or downscale the image a...">Scale</a> == <a class="code" href="namespace_image_resizer.html#aca52f6f1e90c78a5e5e79c6d709a571c" title="Controls whether the image is allowed to upscale, downscale, both, or if only the canvas gets to be u...">ScaleMode</a>.UpscaleCanvas) {
                <span class="comment">//Same as downscaleonly, except areaSize isn&#39;t changed.</span>
                <span class="keywordflow">if</span> (<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a98c83ada594ba88b34d97d26176f8ada" title="Returns true if &#39;inner&#39; fits inside or equals &#39;outer&#39;.">FitsInside</a>(manualCropSize, targetSize)) {
                    <span class="comment">//The image is smaller or equal to its target polygon. Use original image coordinates instead.</span>

                    targetSize = manualCropSize;
                    s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a> = manualCropRect;
                }
            }


            <span class="comment">//May 12: require max dimension and round values to minimize rounding differences later.</span>
            areaSize.Width = Math.Max(1, (<span class="keywordtype">float</span>)Math.Round(areaSize.Width));
            areaSize.Height = Math.Max(1, (<span class="keywordtype">float</span>)Math.Round(areaSize.Height));
            targetSize.Width = Math.Max(1, (<span class="keywordtype">float</span>)Math.Round(targetSize.Width));
            targetSize.Height = Math.Max(1, (<span class="keywordtype">float</span>)Math.Round(targetSize.Height));
            

            <span class="comment">//Translate and scale all existing rings</span>
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_layout_builder.html#a69742c38ab6136c7ef2978d8d2bec5b0" title="Translates and scales all rings and invisible polygons as specified.">Shift</a>(<span class="keyword">new</span> RectangleF(0, 0, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Width, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Height), <span class="keyword">new</span> RectangleF(<span class="keyword">new</span> Point(0, 0), targetSize));

            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.AddRing(<span class="stringliteral">&quot;image&quot;</span>, <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#ac49aeb808917493b95d26e6e36183285" title="Returns a clockwise array of points on the rectangle. Point 0 is top-left.">ToPoly</a>(<span class="keyword">new</span> RectangleF(<span class="keyword">new</span> PointF(0, 0), targetSize)));

            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.AddRing(<span class="stringliteral">&quot;imageArea&quot;</span>,<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#ac49aeb808917493b95d26e6e36183285" title="Returns a clockwise array of points on the rectangle. Point 0 is top-left.">ToPoly</a>(<span class="keyword">new</span> RectangleF(<span class="keyword">new</span> PointF(0, 0), areaSize)));

            <span class="comment">//Center imageArea around &#39;image&#39;</span>
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;imageArea&quot;</span>] = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#ac55469f83724581600d27eabd617c582" title="Aligns the specified rectangle object with its reference (&#39;container&#39;) rectangle using the specified ...">AlignWith</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;imageArea&quot;</span>], s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>], s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a753bf2d269715c21237d0786255167ad" title="How to anchor the image when cropping or adding whitespace to meet sizing requirements.">Anchor</a>);

            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a5226d94222273bd96dad169ad1d5bec0"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LayoutMargin" ref="a5226d94222273bd96dad169ad1d5bec0" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a5226d94222273bd96dad169ad1d5bec0">ImageResizer.ImageBuilder.LayoutMargin</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.3(Layout).10: Margins are added to the layout. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a471f35159df65629b151438a198dd79e">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00625">625</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
            <span class="keywordflow">if</span> (base.LayoutMargin(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//We need to add padding</span>
            if (!s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a743f51d8ee756c4f82c679bac685016d" title="[&quot;margin&quot;]: Gets/sets the width(s) of the margin outside the image border and effects.">Margin</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a4b1353db785a5d82397ed82641f05e0d" title="Returns true if th.">IsEmpty</a>) {
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.AddRing(<span class="stringliteral">&quot;margin&quot;</span>, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a743f51d8ee756c4f82c679bac685016d" title="[&quot;margin&quot;]: Gets/sets the width(s) of the margin outside the image border and effects.">Margin</a>);
            }
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ad4e099c55af7db2a764bf7429e0c1c7f"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LayoutNormalize" ref="ad4e099c55af7db2a764bf7429e0c1c7f" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#ad4e099c55af7db2a764bf7429e0c1c7f">ImageResizer.ImageBuilder.LayoutNormalize</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.3(Layout).anytime: Occurs when the layout is normalized to 0,0. May be called anytime during <a class="el" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7" title="Process.3: Handles the layout phase of Processing.">Layout()</a> </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a3b369991925e690ad623e78779f2f17b">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00662">662</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (base.LayoutNormalize(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>
            <span class="comment">//Normalize all the rings</span>
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_layout_builder.html#a051b209e5c0d4a59998c266d79a1daa2" title="Normalizes all rings and invisible polygons so that the outermost ring&#39;s bounding box starts at the s...">Normalize</a>(<span class="keyword">new</span> PointF(0, 0));
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a9e22edc2ecc338cf2cc0e2b599d3ba01"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LayoutPadding" ref="a9e22edc2ecc338cf2cc0e2b599d3ba01" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a9e22edc2ecc338cf2cc0e2b599d3ba01">ImageResizer.ImageBuilder.LayoutPadding</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.3(Layout).4: Ring "padding" is added to the layout. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#adf744877c2819644d8350f1af149a491">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00615">615</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                       {
            <span class="keywordflow">if</span> (base.LayoutPadding(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//We need to add padding</span>
            if (!s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ab477264bc4feaa672b217f44dc6d3531" title="[&quot;paddingWidth&quot;]: Gets/sets the width(s) of padding inside the image border.">Padding</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a4b1353db785a5d82397ed82641f05e0d" title="Returns true if th.">IsEmpty</a>) {
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.AddRing(<span class="stringliteral">&quot;padding&quot;</span>,  s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ab477264bc4feaa672b217f44dc6d3531" title="[&quot;paddingWidth&quot;]: Gets/sets the width(s) of padding inside the image border.">Padding</a>);
            }
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ad7d2c54cc300e532a28e76a34de35186"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LayoutRotate" ref="ad7d2c54cc300e532a28e76a34de35186" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#ad7d2c54cc300e532a28e76a34de35186">ImageResizer.ImageBuilder.LayoutRotate</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.3(Layout).anytime: Occurs when the layout is rotated. May be called anytime during <a class="el" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7" title="Process.3: Handles the layout phase of Processing.">Layout()</a> </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a4afd3b383cbfb56966218c7e977dc993">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00655">655</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (base.LayoutRotate(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>
            <span class="comment">//Now, rotate all rings.</span>
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_layout_builder.html#a90faf403e3c1fad5e4ff80aec2605518" title="Rotates all existing rings (Except those flagged ignore)">Rotate</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#af0a73e8db4a3e4e40f0564d0dca29833" title="[&quot;rotate&quot;] The degress to rotate the image clockwise. -360 to 360.">Rotate</a>, <span class="keyword">new</span> PointF(0, 0));
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a251f5ddd07226dbc98abec4673afa07e"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LayoutRound" ref="a251f5ddd07226dbc98abec4673afa07e" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a251f5ddd07226dbc98abec4673afa07e">ImageResizer.ImageBuilder.LayoutRound</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.3(Layout).anytime: Occurs when the layout point values are rounded to integers. May be called anytime during <a class="el" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7" title="Process.3: Handles the layout phase of Processing.">Layout()</a> </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a6b00e29976e73ab088ef90f6638f82be">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00647">647</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (base.LayoutRound(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>
            <span class="comment">//Todo, round points here.</span>
            <span class="comment">//s.layout.Round();</span>
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a185dcaa809670c427788a45539f2f1f3"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LoadImage" ref="a185dcaa809670c427788a45539f2f1f3" args="(object source, ResizeSettings settings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Bitmap <a class="el" href="class_image_resizer_1_1_image_builder.html#a185dcaa809670c427788a45539f2f1f3">ImageResizer.ImageBuilder.LoadImage</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Loads a Bitmap from the specified source. If a filename is available, it will be attached to bitmap.Tag in a BitmapTag instance. The Bitmap.Tag.Path value may be a virtual, relative, UNC, windows, or unix path. Does not dispose 'source' if it is a Stream or Image instance - that's the responsibility of the calling code. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>May be an instance of string, VirtualFile, IVirtualFile IVirtualBitmapFile, HttpPostedFile, Bitmap, Image, or Stream. If passed an Image instance, the image will be cloned, which will cause metadata, indexed state, and any additional frames to be lost. Accepts physical paths and application relative paths. (C:\... and ~/path) </td></tr>
    <tr><td class="paramname">settings</td><td>Will ignore ICC profile if ?ignoreicc=true.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Bitmap. The .Tag property will include a BitmapTag instance. If .Tag.Source is not null, remember to dispose it when you dispose the Bitmap.</dd></dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00103">103</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_image_layer_8cs_source.html#l00061">ImageResizer.Plugins.Watermark.ImageLayer.GetMemCachedBitmap()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                {
            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_image_builder.html#a185dcaa809670c427788a45539f2f1f3" title="Loads a Bitmap from the specified source. If a filename is available, it will be attached to bitmap...">LoadImage</a>(source, settings, <span class="keyword">false</span>);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a17a976acd6935ca64f88b54332a00c2d"></a><!-- doxytag: member="ImageResizer::ImageBuilder::LoadImage" ref="a17a976acd6935ca64f88b54332a00c2d" args="(object source, ResizeSettings settings, bool restoreStreamPos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Bitmap <a class="el" href="class_image_resizer_1_1_image_builder.html#a185dcaa809670c427788a45539f2f1f3">ImageResizer.ImageBuilder.LoadImage</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>restoreStreamPos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Loads a Bitmap from the specified source. If a filename is available, it will be attached to bitmap.Tag in a BitmapTag instance. The Bitmap.Tag.Path value may be a virtual, relative, UNC, windows, or unix path. Does not dispose 'source' if it is a Stream or Image instance - that's the responsibility of the calling code. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>May be an instance of string, VirtualFile, IVirtualFile IVirtualBitmapFile, HttpPostedFile, Bitmap, Image, or Stream. If passed an Image instance, the image will be cloned, which will cause metadata, indexed state, and any additional frames to be lost. Accepts physical paths and application relative paths. (C:\... and ~/path) </td></tr>
    <tr><td class="paramname">settings</td><td>Will ignore ICC profile if ?ignoreicc=true.</td></tr>
    <tr><td class="paramname">restoreStreamPos</td><td>If true, the position of the source stream will be restored after being read</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Bitmap. The .Tag property will include a BitmapTag instance. If .Tag.Source is not null, remember to dispose it when you dispose the Bitmap.</dd></dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00114">114</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                      {
            <span class="keywordflow">if</span> (source == null) <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="stringliteral">&quot;source&quot;</span>, <span class="stringliteral">&quot;The source argument cannot be null; how do you load an image from a null value?&quot;</span>);

            <span class="keywordtype">bool</span> disposeStream = !(source is Stream);
            <span class="keywordtype">string</span> path = null;

            <span class="comment">//Fire PreLoadImage(source,settings)</span>
            this.<a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a28430cfcc4fd24b05821f4b8a891333f" title="Extend this to allow additional types of source objects to be accepted by transforming them into Bitm...">PreLoadImage</a>(ref source, ref path, ref disposeStream,  ref settings);

            System.Drawing.Bitmap b = null;
            <span class="keywordtype">string</span> loadFailureReasons = <span class="stringliteral">&quot;File may be corrupted, empty, or may contain a PNG image with a single dimension greater than 65,535 pixels.&quot;</span>;
            
            <span class="comment">//Bitmap</span>
            <span class="keywordflow">if</span> (source is Bitmap) <span class="keywordflow">return</span> source as Bitmap;
            <span class="comment">//Image</span>
            <span class="keywordflow">if</span> (source is System.Drawing.Image) 
                <span class="keywordflow">return</span> <span class="keyword">new</span> Bitmap((System.Drawing.Image)source); <span class="comment">//Note, this clones just the raw bitmap data - doesn&#39;t copy attributes, bit depth, or anything.</span>
            <span class="comment">//IVirtualBitmapFile</span>
            <span class="keywordflow">if</span> (source is <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_bitmap_file.html" title="For virtual files who want to provide their data in Bitmap form (like a PSD reader or gradient genera...">IVirtualBitmapFile</a>) {
                b = ((IVirtualBitmapFile)source).GetBitmap();
                <span class="keywordflow">if</span> (b.Tag == null) b.Tag = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">BitmapTag</a>(((IVirtualBitmapFile)source).VirtualPath);
                <span class="keywordflow">return</span> b;
            }

            <span class="keywordtype">bool</span> restoreStreamPosition = <span class="keyword">false</span>;
            Stream s = <a class="code" href="class_image_resizer_1_1_image_builder.html#ab51799a036b1624f4e5d9c2aa2fcfa88" title="For plugin use only. Returns a stream instance from the specified source object and settings object...">GetStreamFromSource</a>(source, settings, ref disposeStream, out path, out restoreStreamPosition);
            <span class="keywordflow">if</span> (s == null) <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentException(<span class="stringliteral">&quot;Source may only be an instance of string, VirtualFile, IVirtualBitmapFile, HttpPostedFile, HttpPostedFileBase, Bitmap, Image, or Stream.&quot;</span>, <span class="stringliteral">&quot;source&quot;</span>);

            <span class="keywordflow">if</span> (restoreStreamPos) restoreStreamPosition = <span class="keyword">true</span>;

            <span class="comment">//Save the original stream position if it&#39;s an HttpPostedFile</span>
            <span class="keywordtype">long</span> originalPosition = (restoreStreamPosition) ? s.Position : - 1;

            <span class="keywordflow">try</span> {
                <span class="keywordflow">try</span> {
                    <span class="comment">//First try DecodeStream</span>
                    b = <span class="keyword">this</span>.DecodeStream(s, settings, path);
                    <span class="comment">//Let the fallbacks work. (Only happens when a plugin overrides DecodeStream and retuns null)</span>
                    <span class="keywordflow">if</span> (b == null) <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageCorruptedException(<span class="stringliteral">&quot;Failed to decode image. Plugin made DecodeStream return null.&quot;</span>, null);
                } <span class="keywordflow">catch</span> (Exception e) {
                    <span class="comment">//if (Debugger.IsAttached) throw e;</span>
                    Debug.Write(<span class="stringliteral">&quot;Falling back to DecodeStreamFailed: &quot;</span> + e.Message + <span class="stringliteral">&quot;\n&quot;</span> + e.StackTrace); 
                    
                    <span class="keywordflow">if</span> (!s.CanSeek)
                        <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageCorruptedException(<span class="stringliteral">&quot;Cannot attempt fallback decoding path on a non-seekable stream&quot;</span>, e);

                    b = <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a6cb4bce1d3b4b2947f9355d32ec66c68" title="Extensions are executed until one extension returns a non-null value. This is taken to mean that the ...">DecodeStreamFailed</a>(s, settings, path);
                    <span class="keywordflow">if</span> (b == null) <span class="keywordflow">throw</span> e; <span class="comment">//If none of the extensions loaded the image, throw the exception anyhow.</span>
                }
            } <span class="keywordflow">catch</span> (ArgumentException ae) {
                ae.Data.Add(<span class="stringliteral">&quot;path&quot;</span>, path);
                <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageCorruptedException(loadFailureReasons, ae);
            } <span class="keywordflow">catch</span> (ExternalException ee) {
                ee.Data.Add(<span class="stringliteral">&quot;path&quot;</span>, path);
                <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageCorruptedException(loadFailureReasons, ee);
            } <span class="keywordflow">finally</span> {
                <span class="comment">//Now, we can&#39;t dispose the stream if Bitmap is still using it. </span>
                <span class="keywordflow">if</span> (b != null &amp;&amp; b.Tag != null &amp;&amp; b.Tag is <a class="code" href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">BitmapTag</a> &amp;&amp; ((<a class="code" href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">BitmapTag</a>)b.Tag).Source == s) {
                    <span class="comment">//And, it looks like Bitmap is still using it.</span>
                    s = null;
                }
                <span class="comment">//Dispose the stream if we opened it. If someone passed it to us, they&#39;re responsible.</span>
                <span class="keywordflow">if</span> (s != null &amp;&amp; disposeStream) { s.Dispose(); s = null; }

                <span class="comment">//Restore the stream position if we were given an HttpPostedFile instance</span>
                <span class="keywordflow">if</span> (originalPosition &gt; -1 &amp;&amp; s != null &amp;&amp; s.CanSeek) s.Position = originalPosition;

                <span class="comment">//Make sure the bitmap is tagged with its path. DecodeStream usually handles this, only relevant for extension decoders.</span>
                <span class="keywordflow">if</span> (b != null &amp;&amp; b.Tag == null &amp;&amp; path != null) b.Tag = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">BitmapTag</a>(path);

            }
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a525fccb77e95777f4d4b876fc7963c0e" title="Extend this to modify the Bitmap instance after it has been decoded by DecodeStream or DecodeStreamFa...">PostDecodeStream</a>(ref b,settings);
            <span class="keywordflow">return</span> b;            
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a4cb07c8d3c0aea9841613431614a3fa9"></a><!-- doxytag: member="ImageResizer::ImageBuilder::PrepareDestinationBitmap" ref="a4cb07c8d3c0aea9841613431614a3fa9" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a4cb07c8d3c0aea9841613431614a3fa9">ImageResizer.ImageBuilder.PrepareDestinationBitmap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a bitmap of s.destSize dimensions, intializes a graphics object for it, and configures all the default settings. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a433d619c2b6b47dd8ed448df35a117ba">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00685">685</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (base.PrepareDestinationBitmap(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel;

             if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a> == null) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            <span class="comment">//Create new bitmap using calculated size. </span>
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d" title="The destination bitmap. If null, skip drawing commands, but continue layout logic.">destBitmap</a> = <span class="keyword">new</span> Bitmap(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919" title="The size of the target bitmap image. Set after all sizing operations have completed.">destSize</a>.Width,s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919" title="The size of the target bitmap image. Set after all sizing operations have completed.">destSize</a>.Height, PixelFormat.Format32bppArgb);
            

            <span class="comment">//Create graphics handle</span>
            Graphics g = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a> = Graphics.FromImage(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d" title="The destination bitmap. If null, skip drawing commands, but continue layout logic.">destBitmap</a>);

            <span class="comment">//High quality everthing</span>
            g.InterpolationMode = System.Drawing.Drawing2D.InterpolationMode.HighQualityBicubic;
            g.SmoothingMode = System.Drawing.Drawing2D.SmoothingMode.HighQuality;
            g.PixelOffsetMode = System.Drawing.Drawing2D.PixelOffsetMode.HighQuality;
            g.CompositingQuality = System.Drawing.Drawing2D.CompositingQuality.HighQuality;
            g.CompositingMode = CompositingMode.SourceOver;
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a34af5ed805a72bb5477e25591d3b8110"></a><!-- doxytag: member="ImageResizer::ImageBuilder::PrepareSourceBitmap" ref="a34af5ed805a72bb5477e25591d3b8110" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a34af5ed805a72bb5477e25591d3b8110">ImageResizer.ImageBuilder.PrepareSourceBitmap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.1 Switches the bitmap to the correct frame or page, and applies source flipping commands. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#acdc54775cb9992a3633729912b5464d0">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00570">570</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (base.PrepareSourceBitmap(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel ; <span class="comment">//Call extensions</span>

            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a> == null) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None ; <span class="comment">//Nothing to do if there is no bitmap</span>

            Bitmap src = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a>;
            ResizeSettings q = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>;

            <span class="keywordtype">int</span> page = 0;
            <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(q[<span class="stringliteral">&quot;page&quot;</span>]) &amp;&amp; !<span class="keywordtype">int</span>.TryParse(q[<span class="stringliteral">&quot;page&quot;</span>], NumberStyles.Integer, NumberFormatInfo.InvariantInfo, out page))
                page = 0;

            <span class="keywordtype">int</span> frame = 0;
            <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(q[<span class="stringliteral">&quot;frame&quot;</span>]) &amp;&amp; !<span class="keywordtype">int</span>.TryParse(q[<span class="stringliteral">&quot;frame&quot;</span>], NumberStyles.Integer, NumberFormatInfo.InvariantInfo, out frame))
                frame = 0;

            <span class="comment">//So users can use 1-based numbers</span>
            page--; frame--;

            <span class="comment">//Support page selection in a .tiff document.</span>
            <span class="keywordflow">try</span> {
                <span class="comment">//Stay on the last page/frame if out of bounds</span>
                <span class="keywordflow">if</span> (page &gt; 0 &amp;&amp; page &gt;= src.GetFrameCount(FrameDimension.Page)) page = src.GetFrameCount(FrameDimension.Page) - 1;
                <span class="keywordflow">if</span> (frame &gt; 0 &amp;&amp; frame &gt;= src.GetFrameCount(FrameDimension.Time)) frame = src.GetFrameCount(FrameDimension.Time) - 1;

                <span class="comment">//Select the right page/frame if specified</span>
                <span class="keywordflow">if</span> (page &gt; 0) src.SelectActiveFrame(FrameDimension.Page, page);
                <span class="keywordflow">if</span> (frame &gt; 0) src.SelectActiveFrame(FrameDimension.Time, frame);
            } <span class="keywordflow">catch</span> (ExternalException) { } <span class="comment">//When somebody tries &amp;frame or &amp;page on a single-frame image</span>
            


            <span class="comment">//Flipping has to be done on the original - it can&#39;t be done as part of the DrawImage or later, after the borders are drawn.</span>

            <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a> != null &amp;&amp; (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a27da93206fc9ebe2834a02d3e5ab62f6" title="[&quot;sFlip&quot;] Allows you to flip the source image vertically, horizontally, or both. Rotation is not supp...">SourceFlip</a> != RotateFlipType.RotateNoneFlipNone || !<span class="keywordtype">string</span>.IsNullOrEmpty(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;sRotate&quot;</span>]))) {
                <span class="keywordtype">double</span> angle = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.Get&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;sRotate&quot;</span>,0);

                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a>.RotateFlip(<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.CombineFlipAndRotate(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a27da93206fc9ebe2834a02d3e5ab62f6" title="[&quot;sFlip&quot;] Allows you to flip the source image vertically, horizontally, or both. Rotation is not supp...">SourceFlip</a>,angle));
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a> = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a>.Size;
            }
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a8e2f4b3bbf8bb38e54249490122ebb71"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Process" ref="a8e2f4b3bbf8bb38e54249490122ebb71" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_image_resizer_1_1_image_builder.html#a8e2f4b3bbf8bb38e54249490122ebb71">ImageResizer.ImageBuilder.Process</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Processes an ImageState instance. Used by Build, GetFinalSize, and TranslatePoint. Can be overriden by a plugin with the OnProcess method. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00502">502</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
            <span class="keywordflow">if</span> (<a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ae2db3fe05405c00cfb6fbd5bc28fb699" title="Process.0 First step of the Process() method. Can replace the entire Process method if RequestAction...">OnProcess</a>(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span>;
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a34af5ed805a72bb5477e25591d3b8110" title="Process.1 Switches the bitmap to the correct frame or page, and applies source flipping commands...">PrepareSourceBitmap</a>(s);  <span class="comment">// We select the page/frame and flip the source bitmap here</span>
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a9b3fe3747f8a19e107473882ac4635c2" title="Process.2 Extend this to apply any pre-processing to the source bitmap that needs to occur before Lay...">PostPrepareSourceBitmap</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#ab0e7f7482b1ed782c4c522ca02d004f7" title="Process.3: Handles the layout phase of Processing.">Layout</a>(s); <span class="comment">//Layout everything</span>
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a4cb07c8d3c0aea9841613431614a3fa9" title="Creates a bitmap of s.destSize dimensions, intializes a graphics object for it, and configures all th...">PrepareDestinationBitmap</a>(s); <span class="comment">//Create a bitmap and graphics object based on s.destSize</span>
            <a class="code" href="class_image_resizer_1_1_image_builder.html#ad3c0e9b89c62b5a6896b062d30db2641" title="Handles the rendering phase of processing.">Render</a>(s); <span class="comment">//Render using the graphics object</span>
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a5f3df5920c5ec3f75085a91d4268157a" title="Process.6: Non-rendering changes to the bitmap object occur here, such as flipping. The graphics object is unavailable.">ProcessFinalBitmap</a>(s); <span class="comment">//Perform the final flipping of the bitmap.</span>
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a32b33a297ff53737ac78a46901276977" title="Process.7: Layout and rendering are both complete.">EndProcess</a>(s);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a5f3df5920c5ec3f75085a91d4268157a"></a><!-- doxytag: member="ImageResizer::ImageBuilder::ProcessFinalBitmap" ref="a5f3df5920c5ec3f75085a91d4268157a" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a5f3df5920c5ec3f75085a91d4268157a">ImageResizer.ImageBuilder.ProcessFinalBitmap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.6: Non-rendering changes to the bitmap object occur here, such as flipping. The graphics object is unavailable. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a51544ad301ef4b57adff6322db036668">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00838">838</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                            {
            <span class="keywordflow">if</span> (base.ProcessFinalBitmap(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//The default if we are doing a simulation</span>

            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f" title="The dimensions of the bitmap afer all operations have been applied to it (Calling FlipRotate can chan...">finalSize</a> = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919" title="The size of the target bitmap image. Set after all sizing operations have completed.">destSize</a>;
            <span class="comment">//Skip this when we are doing simulations</span>
            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d" title="The destination bitmap. If null, skip drawing commands, but continue layout logic.">destBitmap</a> == null) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            <span class="comment">//The last flipping.</span>
            <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ad6f58c2c9129334491b436b2abdbc9b5" title="Allows you to flip the entire resulting image vertically, horizontally, or both. Rotation is not supp...">Flip</a> != RotateFlipType.RotateNoneFlipNone)
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d" title="The destination bitmap. If null, skip drawing commands, but continue layout logic.">destBitmap</a>.RotateFlip(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ad6f58c2c9129334491b436b2abdbc9b5" title="Allows you to flip the entire resulting image vertically, horizontally, or both. Rotation is not supp...">Flip</a>);

            <span class="comment">//Set DPI value</span>
            <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;dpi&quot;</span>])){
                <span class="keywordtype">int</span> dpi = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.Get&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;dpi&quot;</span>,96);
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d" title="The destination bitmap. If null, skip drawing commands, but continue layout logic.">destBitmap</a>.SetResolution(dpi, dpi);
            }
            
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f" title="The dimensions of the bitmap afer all operations have been applied to it (Calling FlipRotate can chan...">finalSize</a> = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d" title="The destination bitmap. If null, skip drawing commands, but continue layout logic.">destBitmap</a>.Size;
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ad3c0e9b89c62b5a6896b062d30db2641"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Render" ref="ad3c0e9b89c62b5a6896b062d30db2641" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#ad3c0e9b89c62b5a6896b062d30db2641">ImageResizer.ImageBuilder.Render</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles the rendering phase of processing. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ac32fe3c51658a9bf8e3f4bbfc0d262b7">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00542">542</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                {
            <span class="keywordflow">if</span> (base.Render(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel;
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a32558f4f0b1a0aaed2500dc9e5b849ea" title="Sets the background color if needed or requested.">RenderBackground</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a72e54b48d44c964518a53c66411bdb5a" title="Process.5(Render).2 After the background color is rendered.">PostRenderBackground</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a139c0e7dfa9b54d15c569d6121c3c4a9" title="Process.5(Render).3 Effects (such as a drop shadow or outer glow) are rendered.">RenderEffects</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a53885b27778c2d1f0cb566ddd4fb6bc8" title="Process.5(Render).4 After outer effects are rendered.">PostRenderEffects</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a6095ca220f026fec0fd15b3ebf4ef12a" title="Process.5(Render).5 Image padding is drawn.">RenderPadding</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a630fc3fb230d908d798dacd4cafe9bf4" title="Process.5(Render).6 After image padding is drawn.">PostRenderPadding</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a70a8ba17d8b08e48d273f72b256b5573" title="Process.5(Render).7: An ImageAttributes instance is created if it doesn&#39;t already exist...">CreateImageAttribues</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a447432f0d098f18909fa336bb8321801" title="Process.5(Render).8: The ImageAttributes instance exists and can be modified or replaced.">PostCreateImageAttributes</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ab3063eca19c572b51160ab0826cb6d08" title="Process.5(Render).9: Plugins have a chance to pre-process the source image before it gets rendered...">PreRenderImage</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a0d9f4fd12809ec0cc17bbb2fb33a7309" title="Process.5(Render).10: The image is copied to the destination parallelogram specified by ring &#39;image&#39;...">RenderImage</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#aeddc526e63ff0a368a69bf1b1e1b9bce" title="Process.5(Render).11: After the image is drawn.">PostRenderImage</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a73ee8389af6a5b923455dc80da3ac66e" title="Process.5(Render).12: The border is rendered.">RenderBorder</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a63833b1e5998b422ea371fccb617991e" title="Process.5(Render).13: After the border is drawn.">PostRenderBorder</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a293dd176c35b0024081ad12424749d70" title="Process.5(Render).14: Any last-minute changes before watermarking or overlays are applied...">PreRenderOverlays</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#acbad9ad5f37703796815247959a82625" title="Process.5(Render).15: Watermarks can be rendered here. All image processing should be done...">RenderOverlays</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ad25ce7f2dae101ebb38ee3d0b02f2631" title="Process.5(Render).16: Called before changes are flushed and the graphics object is destroyed...">PreFlushChanges</a>(s);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#af7321daa43947075d5963a33f3473883" title="Process.5(Render).17: Changes are flushed to the bitmap here and the graphics object is destroyed...">FlushChanges</a>(s);
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ad3c57f7e977a45608001393576ab34b6" title="Process.5(Render).18: Changes have been flushed to the bitmap, but the final bitmap has not been flip...">PostFlushChanges</a>(s);
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a32558f4f0b1a0aaed2500dc9e5b849ea"></a><!-- doxytag: member="ImageResizer::ImageBuilder::RenderBackground" ref="a32558f4f0b1a0aaed2500dc9e5b849ea" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a32558f4f0b1a0aaed2500dc9e5b849ea">ImageResizer.ImageBuilder.RenderBackground</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the background color if needed or requested. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a3af48dcc8a63dad7a925e9bab629c3ce">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00711">711</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                          {
            <span class="keywordflow">if</span> (base.RenderBackground(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//Skip this when we are doing simulations</span>
            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a> == null) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            Graphics g = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>;

            <span class="comment">//If the image doesn&#39;t support transparency, we need to fill the background color now.</span>
            Color background = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2" title="[&quot;bgcolor&quot;]: Named and hex values are supported. (rgb and rgba, both 3, 6, and 8 digits).">BackgroundColor</a>;

            <span class="comment">//Find out if we can safely know that nothing will be showing from behind the image (no margin, padding, etc, and source format doesn&#39;t have alpha channel).</span>
            <span class="keywordtype">bool</span> nothingToShow = (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a> != null &amp;&amp; (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a>.PixelFormat == PixelFormat.Format24bppRgb ||
                        s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a>.PixelFormat == PixelFormat.Format32bppRgb || 
                        s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a>.PixelFormat == PixelFormat.Format48bppRgb) &amp;&amp;
                        <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a091c43453f558cb12f8f4f4e485a711d" title="Returns true if the member elements of the specified arrays match, and the arrays are of the same len...">ArraysEqual</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>], s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_layout_builder.html#a25cec5c2a949a13ac66102e713d07db4" title="Returns the last ring that was added. Only returns PointSets where flags = Ring.">LastRing</a>.points) &amp;&amp;
                        <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a6a28a2a5551836ef6fbc3dc5db592f74" title="Verifies that the specified 4 points are not rotated - that each point shares either the x or y coord...">IsUnrotated</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>]) &amp;&amp; <span class="keywordtype">string</span>.IsNullOrEmpty(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;s.alpha&quot;</span>])
                            &amp;&amp; <span class="keywordtype">string</span>.IsNullOrEmpty(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;s.roundcorners&quot;</span>])
                            &amp;&amp; <span class="keywordtype">string</span>.IsNullOrEmpty(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;filter&quot;</span>]));

            <span class="comment">//Set the background to white if the background will be showing and the destination format doesn&#39;t support transparency.</span>
            <span class="keywordflow">if</span> (background == Color.Transparent &amp;&amp; !s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a4292474d3ba45b4f0c20fb7b38e8631c" title="Rendering choices can depend on whether the output format supports transparency.">supportsTransparency</a> &amp; !nothingToShow) 
                background = Color.White;


            
            <span class="comment">//Fill background</span>
            <span class="keywordflow">if</span> (background != Color.Transparent) <span class="comment">//This causes increased aliasing at the edges - i.e., a faint white border that is even more pronounced than usual.</span>
                g.Clear(background); <span class="comment">//Does this work for Color.Transparent? -- </span>
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a73ee8389af6a5b923455dc80da3ac66e"></a><!-- doxytag: member="ImageResizer::ImageBuilder::RenderBorder" ref="a73ee8389af6a5b923455dc80da3ac66e" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a73ee8389af6a5b923455dc80da3ac66e">ImageResizer.ImageBuilder.RenderBorder</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.5(Render).12: The border is rendered. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a4c900fd8c3138609025875b47e164c6d">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00789">789</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
            <span class="keywordflow">if</span> (base.RenderBorder(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//Skip this when we are doing simulations</span>
            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a> == null) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            <span class="comment">//Draw border</span>
            <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a4b1353db785a5d82397ed82641f05e0d" title="Returns true if th.">IsEmpty</a>) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            <span class="keywordflow">if</span> (<span class="keywordtype">double</span>.IsNaN(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a5a549837cdd68bdbd6fa61c9d11f9e52" title="Returns double.NaN unless all edges are the same width, in which case that width is returned...">All</a>)) {
                <span class="keywordtype">float</span>[] widths = <span class="keyword">new</span> <span class="keywordtype">float</span>[] { (float)s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.Top * -1, (<span class="keywordtype">float</span>)s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.Right * -1, (float)s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.Bottom * -1, (<span class="keywordtype">float</span>)s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.Left * -1 };
                PointF[,] corners = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a9533ccbfea8b33beaea2fb9dd3f38004" title="Returns an array of parallelograms. These parallelgrams are the &#39;corners&#39; outside each vertex in &#39;pol...">GetCorners</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;border&quot;</span>],widths);

                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= corners.GetUpperBound(0); i++) {
                    <span class="keywordtype">int</span> last = i == 0 ? corners.GetUpperBound(0) : i -1;

                    PointF start = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a826b109164045c010e8458296f566b2c" title="Returns a point equidistant beweteen A and B.">Average</a>(corners[last, 3], corners[last, 0]);
                    PointF end = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a826b109164045c010e8458296f566b2c" title="Returns a point equidistant beweteen A and B.">Average</a>(corners[i, 0], corners[i, 1]);

                    <span class="keyword">using</span> (Pen p = <span class="keyword">new</span> Pen(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#aeff2f3a99b045d45b46e3a417c2ab1fd" title="Gets/sets [&quot;borderColor&quot;]. Named and hex values are supported. (rgb and rgba, both 3...">BorderColor</a>, widths[i &lt; 1 ? 3 : i -1] * -1)) {
                        p.Alignment = System.Drawing.Drawing2D.PenAlignment.Center; <span class="comment">//PenAlignment.Center is the only supported mode.</span>
                        p.LineJoin = System.Drawing.Drawing2D.LineJoin.Miter;
                        s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.DrawLine(p, start, end);
                    }

                }
            } <span class="keywordflow">else</span> {
                <span class="keyword">using</span> (Pen p = <span class="keyword">new</span> Pen(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#aeff2f3a99b045d45b46e3a417c2ab1fd" title="Gets/sets [&quot;borderColor&quot;]. Named and hex values are supported. (rgb and rgba, both 3...">BorderColor</a>, (<span class="keywordtype">float</span>)s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a5a549837cdd68bdbd6fa61c9d11f9e52" title="Returns double.NaN unless all edges are the same width, in which case that width is returned...">All</a>)) {
                    p.Alignment = System.Drawing.Drawing2D.PenAlignment.Center; <span class="comment">//PenAlignment.Center is the only supported mode.</span>
                    p.LineJoin = System.Drawing.Drawing2D.LineJoin.Miter;
                    s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.DrawPolygon(p, <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a062fe5752402710804fe0368016df808" title="Expands all sides on the specified polygon by the specified offset. Assumes the polygon is concave...">InflatePoly</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;border&quot;</span>], (<span class="keywordtype">float</span>)(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae5ee543eced4b1d204325b4c598b9002" title="Friendly get/set accessor for the [&quot;borderWidth&quot;] value. Returns BoxPadding.Empty when unspecified...">Border</a>.<a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a5a549837cdd68bdbd6fa61c9d11f9e52" title="Returns double.NaN unless all edges are the same width, in which case that width is returned...">All</a> / -2.0))); <span class="comment">//I hope GDI rounds the same way as .NET.. Otherwise there may be an off-by-one error..</span>
                }
            }

            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a0d9f4fd12809ec0cc17bbb2fb33a7309"></a><!-- doxytag: member="ImageResizer::ImageBuilder::RenderImage" ref="a0d9f4fd12809ec0cc17bbb2fb33a7309" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a0d9f4fd12809ec0cc17bbb2fb33a7309">ImageResizer.ImageBuilder.RenderImage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.5(Render).10: The image is copied to the destination parallelogram specified by ring 'image'. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#a075eb13a5247807de9a49228cef6568e">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00768">768</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                     {
            <span class="keywordflow">if</span> (base.RenderImage(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//Skip this when we are doing simulations</span>
            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a> == null) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>[<span class="stringliteral">&quot;gdi.filter&quot;</span>])) {
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.InterpolationMode = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.Get&lt;InterpolationMode&gt;(<span class="stringliteral">&quot;gdi.filter&quot;</span>, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.InterpolationMode);
            }

            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0575a388f0e3235d967cb62f4904fe09" title="Allows color correction/modification during the image copy.">copyAttibutes</a>.SetWrapMode(WrapMode.TileFlipXY);
            <span class="keywordflow">if</span> (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#acd58bc890cee2f8d314ae94c2508d0b5" title="An optional intermediate bitmap, created by plugins who need to process the source bitmap it gets ren...">preRenderBitmap</a> != null) {
                <span class="keyword">using</span> (Bitmap b = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#acd58bc890cee2f8d314ae94c2508d0b5" title="An optional intermediate bitmap, created by plugins who need to process the source bitmap it gets ren...">preRenderBitmap</a>) { <span class="comment">//Dispose the intermediate bitmap aggressively</span>
                    s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.DrawImage(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#acd58bc890cee2f8d314ae94c2508d0b5" title="An optional intermediate bitmap, created by plugins who need to process the source bitmap it gets ren...">preRenderBitmap</a>, <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a28d60a0db031946a534a4efbc85e2728" title="Moves element 4 to spot 3 and truncates to 3 elements. For compatiblity with Graphics.DrawImage.">getParallelogram</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>]), <span class="keyword">new</span> RectangleF(0, 0, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#acd58bc890cee2f8d314ae94c2508d0b5" title="An optional intermediate bitmap, created by plugins who need to process the source bitmap it gets ren...">preRenderBitmap</a>.Width, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#acd58bc890cee2f8d314ae94c2508d0b5" title="An optional intermediate bitmap, created by plugins who need to process the source bitmap it gets ren...">preRenderBitmap</a>.Height), GraphicsUnit.Pixel, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0575a388f0e3235d967cb62f4904fe09" title="Allows color correction/modification during the image copy.">copyAttibutes</a>);
                }
            } <span class="keywordflow">else</span> {
                s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.DrawImage(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0" title="The source bitmap. If null, skip drawing commands, but continue layout logic.">sourceBitmap</a>, <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a28d60a0db031946a534a4efbc85e2728" title="Moves element 4 to spot 3 and truncates to 3 elements. For compatiblity with Graphics.DrawImage.">getParallelogram</a>(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>]), s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a>, GraphicsUnit.Pixel, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0575a388f0e3235d967cb62f4904fe09" title="Allows color correction/modification during the image copy.">copyAttibutes</a>);
            }
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a6095ca220f026fec0fd15b3ebf4ef12a"></a><!-- doxytag: member="ImageResizer::ImageBuilder::RenderPadding" ref="a6095ca220f026fec0fd15b3ebf4ef12a" args="(ImageState s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override <a class="el" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a6095ca220f026fec0fd15b3ebf4ef12a">ImageResizer.ImageBuilder.RenderPadding</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process.5(Render).5 Image padding is drawn. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_image_resizer_1_1_resizing_1_1_abstract_image_processor.html#ad818e4877b08b426f070fc581a790833">ImageResizer.Resizing.AbstractImageProcessor</a>.</p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00744">744</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                       {
            <span class="keywordflow">if</span> (base.RenderPadding(s) == <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span>

            <span class="comment">//Skip this when we are doing simulations</span>
            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a> == null) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            <span class="keywordflow">if</span> (!s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.ContainsRing(<span class="stringliteral">&quot;padding&quot;</span>)) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;

            Color paddingColor = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#aecaac2b7c431f38d796545950119abeb" title="Gets/sets [&quot;paddingColor&quot;]. Named and hex values are supported. (rgb and rgba, both 3...">PaddingColor</a>;
            <span class="comment">//Inherit color</span>
            if (paddingColor.Equals(Color.Transparent)) paddingColor = s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2" title="[&quot;bgcolor&quot;]: Named and hex values are supported. (rgb and rgba, both 3, 6, and 8 digits).">BackgroundColor</a>;
            <span class="comment">//Draw padding around image if needed.</span>
            if (!paddingColor.Equals(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179" title="The commands to apply to the bitmap.">settings</a>.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2" title="[&quot;bgcolor&quot;]: Named and hex values are supported. (rgb and rgba, both 3, 6, and 8 digits).">BackgroundColor</a>) &amp;&amp; paddingColor != Color.Transparent)
                <span class="keyword">using</span> (Brush b = <span class="keyword">new</span> SolidBrush(paddingColor)) s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b" title="A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.">destGraphics</a>.FillPolygon(b, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;padding&quot;</span>]);
          
            <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86" title="What to do about remaining handlers/methods for the specified section.">RequestedAction</a>.None;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="af498e87cf9e20dee93b0fb711e39581f"></a><!-- doxytag: member="ImageResizer::ImageBuilder::TranslatePoints" ref="af498e87cf9e20dee93b0fb711e39581f" args="(PointF[] sourcePoints, Size originalSize, ResizeSettings q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual PointF [] <a class="el" href="class_image_resizer_1_1_image_builder.html#af498e87cf9e20dee93b0fb711e39581f">ImageResizer.ImageBuilder.TranslatePoints</a> </td>
          <td>(</td>
          <td class="paramtype">PointF[]&#160;</td>
          <td class="paramname"><em>sourcePoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>originalSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>q</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Doesn't support flipping. Translate a point on the original bitmap to a point on the new bitmap. If the original point no longer exists, returns Empty. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00866">866</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                            {
            <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html" title="Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...">ImageState</a> s = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html" title="Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...">ImageState</a>(q, originalSize, <span class="keyword">true</span>);
            s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>.AddInvisiblePolygon(<span class="stringliteral">&quot;points&quot;</span>, sourcePoints);
            <a class="code" href="class_image_resizer_1_1_image_builder.html#a8e2f4b3bbf8bb38e54249490122ebb71" title="Processes an ImageState instance. Used by Build, GetFinalSize, and TranslatePoint. Can be overriden by a plugin with the OnProcess method.">Process</a>(s);
            <span class="keywordflow">return</span> s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;points&quot;</span>];
        }
</pre></div>
</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="afcfb7f40a65d121670118ccebfe1ca4b"></a><!-- doxytag: member="ImageResizer::ImageBuilder::Current" ref="afcfb7f40a65d121670118ccebfe1ca4b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_image_resizer_1_1_image_builder.html">ImageBuilder</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#afcfb7f40a65d121670118ccebfe1ca4b">ImageResizer.ImageBuilder.Current</a><code> [static, get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a shared instance of <a class="el" href="class_image_resizer_1_1_image_builder.html" title="Provides methods for generating resized images, and for reading and writing them to disk...">ImageBuilder</a> or a subclass, equivalent to Config.Current.CurrentImageBuilder. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00059">59</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_image_job_8cs_source.html#l00043">ImageResizer.ImageJob.Build()</a>.</p>

</div>
</div>
<a class="anchor" id="a9bd254f85a8c846eb287a985b3accbde"></a><!-- doxytag: member="ImageResizer::ImageBuilder::EncoderProvider" ref="a9bd254f85a8c846eb287a985b3accbde" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder_provider.html">IEncoderProvider</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a9bd254f85a8c846eb287a985b3accbde">ImageResizer.ImageBuilder.EncoderProvider</a><code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles the encoder selection and provision proccess. </p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00037">37</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

<p>Referenced by <a class="el" href="_intercept_module_8cs_source.html#l00171">ImageResizer.InterceptModule.HandleRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="af9bcb1d2b216d219670c2a98a3586792"></a><!-- doxytag: member="ImageResizer::ImageBuilder::SettingsModifier" ref="af9bcb1d2b216d219670c2a98a3586792" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_settings_modifier.html">ISettingsModifier</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#af9bcb1d2b216d219670c2a98a3586792">ImageResizer.ImageBuilder.SettingsModifier</a><code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>May be null. A class to modify or normalize <a class="el" href="class_image_resizer_1_1_resize_settings.html" title="Represents the settings which will be used to process the image. Extends NameValueCollection to provi...">ResizeSettings</a> instances before they are used. </p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00044">44</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a391309229993353e75f82223cdf0323f"></a><!-- doxytag: member="ImageResizer::ImageBuilder::VirtualFileProvider" ref="a391309229993353e75f82223cdf0323f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html">IVirtualImageProvider</a> <a class="el" href="class_image_resizer_1_1_image_builder.html#a391309229993353e75f82223cdf0323f">ImageResizer.ImageBuilder.VirtualFileProvider</a><code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Provides a resolution service for app-relative URLs. </p>

<p>Definition at line <a class="el" href="_image_builder_8cs_source.html#l00051">51</a> of file <a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Administrator/Documents/resizer/Core/<a class="el" href="_image_builder_8cs_source.html">ImageBuilder.cs</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
