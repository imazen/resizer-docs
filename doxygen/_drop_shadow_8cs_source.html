<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ImageResizer: C:/Users/nathanael/Documents/resizer/Core/Plugins/Basic/DropShadow.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="imageresizer-logo-00aec4.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a class="el" href="dir_364894e5d93bffffc1006b71d92cbe0f.html">Plugins</a></li><li class="navelem"><a class="el" href="dir_60328e56982a9e41f408510e21651238.html">Basic</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DropShadow.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Copyright (c) 2011 Nathanael Jones. See license.txt */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> System;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> System.Text;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> ImageResizer.Resizing;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> ImageResizer.Util;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> System.Drawing;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> ImageResizer.ExtensionMethods;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> System.Drawing.Drawing2D;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">namespace </span>ImageResizer.Plugins.Basic {<span class="comment"></span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    /// Adds drop shadow capabilities (shadowColor, shadowOffset, and shadowWidth commands)</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">    /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html">   15</a></span>&#160;<span class="comment"></span>    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html">DropShadow</a> : <a class="code" href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">BuilderExtension</a>, <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a>, <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin.html">IQuerystringPlugin</a> {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        <span class="keyword">public</span> <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a> Install(Configuration.Config c) {</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;            c.Plugins.add_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        }</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> Uninstall(Configuration.Config c) {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;            c.Plugins.remove_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        }</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#a6ddebbe45df92ac40fc94cb8578f7f18">   27</a></span>&#160;        <span class="keyword">public</span> IEnumerable&lt;string&gt; <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#a6ddebbe45df92ac40fc94cb8578f7f18">GetSupportedQuerystringKeys</a>() {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keywordtype">string</span>[] { <span class="stringliteral">&quot;shadowColor&quot;</span>, <span class="stringliteral">&quot;shadowOffset&quot;</span>, <span class="stringliteral">&quot;shadowWidth&quot;</span> };</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        }</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#ab9fa7ab3ccfda8ab7c1985cad25f551e">   32</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#ab9fa7ab3ccfda8ab7c1985cad25f551e">LayoutEffects</a>(<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s) {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            <span class="keywordtype">float</span> shadowWidth = s.settings.Get&lt;<span class="keywordtype">float</span>&gt;(<span class="stringliteral">&quot;shadowWidth&quot;</span>, 0);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <span class="keywordflow">if</span> (shadowWidth != 0) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                var offset = NameValueCollectionExtensions.GetList&lt;<span class="keywordtype">float</span>&gt;(s.settings, <span class="stringliteral">&quot;shadowOffset&quot;</span>, 0, 2);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                PointF shadowOffset =  offset == null ? <span class="keyword">new</span> PointF(0,0) : <span class="keyword">new</span> PointF(offset[0], offset[1]);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                <span class="comment">//Clone last ring, then offset it - provides the inner bounds of the shadow later</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                s.layout.AddInvisiblePolygon(<span class="stringliteral">&quot;shadowInner&quot;</span>, PolygonMath.MovePoly(s.layout.LastRing.points, shadowOffset));</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                <span class="comment">//Determine the outer bound of the shadow</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                s.layout.AddRing(<span class="stringliteral">&quot;shadow&quot;</span>, PolygonMath.InflatePoly(s.layout.LastRing.points, <span class="keyword">new</span> <span class="keywordtype">float</span>[]{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                    Math.Max(0, shadowWidth - shadowOffset.Y),</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                    Math.Max(0, shadowWidth + shadowOffset.X),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                    Math.Max(0, shadowWidth + shadowOffset.Y),</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                    Math.Max(0, shadowWidth - shadowOffset.X)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                }));</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#a530e104b4f3f54145e293ef24f29cf68">   53</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#a530e104b4f3f54145e293ef24f29cf68">RenderEffects</a>(<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">if</span> (base.RenderEffects(s) == RequestedAction.Cancel) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>.Cancel; <span class="comment">//Call extensions</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            if (s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b">destGraphics</a> == null) <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="comment">//parse shadow</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            Color shadowColor = ParseUtils.ParseColor(s.settings[<span class="stringliteral">&quot;shadowColor&quot;</span>], Color.Transparent);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordtype">int</span> shadowWidth = s.settings.Get&lt;<span class="keywordtype">int</span>&gt;( <span class="stringliteral">&quot;shadowWidth&quot;</span>, -1);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="comment">//Skip on transparent or 0-width shadow</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">if</span> (shadowColor == Color.Transparent || shadowWidth &lt;= 0) <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keyword">using</span> (Brush b = <span class="keyword">new</span> SolidBrush(shadowColor)) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <span class="comment">//Offsets may show inside the shadow - so we have to fix that</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                s.destGraphics.FillPolygon(b,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                    PolygonMath.InflatePoly(s.layout[<span class="stringliteral">&quot;shadowInner&quot;</span>], 1)); <span class="comment">//Inflate 1 for FillPolgyon rounding errors.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="comment">//Then we can draw the outer gradient</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            DrawOuterGradient(s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b">destGraphics</a>, s.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e">layout</a>[<span class="stringliteral">&quot;shadowInner&quot;</span>],</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                             shadowColor, Color.Transparent, shadowWidth);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">        /// Draws a gradient around the specified polygon. Fades from &#39;inner&#39; to &#39;outer&#39; over a distance of &#39;width&#39; pixels. </span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">        /// &lt;param name=&quot;g&quot;&gt;&lt;/param&gt;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">        /// &lt;param name=&quot;poly&quot;&gt;&lt;/param&gt;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">        /// &lt;param name=&quot;inner&quot;&gt;&lt;/param&gt;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">        /// &lt;param name=&quot;outer&quot;&gt;&lt;/param&gt;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">        /// &lt;param name=&quot;width&quot;&gt;&lt;/param&gt;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#ab796ace79b9d8e9bd495eaab4305d028">   88</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#ab796ace79b9d8e9bd495eaab4305d028">DrawOuterGradient</a>(Graphics g, PointF[] poly, Color inner, Color outer, <span class="keywordtype">float</span> width) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            PointF[,] corners = PolygonMath.GetCorners(poly, width);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            PointF[,] sides = PolygonMath.GetSides(poly, width);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="comment">//Overlapping these causes darker areas... Dont use InflatePoly</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="comment">//Paint corners</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= corners.GetUpperBound(0); i++) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                PointF[] pts = PolygonMath.GetSubArray(corners, i);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <span class="keyword">using</span> (Brush b = PolygonMath.GenerateRadialBrush(inner, outer, pts[0], width + 1)) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    g.FillPolygon(b, pts);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="comment">//Paint sides</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= sides.GetUpperBound(0); i++) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                PointF[] pts = PolygonMath.GetSubArray(sides, i);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keyword">using</span> (LinearGradientBrush b = <span class="keyword">new</span> LinearGradientBrush(pts[3], pts[0], inner, outer)) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    b.SetSigmaBellShape(1);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    b.WrapMode = WrapMode.TileFlipXY;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    g.FillPolygon(b, pts);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="ttc" id="namespace_image_resizer_1_1_resizing_html_a22bbb53580a122efe469a26ad584fa86"><div class="ttname"><a href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">ImageResizer.Resizing.RequestedAction</a></div><div class="ttdeci">RequestedAction</div><div class="ttdoc">What to do about remaining handlers/methods for the specified section </div><div class="ttdef"><b>Definition:</b> <a href="_abstract_image_processor_8cs_source.html#l00013">AbstractImageProcessor.cs:13</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a14723e4f7de63667e37fcbdb6a00055b"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b">ImageResizer.Resizing.ImageState.destGraphics</a></div><div class="ttdeci">Graphics destGraphics</div><div class="ttdoc">A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic. </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00182">ImageState.cs:182</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow_html_ab796ace79b9d8e9bd495eaab4305d028"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#ab796ace79b9d8e9bd495eaab4305d028">ImageResizer.Plugins.Basic.DropShadow.DrawOuterGradient</a></div><div class="ttdeci">static void DrawOuterGradient(Graphics g, PointF[] poly, Color inner, Color outer, float width)</div><div class="ttdoc">Draws a gradient around the specified polygon. Fades from &amp;#39;inner&amp;#39; to &amp;#39;outer&amp;#39; over a distance of &amp;#39;widt...</div><div class="ttdef"><b>Definition:</b> <a href="_drop_shadow_8cs_source.html#l00088">DropShadow.cs:88</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow_html_ab9fa7ab3ccfda8ab7c1985cad25f551e"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#ab9fa7ab3ccfda8ab7c1985cad25f551e">ImageResizer.Plugins.Basic.DropShadow.LayoutEffects</a></div><div class="ttdeci">override RequestedAction LayoutEffects(ImageState s)</div><div class="ttdoc">Process.3(Layout).8: Effects such as &amp;#39;shadow&amp;#39; are added here. </div><div class="ttdef"><b>Definition:</b> <a href="_drop_shadow_8cs_source.html#l00032">DropShadow.cs:32</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin_html"><div class="ttname"><a href="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin.html">ImageResizer.Plugins.IQuerystringPlugin</a></div><div class="ttdoc">For plugins that access the query string (important!) </div><div class="ttdef"><b>Definition:</b> <a href="_i_querystring_plugin_8cs_source.html#l00010">IQuerystringPlugin.cs:10</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow_html_a530e104b4f3f54145e293ef24f29cf68"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#a530e104b4f3f54145e293ef24f29cf68">ImageResizer.Plugins.Basic.DropShadow.RenderEffects</a></div><div class="ttdeci">override RequestedAction RenderEffects(ImageState s)</div><div class="ttdoc">Process.5(Render).3 Effects (such as a drop shadow or outer glow) are rendered </div><div class="ttdef"><b>Definition:</b> <a href="_drop_shadow_8cs_source.html#l00053">DropShadow.cs:53</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageResizer.Resizing.ImageState</a></div><div class="ttdoc">Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00015">ImageState.cs:15</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_builder_extension_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">ImageResizer.Resizing.BuilderExtension</a></div><div class="ttdoc">Provides a useable base class that can be used to modify the behavior of ImageBuilder. When registered with an ImageBuilder instance, the ImageBuilder will call the corresponding methods on the extension prior to executing its own methods. </div><div class="ttdef"><b>Definition:</b> <a href="_builder_extension_8cs_source.html#l00011">BuilderExtension.cs:11</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow_html_a6ddebbe45df92ac40fc94cb8578f7f18"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html#a6ddebbe45df92ac40fc94cb8578f7f18">ImageResizer.Plugins.Basic.DropShadow.GetSupportedQuerystringKeys</a></div><div class="ttdeci">IEnumerable&lt; string &gt; GetSupportedQuerystringKeys()</div><div class="ttdoc">If the plugin reads any values from the querystring, the names of the keys should be specified here...</div><div class="ttdef"><b>Definition:</b> <a href="_drop_shadow_8cs_source.html#l00027">DropShadow.cs:27</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a845b5dc0d563cd83e8591ceccdbfe31e"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e">ImageResizer.Resizing.ImageState.layout</a></div><div class="ttdeci">LayoutBuilder layout</div><div class="ttdoc">The layout object. Used for calculated and flowing the layout of the various rings around the image (...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00042">ImageState.cs:42</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_plugins_1_1_i_plugin_html"><div class="ttname"><a href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">ImageResizer.Plugins.IPlugin</a></div><div class="ttdoc">All plugins must implement this. Enables web.config addition and removal. </div><div class="ttdef"><b>Definition:</b> <a href="_i_plugin_8cs_source.html#l00011">IPlugin.cs:11</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_basic_1_1_drop_shadow.html">ImageResizer.Plugins.Basic.DropShadow</a></div><div class="ttdoc">Adds drop shadow capabilities (shadowColor, shadowOffset, and shadowWidth commands) ...</div><div class="ttdef"><b>Definition:</b> <a href="_drop_shadow_8cs_source.html#l00015">DropShadow.cs:15</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
