<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ImageResizer: ImageResizer.Plugins.Basic.DefaultEncoder Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="resizer-icon-64.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.1.3</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_image_resizer.html">ImageResizer</a>      </li>
      <li class="navelem"><a class="el" href="namespace_image_resizer_1_1_plugins.html">Plugins</a>      </li>
      <li class="navelem"><a class="el" href="namespace_image_resizer_1_1_plugins_1_1_basic.html">Basic</a>      </li>
      <li class="navelem"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html">DefaultEncoder</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">ImageResizer.Plugins.Basic.DefaultEncoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ImageResizer::Plugins::Basic::DefaultEncoder" --><!-- doxytag: inherits="ImageResizer::Encoding::IEncoder,ImageResizer::Plugins::IQuerystringPlugin,ImageResizer::Plugins::IPlugin" -->
<p>Provides basic encoding functionality for Jpeg, png, and gif output. Allows adjustable Jpeg compression, but doesn't implement indexed PNG files or quantized GIF files.  
 <a href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ImageResizer.Plugins.Basic.DefaultEncoder:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder__inherit__graph.png" border="0" usemap="#_image_resizer_8_plugins_8_basic_8_default_encoder_inherit__map" alt="Inheritance graph"/></div>
<map name="_image_resizer_8_plugins_8_basic_8_default_encoder_inherit__map" id="_image_resizer_8_plugins_8_basic_8_default_encoder_inherit__map">
<area shape="rect" id="node9" href="class_image_resizer_1_1_plugins_1_1_wic_encoder_1_1_wic_encoder_plugin.html" title="ImageResizer.Plugins.WicEncoder.WicEncoderPlugin" alt="" coords="5,198,784,245"/><area shape="rect" id="node2" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html" title="An image encoder. Exposes methods for suitability checking, encoding, transparency compatibility chec..." alt="" coords="81,6,228,53"/><area shape="rect" id="node4" href="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin.html" title="For plugins that access the query string (important!)" alt="" coords="253,6,536,53"/><area shape="rect" id="node6" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html" title="All plugins must implement this. Enables web.config addition and removal." alt="" coords="561,6,679,53"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ImageResizer.Plugins.Basic.DefaultEncoder:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder__coll__graph.png" border="0" usemap="#_image_resizer_8_plugins_8_basic_8_default_encoder_coll__map" alt="Collaboration graph"/></div>
<map name="_image_resizer_8_plugins_8_basic_8_default_encoder_coll__map" id="_image_resizer_8_plugins_8_basic_8_default_encoder_coll__map">
<area shape="rect" id="node2" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html" title="An image encoder. Exposes methods for suitability checking, encoding, transparency compatibility chec..." alt="" coords="11,6,159,53"/><area shape="rect" id="node4" href="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin.html" title="For plugins that access the query string (important!)" alt="" coords="184,6,467,53"/><area shape="rect" id="node6" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html" title="All plugins must implement this. Enables web.config addition and removal." alt="" coords="491,6,609,53"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d6ac919cae1dd7a3cbd5332c22da82d"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::DefaultEncoder" ref="a4d6ac919cae1dd7a3cbd5332c22da82d" args="(ImageFormat outputFormat)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>DefaultEncoder</b> (ImageFormat outputFormat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5871cd32a072bc870963e12f2ef0bce0"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::DefaultEncoder" ref="a5871cd32a072bc870963e12f2ef0bce0" args="(ImageFormat outputFormat, int jpegQuality)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>DefaultEncoder</b> (ImageFormat outputFormat, int jpegQuality)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98c61b426ccb6b71ee2dc75d41b6d85e"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::DefaultEncoder" ref="a98c61b426ccb6b71ee2dc75d41b6d85e" args="(ResizeSettings settings, object original)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>DefaultEncoder</b> (<a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, object original)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html">IEncoder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a67f233f3924322f3fd0c6c26c68ac27d">CreateIfSuitable</a> (<a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, object original)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If the encoder can handle the requirements specified by 'settings' and 'source', it should return an encoder instance. If not, it should return null.  <a href="#a67f233f3924322f3fd0c6c26c68ac27d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a2d902a027342c566ff12e3b9336f9e81">IsValidOutputFormat</a> (ImageFormat f)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the this encoder supports the specified image format.  <a href="#a2d902a027342c566ff12e3b9336f9e81"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a60d2c551e5991c4ce2bb8c436cd539e7">Write</a> (Image image, System.IO.Stream s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the specified image to the stream using Quality and OutputFormat.  <a href="#a60d2c551e5991c4ce2bb8c436cd539e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual IEnumerable&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#afd73cde8c564226c474e497006dd63f3">GetSupportedQuerystringKeys</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the querystring keys used by <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html" title="Provides basic encoding functionality for Jpeg, png, and gif output. Allows adjustable Jpeg compressi...">DefaultEncoder</a> (quality, format, and thumbnail)  <a href="#afd73cde8c564226c474e497006dd63f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac33247aaac9f447e000d4caefbc9d8cb"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::Install" ref="ac33247aaac9f447e000d4caefbc9d8cb" args="(Configuration.Config c)" -->
<a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Install</b> (<a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Configuration.Config</a> c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa615daa9c9c8e8e2a6af7d5b1205c757"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::Uninstall" ref="aa615daa9c9c8e8e2a6af7d5b1205c757" args="(Configuration.Config c)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>Uninstall</b> (<a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Configuration.Config</a> c)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ImageFormat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a6112f4c23eeeda6ce64653aa01f072c2">GetRequestedFormat</a> (string format, ImageFormat defaultValue)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to parse an ImageFormat from the settings.Format value. If an unrecogized format is specified, returns null. If an unsupported format is specified, it is returned. If *no* format is specified, returns defaultValue.  <a href="#a6112f4c23eeeda6ce64653aa01f072c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ImageFormat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#acc585ecc7211955d45eea47a2964ab64">GetOriginalFormat</a> (object original)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to determine the ImageFormat of the source image. First attempts to parse the path, if a string is present in original.Tag. (or if 'original' is a string) Falls back to using original.RawFormat. Returns null if both 'original' is null. RawFormat has a bad reputation, so this may return unexpected values, like MemoryBitmap or something in some situations.  <a href="#acc585ecc7211955d45eea47a2964ab64"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ImageFormat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a6bc61e53454be5820b1be27739f85056">GetImageFormatFromPhysicalPath</a> (string path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ImageFormat enumeration value based on the extension in the specified physical path. Extensions can lie, just a guess.  <a href="#a6bc61e53454be5820b1be27739f85056"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#aef1d34fa5b8384807f02db653600cfc7">GetExtensionFromImageFormat</a> (ImageFormat format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an string instance from the specfied ImageFormat. First matching entry in imageExtensions is used. Returns null if not recognized.  <a href="#aef1d34fa5b8384807f02db653600cfc7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ImageFormat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a0a8c27e25a65aba24098a7f70dc09f2e">GetImageFormatFromExtension</a> (string ext)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an ImageFormat instance from the specfied file extension. Extensions lie sometimes, just a guess. returns null if not recognized.  <a href="#a0a8c27e25a65aba24098a7f70dc09f2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8851a6e69a4db026b75abf92ea3ffd4"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::AddImageExtension" ref="aa8851a6e69a4db026b75abf92ea3ffd4" args="(string extension, ImageFormat matchingFormat)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>AddImageExtension</b> (string extension, ImageFormat matchingFormat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#ab609bf99180cd6f3c94ef111be799fc8">GetContentTypeFromImageFormat</a> (ImageFormat format)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Supports Png, Jpeg, Gif, Bmp, and Tiff. Throws a ArgumentOutOfRangeException if not png, jpeg, gif, bmp, or tiff.  <a href="#ab609bf99180cd6f3c94ef111be799fc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static ImageCodecInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a42b7fe93c685743b20d913025e8d17a1">GetImageCodeInfo</a> (string mimeType)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first ImageCodeInfo instance with the specified mime type. Returns null if there are no matches.  <a href="#a42b7fe93c685743b20d913025e8d17a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a00f0d540dc7b93015a9ef435a37a3e30">SaveJpeg</a> (Image b, Stream target, int quality)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the specified image to the specified stream using jpeg compression of the specified quality.  <a href="#a00f0d540dc7b93015a9ef435a37a3e30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a0f22c5561167bc2644cb0557c456d2b2">SavePng</a> (Image img, Stream target)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc6d3582a32373815b0739c605501cde"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::SaveBmp" ref="afc6d3582a32373815b0739c605501cde" args="(Image img, Stream target)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>SaveBmp</b> (Image img, Stream target)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d43938d6d428ce2a79425b3c55759d8"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::SaveGif" ref="a9d43938d6d428ce2a79425b3c55759d8" args="(Image img, Stream target)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>SaveGif</b> (Image img, Stream target)</td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ImageFormat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a05e01400cc770d28d70261b0935d9b13">OutputFormat</a><code> [get, set]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If you set this to anything other than Gif, Png, or Jpeg, it will throw an exception. Defaults to Jpeg.  <a href="#a05e01400cc770d28d70261b0935d9b13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#aa82bfe2e02917c4c259cb812bcf4e47d">Quality</a><code> [get, set]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">0..100 value. The Jpeg compression quality. 90 is the best setting. Not relevant in Png or Gif compression  <a href="#aa82bfe2e02917c4c259cb812bcf4e47d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a58af1f14f20525be0434dd5e9086c04f">SupportsTransparency</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the desired output type supports transparency.  <a href="#a58af1f14f20525be0434dd5e9086c04f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a2e1e40a944c8d1167d5aa07bdb104477">MimeType</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default mime-type for the OutputFormat.  <a href="#a2e1e40a944c8d1167d5aa07bdb104477"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#ab2b38b6d7a6b8072958ed8335838f68b">Extension</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the default file extesnion for OutputFormat.  <a href="#ab2b38b6d7a6b8072958ed8335838f68b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Provides basic encoding functionality for Jpeg, png, and gif output. Allows adjustable Jpeg compression, but doesn't implement indexed PNG files or quantized GIF files. </p>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00017">17</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a67f233f3924322f3fd0c6c26c68ac27d"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::CreateIfSuitable" ref="a67f233f3924322f3fd0c6c26c68ac27d" args="(ResizeSettings settings, object original)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html">IEncoder</a> <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a67f233f3924322f3fd0c6c26c68ac27d">ImageResizer.Plugins.Basic.DefaultEncoder.CreateIfSuitable</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>original</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If the encoder can handle the requirements specified by 'settings' and 'source', it should return an encoder instance. If not, it should return null. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>Request settings, like format, quality, colors, dither, etc.</td></tr>
    <tr><td class="paramname">original</td><td>May be a Drawing.Image instance, a path, or null. To provide both, set Image.tag to the path. Helps the encoder detect the original format if the format was not specified. May also be used for palette generation hinting by some encoders.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html#ad63c950ef185945b7e1d9bab7a094354">ImageResizer.Encoding.IEncoder</a>.</p>

<p>Reimplemented in <a class="el" href="class_image_resizer_1_1_plugins_1_1_wic_encoder_1_1_wic_encoder_plugin.html#a1f3770cad37cc193c2108e92a9c85f26">ImageResizer.Plugins.WicEncoder.WicEncoderPlugin</a>.</p>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00050">50</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                           {
            ImageFormat requestedFormat = <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a6112f4c23eeeda6ce64653aa01f072c2" title="Tries to parse an ImageFormat from the settings.Format value. If an unrecogized format is specified...">GetRequestedFormat</a>(settings.Format, ImageFormat.Jpeg);
            <span class="keywordflow">if</span> (requestedFormat == null || !<a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a2d902a027342c566ff12e3b9336f9e81" title="Returns true if the this encoder supports the specified image format.">IsValidOutputFormat</a>(requestedFormat)) <span class="keywordflow">return</span> null; <span class="comment">//An unsupported format was explicitly specified.</span>
            <span class="keywordflow">return</span> <span class="keyword">new</span> DefaultEncoder(settings, original);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ab609bf99180cd6f3c94ef111be799fc8"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::GetContentTypeFromImageFormat" ref="ab609bf99180cd6f3c94ef111be799fc8" args="(ImageFormat format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static string <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#ab609bf99180cd6f3c94ef111be799fc8">ImageResizer.Plugins.Basic.DefaultEncoder.GetContentTypeFromImageFormat</a> </td>
          <td>(</td>
          <td class="paramtype">ImageFormat&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Supports Png, Jpeg, Gif, Bmp, and Tiff. Throws a ArgumentOutOfRangeException if not png, jpeg, gif, bmp, or tiff. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00260">260</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

<p>Referenced by <a class="el" href="_image_request_action_8cs_source.html#l00140">ImageResizer.Mvc.ImageRequestAction.ExecuteVirtualFileResult()</a>, and <a class="el" href="_intercept_module_8cs_source.html#l00168">ImageResizer.InterceptModule.HandleRequest()</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (format == null) <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException();

            <span class="keywordflow">if</span> (ImageFormat.Png.Equals(format))
                <span class="keywordflow">return</span> <span class="stringliteral">&quot;image/png&quot;</span>; <span class="comment">//Changed from image/x-png to image/png on May 14, 2011, per http://www.w3.org/Graphics/PNG/</span>
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImageFormat.Jpeg.Equals(format))
                <span class="keywordflow">return</span> <span class="stringliteral">&quot;image/jpeg&quot;</span>;
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImageFormat.Gif.Equals(format))
                <span class="keywordflow">return</span> <span class="stringliteral">&quot;image/gif&quot;</span>;
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImageFormat.Bmp.Equals(format))
                <span class="keywordflow">return</span> <span class="stringliteral">&quot;image/x-ms-bmp&quot;</span>;
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImageFormat.Tiff.Equals(format))
                <span class="keywordflow">return</span> <span class="stringliteral">&quot;image/tiff&quot;</span>;
            <span class="keywordflow">else</span>
            {
                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="stringliteral">&quot;Unsupported format &quot;</span> + format.ToString());
            }

        }
</pre></div>
</div>
</div>
<a class="anchor" id="aef1d34fa5b8384807f02db653600cfc7"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::GetExtensionFromImageFormat" ref="aef1d34fa5b8384807f02db653600cfc7" args="(ImageFormat format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static string <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#aef1d34fa5b8384807f02db653600cfc7">ImageResizer.Plugins.Basic.DefaultEncoder.GetExtensionFromImageFormat</a> </td>
          <td>(</td>
          <td class="paramtype">ImageFormat&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns an string instance from the specfied ImageFormat. First matching entry in imageExtensions is used. Returns null if not recognized. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00183">183</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            lock (_syncExts) {
                <span class="keywordflow">foreach</span> (KeyValuePair&lt;string, ImageFormat&gt; p <span class="keywordflow">in</span> imageExtensions) {
                    <span class="keywordflow">if</span> (p.Value.Guid.Equals(format.Guid)) <span class="keywordflow">return</span> p.Key;
                }
            }
            <span class="keywordflow">return</span> null;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a42b7fe93c685743b20d913025e8d17a1"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::GetImageCodeInfo" ref="a42b7fe93c685743b20d913025e8d17a1" args="(string mimeType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ImageCodecInfo <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a42b7fe93c685743b20d913025e8d17a1">ImageResizer.Plugins.Basic.DefaultEncoder.GetImageCodeInfo</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>mimeType</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the first ImageCodeInfo instance with the specified mime type. Returns null if there are no matches. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mimeType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00286">286</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                       {
            ImageCodecInfo[] info = ImageCodecInfo.GetImageEncoders();
            <span class="keywordflow">foreach</span> (ImageCodecInfo ici <span class="keywordflow">in</span> info)
                <span class="keywordflow">if</span> (ici.MimeType.Equals(mimeType, StringComparison.OrdinalIgnoreCase)) <span class="keywordflow">return</span> ici;
            <span class="keywordflow">return</span> null;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a0a8c27e25a65aba24098a7f70dc09f2e"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::GetImageFormatFromExtension" ref="a0a8c27e25a65aba24098a7f70dc09f2e" args="(string ext)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ImageFormat <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a0a8c27e25a65aba24098a7f70dc09f2e">ImageResizer.Plugins.Basic.DefaultEncoder.GetImageFormatFromExtension</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>ext</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns an ImageFormat instance from the specfied file extension. Extensions lie sometimes, just a guess. returns null if not recognized. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ext</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00230">230</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

<p>Referenced by <a class="el" href="_image_request_action_8cs_source.html#l00140">ImageResizer.Mvc.ImageRequestAction.ExecuteVirtualFileResult()</a>, <a class="el" href="_default_encoder_8cs_source.html#l00131">ImageResizer.Plugins.Basic.DefaultEncoder.GetRequestedFormat()</a>, and <a class="el" href="_intercept_module_8cs_source.html#l00168">ImageResizer.InterceptModule.HandleRequest()</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.IsNullOrEmpty(ext)) <span class="keywordflow">return</span> null;
            lock (_syncExts) {
                ext = ext.Trim(<span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;.&#39;</span>).ToLowerInvariant();
                <span class="keywordflow">if</span> (!imageExtensions.ContainsKey(ext)) <span class="keywordflow">return</span> null;
                <span class="keywordflow">return</span> imageExtensions[ext];
            }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a6bc61e53454be5820b1be27739f85056"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::GetImageFormatFromPhysicalPath" ref="a6bc61e53454be5820b1be27739f85056" args="(string path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ImageFormat <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a6bc61e53454be5820b1be27739f85056">ImageResizer.Plugins.Basic.DefaultEncoder.GetImageFormatFromPhysicalPath</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the ImageFormat enumeration value based on the extension in the specified physical path. Extensions can lie, just a guess. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00172">172</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

<p>Referenced by <a class="el" href="_default_encoder_8cs_source.html#l00148">ImageResizer.Plugins.Basic.DefaultEncoder.GetOriginalFormat()</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a0a8c27e25a65aba24098a7f70dc09f2e" title="Returns an ImageFormat instance from the specfied file extension. Extensions lie sometimes, just a guess. returns null if not recognized.">GetImageFormatFromExtension</a>(System.IO.Path.GetExtension(path));
        }
</pre></div>
</div>
</div>
<a class="anchor" id="acc585ecc7211955d45eea47a2964ab64"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::GetOriginalFormat" ref="acc585ecc7211955d45eea47a2964ab64" args="(object original)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ImageFormat <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#acc585ecc7211955d45eea47a2964ab64">ImageResizer.Plugins.Basic.DefaultEncoder.GetOriginalFormat</a> </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>original</em></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attempts to determine the ImageFormat of the source image. First attempts to parse the path, if a string is present in original.Tag. (or if 'original' is a string) Falls back to using original.RawFormat. Returns null if both 'original' is null. RawFormat has a bad reputation, so this may return unexpected values, like MemoryBitmap or something in some situations. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">original</td><td>The source image that was loaded from a stream, or a string path</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00148">148</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                     {
            <span class="keywordflow">if</span> (original == null) <span class="keywordflow">return</span> null;
            <span class="comment">//Try to parse the original file extension first.</span>
            <span class="keywordtype">string</span> path = original as string;
            
            <span class="keywordflow">if</span> (path == null &amp;&amp; original is Image) path = ((Image)original).Tag as string;

            <span class="keywordflow">if</span> (path == null &amp;&amp; original is Image &amp;&amp; ((Image)original).Tag is <a class="code" href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">BitmapTag</a>) path = ((BitmapTag)((Image)original).Tag).Path;

            <span class="comment">//We have a path? Parse it!</span>
            <span class="keywordflow">if</span> (path != null) {
                ImageFormat f = DefaultEncoder.GetImageFormatFromPhysicalPath(path);
                <span class="keywordflow">if</span> (f != null) <span class="keywordflow">return</span> f; <span class="comment">//From the path</span>
            }
            <span class="comment">//Ok, I guess it there (a) wasn&#39;t a path, or (b), it didn&#39;t have a recognizeable extension</span>
            <span class="keywordflow">if</span> (original is Image) <span class="keywordflow">return</span> ((Image)original).RawFormat;
            <span class="keywordflow">return</span> null;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a6112f4c23eeeda6ce64653aa01f072c2"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::GetRequestedFormat" ref="a6112f4c23eeeda6ce64653aa01f072c2" args="(string format, ImageFormat defaultValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ImageFormat <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a6112f4c23eeeda6ce64653aa01f072c2">ImageResizer.Plugins.Basic.DefaultEncoder.GetRequestedFormat</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ImageFormat&#160;</td>
          <td class="paramname"><em>defaultValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tries to parse an ImageFormat from the settings.Format value. If an unrecogized format is specified, returns null. If an unsupported format is specified, it is returned. If *no* format is specified, returns defaultValue. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td></td></tr>
    <tr><td class="paramname">defaultValue</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00131">131</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

<p>Referenced by <a class="el" href="_wic_encoder_8cs_source.html#l00075">ImageResizer.Plugins.WicEncoder.WicEncoderPlugin.CreateIfSuitable()</a>, and <a class="el" href="_free_image_encoder_8cs_source.html#l00080">ImageResizer.Plugins.FreeImageEncoder.FreeImageEncoderPlugin.CreateIfSuitable()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                              {
            ImageFormat f = null;
            <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(format)) {
                f = DefaultEncoder.GetImageFormatFromExtension(format);
                <span class="keywordflow">return</span> f;
            }
            <span class="comment">//Fallback. No encoder was explicitly specified, so let&#39;s try to infer it from the image data.</span>
            <span class="keywordflow">return</span> defaultValue;

        }
</pre></div>
</div>
</div>
<a class="anchor" id="afd73cde8c564226c474e497006dd63f3"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::GetSupportedQuerystringKeys" ref="afd73cde8c564226c474e497006dd63f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual IEnumerable&lt;string&gt; <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#afd73cde8c564226c474e497006dd63f3">ImageResizer.Plugins.Basic.DefaultEncoder.GetSupportedQuerystringKeys</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the querystring keys used by <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html" title="Provides basic encoding functionality for Jpeg, png, and gif output. Allows adjustable Jpeg compressi...">DefaultEncoder</a> (quality, format, and thumbnail) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_querystring_plugin.html#aaa1c43be9b92caf1f1caa81dc9e9f4bf">ImageResizer.Plugins.IQuerystringPlugin</a>.</p>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00384">384</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                         {
            <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keywordtype">string</span>[] { <span class="stringliteral">&quot;quality&quot;</span>, <span class="stringliteral">&quot;format&quot;</span>, <span class="stringliteral">&quot;thumbnail&quot;</span> };
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a2d902a027342c566ff12e3b9336f9e81"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::IsValidOutputFormat" ref="a2d902a027342c566ff12e3b9336f9e81" args="(ImageFormat f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a2d902a027342c566ff12e3b9336f9e81">ImageResizer.Plugins.Basic.DefaultEncoder.IsValidOutputFormat</a> </td>
          <td>(</td>
          <td class="paramtype">ImageFormat&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the this encoder supports the specified image format. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00072">72</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
            <span class="keywordflow">return</span> (ImageFormat.Gif.Equals(f) || ImageFormat.Png.Equals(f) || ImageFormat.Jpeg.Equals(f));
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a00f0d540dc7b93015a9ef435a37a3e30"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::SaveJpeg" ref="a00f0d540dc7b93015a9ef435a37a3e30" args="(Image b, Stream target, int quality)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a00f0d540dc7b93015a9ef435a37a3e30">ImageResizer.Plugins.Basic.DefaultEncoder.SaveJpeg</a> </td>
          <td>(</td>
          <td class="paramtype">Image&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quality</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves the specified image to the specified stream using jpeg compression of the specified quality. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td></td></tr>
    <tr><td class="paramname">quality</td><td>A number between 0 and 100. Defaults to 90 if passed a negative number. Numbers over 100 are truncated to 100. 90 is a *very* good setting. </td></tr>
    <tr><td class="paramname">target</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00302">302</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                                         {
<span class="preprocessor">            #region Encoder paramater notes</span>
<span class="preprocessor"></span>            <span class="comment">//image/jpeg</span>
            <span class="comment">//  The parameter list requires 172 bytes.</span>
            <span class="comment">//  There are 4 EncoderParameter objects in the array.</span>
            <span class="comment">//    Parameter[0]</span>
            <span class="comment">//      The category is Transformation.</span>
            <span class="comment">//      The data type is Long.</span>
            <span class="comment">//      The number of values is 5.</span>
            <span class="comment">//    Parameter[1]</span>
            <span class="comment">//      The category is Quality.</span>
            <span class="comment">//      The data type is LongRange.</span>
            <span class="comment">//      The number of values is 1.</span>
            <span class="comment">//    Parameter[2]</span>
            <span class="comment">//      The category is LuminanceTable.</span>
            <span class="comment">//      The data type is Short.</span>
            <span class="comment">//      The number of values is 0.</span>
            <span class="comment">//    Parameter[3]</span>
            <span class="comment">//      The category is ChrominanceTable.</span>
            <span class="comment">//      The data type is Short.</span>
            <span class="comment">//      The number of values is 0.</span>


            <span class="comment">//  http://msdn.microsoft.com/en-us/library/ms533845(VS.85).aspx</span>
            <span class="comment">// http://msdn.microsoft.com/en-us/library/ms533844(VS.85).aspx</span>
            <span class="comment">// TODO: What about ICC profiles</span>
<span class="preprocessor">            #endregion</span>
<span class="preprocessor"></span>            
            <span class="comment">//Validate quality</span>
            <span class="keywordflow">if</span> (quality &lt; 0) quality = 90; <span class="comment">//90 is a very good default to stick with.</span>
            <span class="keywordflow">if</span> (quality &gt; 100) quality = 100;
            <span class="comment">//Prepare paramater for encoder</span>
            <span class="keyword">using</span> (EncoderParameters p = <span class="keyword">new</span> EncoderParameters(1)) {

                p.Param[0] = <span class="keyword">new</span> EncoderParameter(System.Drawing.Imaging.Encoder.Quality, (<span class="keywordtype">long</span>)quality);
                <span class="comment">//save</span>
                b.Save(target, <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a42b7fe93c685743b20d913025e8d17a1" title="Returns the first ImageCodeInfo instance with the specified mime type. Returns null if there are no m...">GetImageCodeInfo</a>(<span class="stringliteral">&quot;image/jpeg&quot;</span>), p);
            }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a0f22c5561167bc2644cb0557c456d2b2"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::SavePng" ref="a0f22c5561167bc2644cb0557c456d2b2" args="(Image img, Stream target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a0f22c5561167bc2644cb0557c456d2b2">ImageResizer.Plugins.Basic.DefaultEncoder.SavePng</a> </td>
          <td>(</td>
          <td class="paramtype">Image&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Saves the image in png form. If Stream 'target' is not seekable, a temporary MemoryStream will be used to buffer the image data into the stream</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td></td></tr>
    <tr><td class="paramname">target</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00347">347</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

<p>Referenced by <a class="el" href="_pretty_gifs_8cs_source.html#l00126">ImageResizer.Plugins.PrettyGifs.PrettyGifs.Write()</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> (!target.CanSeek) {
                <span class="comment">//Write to an intermediate, seekable memory stream (PNG compression requires it)</span>
                <span class="keyword">using</span> (MemoryStream ms = <span class="keyword">new</span> MemoryStream(4096)) {
                    img.Save(ms, System.Drawing.Imaging.ImageFormat.Png);
                    ms.WriteTo(target);
                }
            } <span class="keywordflow">else</span> {
                <span class="comment">//image/png</span>
                <span class="comment">//  The parameter list requires 0 bytes.</span>
                img.Save(target, System.Drawing.Imaging.ImageFormat.Png);
            }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a60d2c551e5991c4ce2bb8c436cd539e7"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::Write" ref="a60d2c551e5991c4ce2bb8c436cd539e7" args="(Image image, System.IO.Stream s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a60d2c551e5991c4ce2bb8c436cd539e7">ImageResizer.Plugins.Basic.DefaultEncoder.Write</a> </td>
          <td>(</td>
          <td class="paramtype">Image&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">System.IO.Stream&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the specified image to the stream using Quality and OutputFormat. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td></td></tr>
    <tr><td class="paramname">s</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00091">91</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
            <span class="keywordflow">if</span> (ImageFormat.Jpeg.Equals(<a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a05e01400cc770d28d70261b0935d9b13" title="If you set this to anything other than Gif, Png, or Jpeg, it will throw an exception. Defaults to Jpeg.">OutputFormat</a>)) <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a00f0d540dc7b93015a9ef435a37a3e30" title="Saves the specified image to the specified stream using jpeg compression of the specified quality...">SaveJpeg</a>(image, s, this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#aa82bfe2e02917c4c259cb812bcf4e47d" title="0..100 value. The Jpeg compression quality. 90 is the best setting. Not relevant in Png or Gif compre...">Quality</a>);
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImageFormat.Png.Equals(<a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a05e01400cc770d28d70261b0935d9b13" title="If you set this to anything other than Gif, Png, or Jpeg, it will throw an exception. Defaults to Jpeg.">OutputFormat</a>)) <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a0f22c5561167bc2644cb0557c456d2b2">SavePng</a>(image, s);
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ImageFormat.Gif.Equals(<a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a05e01400cc770d28d70261b0935d9b13" title="If you set this to anything other than Gif, Png, or Jpeg, it will throw an exception. Defaults to Jpeg.">OutputFormat</a>)) SaveGif(image, s);
        }
</pre></div>
</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="ab2b38b6d7a6b8072958ed8335838f68b"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::Extension" ref="ab2b38b6d7a6b8072958ed8335838f68b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#ab2b38b6d7a6b8072958ed8335838f68b">ImageResizer.Plugins.Basic.DefaultEncoder.Extension</a><code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the default file extesnion for OutputFormat. </p>

<p>Implements <a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html#ad7da126e6577cc319df398bf04949859">ImageResizer.Encoding.IEncoder</a>.</p>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00115">115</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2e1e40a944c8d1167d5aa07bdb104477"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::MimeType" ref="a2e1e40a944c8d1167d5aa07bdb104477" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a2e1e40a944c8d1167d5aa07bdb104477">ImageResizer.Plugins.Basic.DefaultEncoder.MimeType</a><code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the default mime-type for the OutputFormat. </p>

<p>Implements <a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html#a7cbe10dac3c2bad04d088ae6f20e4180">ImageResizer.Encoding.IEncoder</a>.</p>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00109">109</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a05e01400cc770d28d70261b0935d9b13"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::OutputFormat" ref="a05e01400cc770d28d70261b0935d9b13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ImageFormat <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a05e01400cc770d28d70261b0935d9b13">ImageResizer.Plugins.Basic.DefaultEncoder.OutputFormat</a><code> [get, set]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If you set this to anything other than Gif, Png, or Jpeg, it will throw an exception. Defaults to Jpeg. </p>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00060">60</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aa82bfe2e02917c4c259cb812bcf4e47d"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::Quality" ref="aa82bfe2e02917c4c259cb812bcf4e47d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#aa82bfe2e02917c4c259cb812bcf4e47d">ImageResizer.Plugins.Basic.DefaultEncoder.Quality</a><code> [get, set]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>0..100 value. The Jpeg compression quality. 90 is the best setting. Not relevant in Png or Gif compression </p>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00081">81</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a58af1f14f20525be0434dd5e9086c04f"></a><!-- doxytag: member="ImageResizer::Plugins::Basic::DefaultEncoder::SupportsTransparency" ref="a58af1f14f20525be0434dd5e9086c04f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_default_encoder.html#a58af1f14f20525be0434dd5e9086c04f">ImageResizer.Plugins.Basic.DefaultEncoder.SupportsTransparency</a><code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the desired output type supports transparency. </p>

<p>Implements <a class="el" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html#adb440f5f1d5b9a4ba55df65163cc8c40">ImageResizer.Encoding.IEncoder</a>.</p>

<p>Definition at line <a class="el" href="_default_encoder_8cs_source.html#l00100">100</a> of file <a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Administrator/Documents/resizer/Core/Plugins/Basic/<a class="el" href="_default_encoder_8cs_source.html">DefaultEncoder.cs</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
