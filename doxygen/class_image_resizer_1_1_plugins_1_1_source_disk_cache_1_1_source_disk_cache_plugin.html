<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ImageResizer: ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="imageresizer-logo-00aec4.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_image_resizer.html">ImageResizer</a></li><li class="navelem"><a class="el" href="namespace_image_resizer_1_1_plugins.html">Plugins</a></li><li class="navelem"><a class="el" href="namespace_image_resizer_1_1_plugins_1_1_source_disk_cache.html">SourceDiskCache</a></li><li class="navelem"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html">SourceDiskCachePlugin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin__inherit__graph.png" border="0" usemap="#_image_resizer_8_plugins_8_source_disk_cache_8_source_disk_cache_plugin_inherit__map" alt="Inheritance graph"/></div>
<map name="_image_resizer_8_plugins_8_source_disk_cache_8_source_disk_cache_plugin_inherit__map" id="_image_resizer_8_plugins_8_source_disk_cache_8_source_disk_cache_plugin_inherit__map">
<area shape="rect" id="node2" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache.html" title="Implement this if you are caching files provided by a virtual image provider (For example..." alt="" coords="5,6,267,53"/><area shape="rect" id="node4" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html" title="All plugins must implement this. Enables web.config addition and removal. " alt="" coords="291,6,409,53"/><area shape="rect" id="node6" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider.html" title="ILoggerProvider" alt="" coords="434,6,677,53"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin__coll__graph.png" border="0" usemap="#_image_resizer_8_plugins_8_source_disk_cache_8_source_disk_cache_plugin_coll__map" alt="Collaboration graph"/></div>
<map name="_image_resizer_8_plugins_8_source_disk_cache_8_source_disk_cache_plugin_coll__map" id="_image_resizer_8_plugins_8_source_disk_cache_8_source_disk_cache_plugin_coll__map">
<area shape="rect" id="node2" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache.html" title="Implement this if you are caching files provided by a virtual image provider (For example..." alt="" coords="1921,5,2183,51"/><area shape="rect" id="node4" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html" title="All plugins must implement this. Enables web.config addition and removal. " alt="" coords="1993,75,2111,122"/><area shape="rect" id="node6" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider.html" title="ILoggerProvider" alt="" coords="1930,146,2174,193"/><area shape="rect" id="node8" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_web_config_writer.html" title="Handles writing a Web.Config to disk that uses Url Authorization to prevent visitors from accessing t..." alt="" coords="1417,213,1815,294"/><area shape="rect" id="node10" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider.html" title="ImageResizer.Configuration.\lLogging.ILoggerProvider" alt="" coords="289,293,711,374"/><area shape="rect" id="node12" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_manager.html" title="ImageResizer.Plugins.Disk\lCache.CleanupManager" alt="" coords="1853,482,2251,563"/><area shape="rect" id="node26" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_custom_disk_cache.html" title="Handles access to a disk&#45;based file cache. Handles locking and versioning. Supports subfolders for sc..." alt="" coords="962,293,1361,374"/><area shape="rect" id="node14" href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider.html" title="IIssueProvider" alt="" coords="10,837,233,883"/><area shape="rect" id="node21" href="class_image_resizer_1_1_configuration_1_1_issues_1_1_issue_sink.html" title="IssueSink" alt="" coords="420,762,580,809"/><area shape="rect" id="node31" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_worker.html" title="ImageResizer.Plugins.Disk\lCache.CleanupWorker" alt="" coords="962,745,1361,826"/><area shape="rect" id="node19" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_strategy.html" title="ImageResizer.Plugins.Disk\lCache.CleanupStrategy" alt="" coords="962,639,1361,721"/><area shape="rect" id="node24" href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_receiver.html" title="IIssueReceiver" alt="" coords="6,762,237,809"/><area shape="rect" id="node29" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_lock_provider.html" title="Provides locking based on a string key. Locks are local to the LockProvider instance. The class handles disposing of unused locks. Generally used for coordinating writes to files (of which there can be millions). Only keeps key/lock pairs in memory which are in use. Thread&#45;safe. " alt="" coords="301,482,699,563"/><area shape="rect" id="node35" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_1_1_cleanup_queue.html" title="ImageResizer.Plugins.Disk\lCache.Cleanup.CleanupQueue" alt="" coords="931,482,1391,563"/><area shape="rect" id="node38" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger.html" title="ImageResizer.Configuration.\lLogging.ILogger" alt="" coords="1841,587,2263,669"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin_1_1_source_virtual_file.html">SourceVirtualFile</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4175991cc85bf4ef591d481d1152282"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4175991cc85bf4ef591d481d1152282"></a>
<a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file.html">IVirtualFile</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GetFileIfCached</b> (string virtualPath, System.Collections.Specialized.NameValueCollection queryString, <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file.html">IVirtualFile</a> original)</td></tr>
<tr class="separator:ae4175991cc85bf4ef591d481d1152282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c0883bdf4b5fec7fadbd2fcb927bb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a09c0883bdf4b5fec7fadbd2fcb927bb1">Install</a> (<a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a> c)</td></tr>
<tr class="memdesc:a09c0883bdf4b5fec7fadbd2fcb927bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the settings from 'c', starts the cache, and registers the plugin. Will throw an invalidoperationexception if already started.  <a href="#a09c0883bdf4b5fec7fadbd2fcb927bb1">More...</a><br/></td></tr>
<tr class="separator:a09c0883bdf4b5fec7fadbd2fcb927bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318e59c057c2cf74d7e768739008798f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a318e59c057c2cf74d7e768739008798f">Uninstall</a> (<a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a> c)</td></tr>
<tr class="memdesc:a318e59c057c2cf74d7e768739008798f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uninstalls the plugin. Should reverse all changes made during Install  <a href="#a318e59c057c2cf74d7e768739008798f">More...</a><br/></td></tr>
<tr class="separator:a318e59c057c2cf74d7e768739008798f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb02f385006490917e5e3a75ac831ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#abfb02f385006490917e5e3a75ac831ae">IsConfigurationValid</a> ()</td></tr>
<tr class="memdesc:abfb02f385006490917e5e3a75ac831ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the configured settings are valid and .NET (not NTFS) permissions will work.  <a href="#abfb02f385006490917e5e3a75ac831ae">More...</a><br/></td></tr>
<tr class="separator:abfb02f385006490917e5e3a75ac831ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d4739817111ef3a5fd1bb73b8ae97a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ad7d4739817111ef3a5fd1bb73b8ae97a">Start</a> ()</td></tr>
<tr class="memdesc:ad7d4739817111ef3a5fd1bb73b8ae97a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to start the <a class="el" href="namespace_image_resizer_1_1_plugins_1_1_disk_cache.html">DiskCache</a> using the current settings. Returns true if succesful or if already started. Returns false on a configuration error. Called by <a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a09c0883bdf4b5fec7fadbd2fcb927bb1" title="Loads the settings from &#39;c&#39;, starts the cache, and registers the plugin. Will throw an invalidoperati...">Install()</a>  <a href="#ad7d4739817111ef3a5fd1bb73b8ae97a">More...</a><br/></td></tr>
<tr class="separator:ad7d4739817111ef3a5fd1bb73b8ae97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7928b03320c6c40a1e1729ad919a8e66"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a7928b03320c6c40a1e1729ad919a8e66">Stop</a> ()</td></tr>
<tr class="memdesc:a7928b03320c6c40a1e1729ad919a8e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if stopped succesfully. Cannot be restarted  <a href="#a7928b03320c6c40a1e1729ad919a8e66">More...</a><br/></td></tr>
<tr class="separator:a7928b03320c6c40a1e1729ad919a8e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache.html">ImageResizer.Plugins.IVirtualFileCache</a></td></tr>
<tr class="memitem:a7c47e218f12b55976cb9da46ef61cfde inherit pub_methods_interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file.html">IVirtualFile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache.html#a7c47e218f12b55976cb9da46ef61cfde">GetFileIfCached</a> (string virtualPath, NameValueCollection queryString, <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file.html">IVirtualFile</a> original)</td></tr>
<tr class="memdesc:a7c47e218f12b55976cb9da46ef61cfde inherit pub_methods_interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a cached copy of virtual file if it is cached, and if caching is desired.  <a href="#a7c47e218f12b55976cb9da46ef61cfde">More...</a><br/></td></tr>
<tr class="separator:a7c47e218f12b55976cb9da46ef61cfde inherit pub_methods_interface_image_resizer_1_1_plugins_1_1_i_virtual_file_cache"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5685bb1548c66510a7d0b205b1ddbbaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a5685bb1548c66510a7d0b205b1ddbbaf">BeforeSettingChanged</a> ()</td></tr>
<tr class="memdesc:a5685bb1548c66510a7d0b205b1ddbbaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throws an exception if the class is already modified  <a href="#a5685bb1548c66510a7d0b205b1ddbbaf">More...</a><br/></td></tr>
<tr class="separator:a5685bb1548c66510a7d0b205b1ddbbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a6d38a9f71b10024b52e059b3795e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a62a6d38a9f71b10024b52e059b3795e9">HasFileIOPermission</a> ()</td></tr>
<tr class="memdesc:a62a6d38a9f71b10024b52e059b3795e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if .NET permissions allow writing to the cache directory. Does not check NTFS permissions.  <a href="#a62a6d38a9f71b10024b52e059b3795e9">More...</a><br/></td></tr>
<tr class="separator:a62a6d38a9f71b10024b52e059b3795e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4e714e532045fd29192f0a3628b13465"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e714e532045fd29192f0a3628b13465"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>virtualDir</b> = HostingEnvironment.ApplicationVirtualPath.TrimEnd('/') + &quot;/cache/sourceimages&quot;</td></tr>
<tr class="separator:a4e714e532045fd29192f0a3628b13465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a83a9480262178af6012eb0a8681cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80a83a9480262178af6012eb0a8681cf"></a>
<a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_custom_disk_cache.html">CustomDiskCache</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cache</b> = null</td></tr>
<tr class="separator:a80a83a9480262178af6012eb0a8681cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28bee7ef3eaf45d1c3a99e79090a533"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab28bee7ef3eaf45d1c3a99e79090a533"></a>
<a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_manager.html">CleanupManager</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cleaner</b> = null</td></tr>
<tr class="separator:ab28bee7ef3eaf45d1c3a99e79090a533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8403b4e4b92bfb7bd3d59d3e5a3d720"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8403b4e4b92bfb7bd3d59d3e5a3d720"></a>
<a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_web_config_writer.html">WebConfigWriter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>writer</b> = null</td></tr>
<tr class="separator:ae8403b4e4b92bfb7bd3d59d3e5a3d720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702ce7d061bd0103a3104d47b0c3c225"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a702ce7d061bd0103a3104d47b0c3c225"></a>
readonly object&#160;</td><td class="memItemRight" valign="bottom"><b>_startSync</b> = new object()</td></tr>
<tr class="separator:a702ce7d061bd0103a3104d47b0c3c225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee5db3160890bdd16572fe5d2a72e7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ee5db3160890bdd16572fe5d2a72e7d"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>_started</b> = false</td></tr>
<tr class="separator:a7ee5db3160890bdd16572fe5d2a72e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb542e250dc12f17c33a7b1836d8ae2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeeb542e250dc12f17c33a7b1836d8ae2"></a>
<a class="el" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger.html">ILogger</a>&#160;</td><td class="memItemRight" valign="bottom"><b>log</b> = null</td></tr>
<tr class="separator:aeeb542e250dc12f17c33a7b1836d8ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a35ccb6ff140c234e0df3c1604bfa6fda"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a35ccb6ff140c234e0df3c1604bfa6fda">VirtualCacheDir</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a35ccb6ff140c234e0df3c1604bfa6fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the location of the cache directory. Can be a virtual path (like /App/imagecache) or an application-relative path (like ~/imagecache, the default). Relative paths are assummed to be relative to the application root. All values are converted to virtual path format upon assignment (/App/imagecache) Will throw an InvalidOperationException if changed after the plugin is installed.  <a href="#a35ccb6ff140c234e0df3c1604bfa6fda">More...</a><br/></td></tr>
<tr class="separator:a35ccb6ff140c234e0df3c1604bfa6fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a547b820be187b5ee409b808551202"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ab4a547b820be187b5ee409b808551202">PhysicalCacheDir</a><code> [get]</code></td></tr>
<tr class="memdesc:ab4a547b820be187b5ee409b808551202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the physical path of the cache directory specified in VirtualCacheDir.  <a href="#ab4a547b820be187b5ee409b808551202">More...</a><br/></td></tr>
<tr class="separator:ab4a547b820be187b5ee409b808551202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e359231254cb84fb57d82f367c25085"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a0e359231254cb84fb57d82f367c25085">Started</a><code> [get]</code></td></tr>
<tr class="memdesc:a0e359231254cb84fb57d82f367c25085"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the <a class="el" href="namespace_image_resizer_1_1_plugins_1_1_disk_cache.html">DiskCache</a> instance is operational.  <a href="#a0e359231254cb84fb57d82f367c25085">More...</a><br/></td></tr>
<tr class="separator:a0e359231254cb84fb57d82f367c25085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889e3a4888b5426cf9bc1257c3be8347"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a889e3a4888b5426cf9bc1257c3be8347"></a>
<a class="el" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger.html">ILogger</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Logger</b><code> [get]</code></td></tr>
<tr class="separator:a889e3a4888b5426cf9bc1257c3be8347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider"><td colspan="2" onclick="javascript:toggleInherit('properties_interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider.html">ImageResizer.Configuration.Logging.ILoggerProvider</a></td></tr>
<tr class="memitem:a5a2b3e20104b6f93e22076ba60164d78 inherit properties_interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a2b3e20104b6f93e22076ba60164d78"></a>
<a class="el" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger.html">ILogger</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Logger</b><code> [get]</code></td></tr>
<tr class="separator:a5a2b3e20104b6f93e22076ba60164d78 inherit properties_interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00017">17</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5685bb1548c66510a7d0b205b1ddbbaf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.BeforeSettingChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Throws an exception if the class is already modified </p>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00057">57</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="keywordflow">if</span> (_started) <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;SourceDiskCache settings may not be adjusted after it is started.&quot;</span>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a62a6d38a9f71b10024b52e059b3795e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.HasFileIOPermission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if .NET permissions allow writing to the cache directory. Does not check NTFS permissions. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00176">176</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                             {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            FileIOPermission writePermission = <span class="keyword">new</span> FileIOPermission(FileIOPermissionAccess.AllAccess,<span class="keyword">new</span> <span class="keywordtype">string</span>[]{<a class="code" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ab4a547b820be187b5ee409b808551202">PhysicalCacheDir</a>, Path.Combine(PhysicalCacheDir,<span class="stringliteral">&quot;web.config&quot;</span>)});</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">return</span> SecurityManager.IsGranted(writePermission);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin_html_ab4a547b820be187b5ee409b808551202"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ab4a547b820be187b5ee409b808551202">ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.PhysicalCacheDir</a></div><div class="ttdeci">string PhysicalCacheDir</div><div class="ttdoc">Returns the physical path of the cache directory specified in VirtualCacheDir. </div><div class="ttdef"><b>Definition:</b> <a href="_source_disk_cache_8cs_source.html#l00047">SourceDiskCache.cs:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a09c0883bdf4b5fec7fadbd2fcb927bb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a> ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.Install </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the settings from 'c', starts the cache, and registers the plugin. Will throw an invalidoperationexception if already started. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html#acca01a73bba24037b9b3ade1b4e3c134">ImageResizer.Plugins.IPlugin</a>.</p>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00134">134</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                         {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">if</span> (c.get(<span class="stringliteral">&quot;diskcache.logging&quot;</span>, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">if</span> (c.<a class="code" href="class_image_resizer_1_1_configuration_1_1_config.html#aa8cdada7d657ec3078e5d16310f198f7">Plugins</a>.<a class="code" href="class_image_resizer_1_1_configuration_1_1_plugin_config.html#a9f23aa7ba7f123b82a9bc17fcbac3a06">LogManager</a> != null) </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    log = c.Plugins.LogManager.GetLogger(<span class="stringliteral">&quot;ImageResizer.Plugins.DiskCache&quot;</span>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                    c.Plugins.LoggingAvailable += delegate(<a class="code" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_log_manager.html">ILogManager</a> mgr) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                        <span class="keywordflow">if</span> (log != null) log = c.Plugins.LogManager.GetLogger(<span class="stringliteral">&quot;ImageResizer.Plugins.DiskCache&quot;</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    };</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ad7d4739817111ef3a5fd1bb73b8ae97a">Start</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            c.Pipeline.AuthorizeImage += Pipeline_AuthorizeImage;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            c.Plugins.add_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_configuration_1_1_plugin_config_html_a9f23aa7ba7f123b82a9bc17fcbac3a06"><div class="ttname"><a href="class_image_resizer_1_1_configuration_1_1_plugin_config.html#a9f23aa7ba7f123b82a9bc17fcbac3a06">ImageResizer.Configuration.PluginConfig.LogManager</a></div><div class="ttdeci">ILogManager LogManager</div><div class="ttdoc">Returns the most recently registered Logging plugin, or null. </div><div class="ttdef"><b>Definition:</b> <a href="_plugin_config_8cs_source.html#l00281">PluginConfig.cs:281</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_log_manager_html"><div class="ttname"><a href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_log_manager.html">ImageResizer.Configuration.Logging.ILogManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_log_manager_8cs_source.html#l00007">ILogManager.cs:7</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_configuration_1_1_config_html_aa8cdada7d657ec3078e5d16310f198f7"><div class="ttname"><a href="class_image_resizer_1_1_configuration_1_1_config.html#aa8cdada7d657ec3078e5d16310f198f7">ImageResizer.Configuration.Config.Plugins</a></div><div class="ttdeci">PluginConfig Plugins</div><div class="ttdoc">Access and modify plugins </div><div class="ttdef"><b>Definition:</b> <a href="_config_8cs_source.html#l00085">Config.cs:85</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin_html_ad7d4739817111ef3a5fd1bb73b8ae97a"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ad7d4739817111ef3a5fd1bb73b8ae97a">ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.Start</a></div><div class="ttdeci">bool Start()</div><div class="ttdoc">Attempts to start the DiskCache using the current settings. Returns true if succesful or if already s...</div><div class="ttdef"><b>Definition:</b> <a href="_source_disk_cache_8cs_source.html#l00186">SourceDiskCache.cs:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abfb02f385006490917e5e3a75ac831ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.IsConfigurationValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the configured settings are valid and .NET (not NTFS) permissions will work. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00167">167</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">return</span> !string.IsNullOrEmpty(<a class="code" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a35ccb6ff140c234e0df3c1604bfa6fda">VirtualCacheDir</a>) &amp;&amp; <a class="code" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a62a6d38a9f71b10024b52e059b3795e9">HasFileIOPermission</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin_html_a35ccb6ff140c234e0df3c1604bfa6fda"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a35ccb6ff140c234e0df3c1604bfa6fda">ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.VirtualCacheDir</a></div><div class="ttdeci">string VirtualCacheDir</div><div class="ttdoc">Sets the location of the cache directory. Can be a virtual path (like /App/imagecache) or an applicat...</div><div class="ttdef"><b>Definition:</b> <a href="_source_disk_cache_8cs_source.html#l00030">SourceDiskCache.cs:30</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin_html_a62a6d38a9f71b10024b52e059b3795e9"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a62a6d38a9f71b10024b52e059b3795e9">ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.HasFileIOPermission</a></div><div class="ttdeci">bool HasFileIOPermission()</div><div class="ttdoc">Returns true if .NET permissions allow writing to the cache directory. Does not check NTFS permission...</div><div class="ttdef"><b>Definition:</b> <a href="_source_disk_cache_8cs_source.html#l00176">SourceDiskCache.cs:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7d4739817111ef3a5fd1bb73b8ae97a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to start the <a class="el" href="namespace_image_resizer_1_1_plugins_1_1_disk_cache.html">DiskCache</a> using the current settings. Returns true if succesful or if already started. Returns false on a configuration error. Called by <a class="el" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#a09c0883bdf4b5fec7fadbd2fcb927bb1" title="Loads the settings from &#39;c&#39;, starts the cache, and registers the plugin. Will throw an invalidoperati...">Install()</a> </p>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00186">186</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#abfb02f385006490917e5e3a75ac831ae">IsConfigurationValid</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            lock (_startSync)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <span class="keywordflow">if</span> (_started) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#abfb02f385006490917e5e3a75ac831ae">IsConfigurationValid</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="comment">//Init the writer.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                writer = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_web_config_writer.html">WebConfigWriter</a>(<span class="keyword">this</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ab4a547b820be187b5ee409b808551202">PhysicalCacheDir</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="comment">//Init the inner cache</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                cache = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_custom_disk_cache.html">CustomDiskCache</a>(<span class="keyword">this</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ab4a547b820be187b5ee409b808551202">PhysicalCacheDir</a>, 512, <span class="keyword">true</span>, 1024 * 1024 * 30); <span class="comment">//30MB</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <span class="comment">//Init the cleanup strategy</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                var cleanupStrategy = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_strategy.html">CleanupStrategy</a>(); <span class="comment">//Default settings if null</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                cleanupStrategy.TargetItemsPerFolder = 50;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="comment">//Init the cleanup worker</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                cleaner = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_manager.html">CleanupManager</a>(<span class="keyword">this</span>, cache, cleanupStrategy);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="comment">//If we&#39;re running with subfolders, enqueue the cache root for cleanup (after the 5 minute delay)</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="comment">//so we don&#39;t eternally &#39;skip&#39; files in the root or in other unused subfolders (since only &#39;accessed&#39; subfolders are ever cleaned ). </span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">if</span> (cleaner != null) cleaner.CleanAll();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="comment">//Started successfully</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                _started = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_strategy_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_strategy.html">ImageResizer.Plugins.DiskCache.CleanupStrategy</a></div><div class="ttdef"><b>Definition:</b> <a href="_cleanup_strategy_8cs_source.html#l00012">CleanupStrategy.cs:12</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin_html_ab4a547b820be187b5ee409b808551202"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#ab4a547b820be187b5ee409b808551202">ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.PhysicalCacheDir</a></div><div class="ttdeci">string PhysicalCacheDir</div><div class="ttdoc">Returns the physical path of the cache directory specified in VirtualCacheDir. </div><div class="ttdef"><b>Definition:</b> <a href="_source_disk_cache_8cs_source.html#l00047">SourceDiskCache.cs:47</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_web_config_writer_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_web_config_writer.html">ImageResizer.Plugins.DiskCache.WebConfigWriter</a></div><div class="ttdoc">Handles writing a Web.Config to disk that uses Url Authorization to prevent visitors from accessing t...</div><div class="ttdef"><b>Definition:</b> <a href="_web_config_writer_8cs_source.html#l00014">WebConfigWriter.cs:14</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_manager_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_manager.html">ImageResizer.Plugins.DiskCache.CleanupManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_cleanup_manager_8cs_source.html#l00013">CleanupManager.cs:13</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin_html_abfb02f385006490917e5e3a75ac831ae"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_source_disk_cache_1_1_source_disk_cache_plugin.html#abfb02f385006490917e5e3a75ac831ae">ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.IsConfigurationValid</a></div><div class="ttdeci">bool IsConfigurationValid()</div><div class="ttdoc">Returns true if the configured settings are valid and .NET (not NTFS) permissions will work...</div><div class="ttdef"><b>Definition:</b> <a href="_source_disk_cache_8cs_source.html#l00167">SourceDiskCache.cs:167</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_custom_disk_cache_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_custom_disk_cache.html">ImageResizer.Plugins.DiskCache.CustomDiskCache</a></div><div class="ttdoc">Handles access to a disk-based file cache. Handles locking and versioning. Supports subfolders for sc...</div><div class="ttdef"><b>Definition:</b> <a href="_custom_disk_cache_8cs_source.html#l00020">CustomDiskCache.cs:20</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7928b03320c6c40a1e1729ad919a8e66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.Stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if stopped succesfully. Cannot be restarted </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00216">216</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">if</span> (cleaner != null) cleaner.Dispose();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            cleaner = null;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a318e59c057c2cf74d7e768739008798f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.Uninstall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uninstalls the plugin. Should reverse all changes made during Install </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html#a047c1f46ce451fefc5f2ba3c16b64e8f">ImageResizer.Plugins.IPlugin</a>.</p>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00156">156</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            c.Plugins.remove_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            c.Pipeline.AuthorizeImage -= Pipeline_AuthorizeImage;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">return</span> this.Stop();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="ab4a547b820be187b5ee409b808551202"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.PhysicalCacheDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the physical path of the cache directory specified in VirtualCacheDir. </p>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00047">47</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a0e359231254cb84fb57d82f367c25085"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.Started</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the <a class="el" href="namespace_image_resizer_1_1_plugins_1_1_disk_cache.html">DiskCache</a> instance is operational. </p>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00072">72</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a35ccb6ff140c234e0df3c1604bfa6fda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ImageResizer.Plugins.SourceDiskCache.SourceDiskCachePlugin.VirtualCacheDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the location of the cache directory. Can be a virtual path (like /App/imagecache) or an application-relative path (like ~/imagecache, the default). Relative paths are assummed to be relative to the application root. All values are converted to virtual path format upon assignment (/App/imagecache) Will throw an InvalidOperationException if changed after the plugin is installed. </p>

<p>Definition at line <a class="el" href="_source_disk_cache_8cs_source.html#l00030">30</a> of file <a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/nathanael/Documents/resizer/Plugins/DiskCache/SourceDiskCache/<a class="el" href="_source_disk_cache_8cs_source.html">SourceDiskCache.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
