<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ImageResizer: C:/Users/nathanael/Documents/resizer/Plugins/FreeImage/FreeImageBuilder.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="imageresizer-logo-00aec4.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b4eaef40a1fe20bedafe9e8e719ce66.html">Plugins</a></li><li class="navelem"><a class="el" href="dir_2b8a7e51301740cdceb090103a025d6d.html">FreeImage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FreeImageBuilder.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> System;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> System.Text;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> ImageResizer.Resizing;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> ImageResizer.Encoding;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> ImageResizer.Configuration.Issues;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> FreeImageAPI;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> System.Drawing;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> ImageResizer.Util;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> System.Drawing.Imaging;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> ImageResizer.Plugins.Basic;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> System.IO;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> ImageResizer.Plugins.FreeImageEncoder;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> ImageResizer.Plugins.FreeImageScaling;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> ImageResizer.Configuration;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using</span> System.Web.Hosting;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="namespace_image_resizer_1_1_plugins_1_1_free_image_builder.html">   18</a></span>&#160;<span class="keyword">namespace </span>ImageResizer.Plugins.FreeImageBuilder {</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html">   19</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html">FreeImageBuilderPlugin</a> :<a class="code" href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">BuilderExtension</a>, <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a>, <a class="code" href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider.html">IIssueProvider</a> {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <span class="keyword">public</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html">FreeImageBuilderPlugin</a>(){</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        }</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <a class="code" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a> c;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keyword">public</span> <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a> Install(Configuration.Config c) {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            c.Plugins.add_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            this.c = c;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        }</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> Uninstall(Configuration.Config c) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            c.Plugins.remove_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">        /// Adds alternate pipeline based on FreeImage. Invoked by &amp;builder=freeimage. </span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">        /// This method doesn&#39;t handle job.DisposeSource or job.DesposeDest or settings filtering, that&#39;s handled by ImageBuilder.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">        /// All the bitmap processing is handled by buildFiBitmap, this method handles all the I/O</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">        /// &lt;param name=&quot;job&quot;&gt;&lt;/param&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">        /// &lt;returns&gt;&lt;/returns&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html#abf7e85887719c92a88a77158dfc9a2a6">   44</a></span>&#160;<span class="comment"></span>        <span class="keyword">protected</span> <span class="keyword">override</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="code" href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html#abf7e85887719c92a88a77158dfc9a2a6">BuildJob</a>(<a class="code" href="class_image_resizer_1_1_image_job.html">ImageJob</a> job) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">if</span> (!<span class="stringliteral">&quot;freeimage&quot;</span>.Equals(job.<a class="code" href="class_image_resizer_1_1_image_job.html#ab835a4dde8a2962bbe48182641316cee">Settings</a>[<span class="stringliteral">&quot;builder&quot;</span>])) <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <span class="keywordflow">if</span> (!FreeImageAPI.FreeImage.IsAvailable()) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>.None;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            <span class="comment">//StringBuilder log = new StringBuilder();</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="comment">//FreeImageAPI.FreeImageEngine.Message += (delegate(FREE_IMAGE_FORMAT fmt, string msg) {</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="comment">//    log.AppendLine(msg);</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="comment">//});</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="comment">// Variables</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            Stream s = null;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keywordtype">bool</span> disposeStream = !(job.<a class="code" href="class_image_resizer_1_1_image_job.html#a0d47d299ecd8a7316ba4a56d28e246b2">Source</a> is Stream);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <span class="keywordtype">long</span> originalPosition = 0;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordtype">bool</span> restoreStreamPosition = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <span class="comment">//Get a Stream instance for the job</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordtype">string</span> path;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            s = c.CurrentImageBuilder.GetStreamFromSource(job.Source, job.Settings, ref disposeStream, out path, out restoreStreamPosition);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">if</span> (s == null) <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">if</span> (job.<a class="code" href="class_image_resizer_1_1_image_job.html#aa6cb13a20ee55698d62de78f6d749d07">ResetSourceStream</a>) restoreStreamPosition = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            job.SourcePathData = path;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="comment">//Save the original stream positione</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            originalPosition = (restoreStreamPosition) ? s.Position : -1;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <span class="comment">//What is our destination format</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <a class="code" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html">IEncoder</a> managedEncoder = c.Plugins.GetEncoder(job.<a class="code" href="class_image_resizer_1_1_image_job.html#ab835a4dde8a2962bbe48182641316cee">Settings</a>, job.<a class="code" href="class_image_resizer_1_1_image_job.html#abcb3343acc3389bbefeae232b2a26773">SourcePathData</a>); <span class="comment">//Use the existing pipeline to parse the querystring</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <span class="comment">//FREE_IMAGE_FORMAT destFormat = FreeImage.GetFIFFromMime(managedEncoder.MimeType); //Use the resulting mime-type to determine the output format.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                <span class="comment">//This prevents us from supporting output formats that don&#39;t already have registered encoders. Good, right?</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                <span class="keywordtype">bool</span> supportsTransparency = managedEncoder.SupportsTransparency;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">return</span> (<a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>)FreeImageDecoder.FreeImageDecoderPlugin.DecodeAndCall(s, job.Settings, delegate(ref FIBITMAP original, <span class="keywordtype">bool</span> mayUnloadOriginal) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    FIBITMAP b = FIBITMAP.Zero;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                        <span class="comment">//Do all the bitmap stuff in another method</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                        b = buildFiBitmap(ref original, job, supportsTransparency, mayUnloadOriginal);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                        <span class="keywordflow">if</span> (b.IsNull) <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                        <span class="comment">// Try to save the bitmap</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                        <span class="keywordflow">if</span> (job.<a class="code" href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">Dest</a> is <span class="keywordtype">string</span> || job.<a class="code" href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">Dest</a> is Stream) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                            <a class="code" href="class_image_resizer_1_1_plugins_1_1_free_image_encoder_1_1_free_image_encoder_plugin.html">FreeImageEncoderPlugin</a> e = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_free_image_encoder_1_1_free_image_encoder_plugin.html">FreeImageEncoderPlugin</a>(job.<a class="code" href="class_image_resizer_1_1_image_job.html#ab835a4dde8a2962bbe48182641316cee">Settings</a>, path);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                            <span class="keywordflow">if</span> (job.<a class="code" href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">Dest</a> is <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                <span class="comment">//Make physical and resolve variable references all at the same time.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                job.FinalPath = job.ResolveTemplatedPath(job.Dest as string,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                    delegate(<span class="keywordtype">string</span> var) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                        <span class="keywordflow">if</span> (<span class="stringliteral">&quot;width&quot;</span>.Equals(var, StringComparison.OrdinalIgnoreCase)) <span class="keywordflow">return</span> FreeImage.GetWidth(b).ToString();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                        <span class="keywordflow">if</span> (<span class="stringliteral">&quot;height&quot;</span>.Equals(var, StringComparison.OrdinalIgnoreCase)) <span class="keywordflow">return</span> FreeImage.GetHeight(b).ToString();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                        <span class="keywordflow">if</span> (<span class="stringliteral">&quot;ext&quot;</span>.Equals(var, StringComparison.OrdinalIgnoreCase)) <span class="keywordflow">return</span> e.Extension;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                        <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                    });</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                <span class="comment">//If requested, auto-create the parent directory(ies)</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                <span class="keywordflow">if</span> (job.<a class="code" href="class_image_resizer_1_1_image_job.html#aa364f02160b72d8fb1b0df47d65e59b5">CreateParentDirectory</a>) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                    <span class="keywordtype">string</span> dirName = Path.GetDirectoryName(job.FinalPath);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                    <span class="keywordflow">if</span> (!Directory.Exists(dirName)) Directory.CreateDirectory(dirName);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                <span class="keywordflow">if</span> (!FreeImage.Save(e.Format, b, job.<a class="code" href="class_image_resizer_1_1_image_job.html#a4ffc5aa55609b62ecbda6b35ba019745">FinalPath</a>, e.EncodingOptions)) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>.None;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (job.<a class="code" href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">Dest</a> is Stream) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                <span class="keywordflow">if</span> (!FreeImage.SaveToStream(b, (Stream)job.<a class="code" href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">Dest</a>, e.Format, e.EncodingOptions)) <span class="keywordflow">return</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a>.None;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                            }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (job.<a class="code" href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">Dest</a> == typeof(Bitmap)) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                            job.Result = FreeImage.GetBitmap(b);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                        } <span class="keywordflow">else</span> <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                        <span class="keywordflow">return</span> RequestedAction.Cancel;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                        <span class="keywordflow">if</span> (!b.IsNull &amp;&amp; b != original) FreeImage.UnloadEx(ref b);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                });</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keywordflow">if</span> (s != null &amp;&amp; restoreStreamPosition &amp;&amp; s.CanSeek) s.Seek(originalPosition, SeekOrigin.Begin);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keywordflow">if</span> (disposeStream) s.Dispose();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">        /// Builds an FIBitmap from the stream and job.Settings </span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">        /// &lt;param name=&quot;s&quot;&gt;&lt;/param&gt;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">        /// &lt;param name=&quot;job&quot;&gt;&lt;/param&gt;</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">        /// &lt;returns&gt;&lt;/returns&gt;</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html#a6783dcf9e0a96ffe6d60533b1170db9f">  129</a></span>&#160;<span class="comment"></span>        <span class="keyword">protected</span> FIBITMAP <a class="code" href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html#a6783dcf9e0a96ffe6d60533b1170db9f">buildFiBitmap</a>(ref FIBITMAP original, <a class="code" href="class_image_resizer_1_1_image_job.html">ImageJob</a> job, <span class="keywordtype">bool</span> supportsTransparency, <span class="keywordtype">bool</span> mayUnloadOriginal) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <a class="code" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings = job.Settings;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">if</span> (original.IsNull) <span class="keywordflow">return</span> FIBITMAP.Zero;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            FIBITMAP <span class="keyword">final</span> = FIBITMAP.Zero;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="comment">//Find the image size</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            Size orig = <span class="keyword">new</span> Size((<span class="keywordtype">int</span>)FreeImage.GetWidth(original), (int)FreeImage.GetHeight(original));</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="comment">//Calculate the new size of the image and the canvas.</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> state = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>(settings, orig, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            c.CurrentImageBuilder.Process(state);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            RectangleF imageDest = PolygonMath.GetBoundingBox(state.layout[<span class="stringliteral">&quot;image&quot;</span>]);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> (imageDest.Width != orig.Width || imageDest.Height != orig.Height) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="comment">//Rescale</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordtype">bool</span> temp;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="keyword">final</span> = FreeImage.Rescale(original, (int)imageDest.Width, (<span class="keywordtype">int</span>)imageDest.Height, FreeImageScalingPlugin.ParseResizeAlgorithm(settings[<span class="stringliteral">&quot;fi.scale&quot;</span>], FREE_IMAGE_FILTER.FILTER_BOX, out temp));</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">if</span> (mayUnloadOriginal) FreeImage.UnloadEx(ref original);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">if</span> (<span class="keyword">final</span>.IsNull) <span class="keywordflow">return</span> FIBITMAP.Zero;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <span class="keyword">final</span> = original;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            RGBQUAD bgcolor = <span class="keywordflow">default</span>(RGBQUAD);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            bgcolor.Color = settings.BackgroundColor;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">if</span> (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2">BackgroundColor</a> == Color.Transparent &amp;&amp; !supportsTransparency)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                bgcolor.Color = Color.White;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="comment">//If we need to leave padding, do so.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html">BoxPadding</a> outsideImage = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html">BoxPadding</a>(imageDest.Left, imageDest.Top, state.destSize.Width - imageDest.Right, state.destSize.Height - imageDest.Bottom);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">if</span> (outsideImage.<a class="code" href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a5a549837cdd68bdbd6fa61c9d11f9e52">All</a> != 0) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                var old = <span class="keyword">final</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="comment">//Extend canvas</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                <span class="keyword">final</span> = FreeImage.EnlargeCanvas&lt;RGBQUAD&gt;(old,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                            (int)outsideImage.Left, (<span class="keywordtype">int</span>)outsideImage.Top, (int)outsideImage.Right, (<span class="keywordtype">int</span>)outsideImage.Bottom,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                            bgcolor.Color != Color.Transparent ? <span class="keyword">new</span> Nullable&lt;RGBQUAD&gt;(bgcolor) : null,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                            FREE_IMAGE_COLOR_OPTIONS.FICO_RGBA);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="keywordflow">if</span> (old == original) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    <span class="keywordflow">if</span> (mayUnloadOriginal) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        FreeImage.UnloadEx(ref original);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        old = original;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    FreeImage.UnloadEx(ref old); <span class="comment">//&#39;old&#39; has the original value of &#39;final&#39;, which we allocated.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">if</span> (<span class="keyword">final</span>.IsNull) <span class="keywordflow">return</span> FIBITMAP.Zero;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">final</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keyword">public</span> IEnumerable&lt;IIssue&gt; GetIssues() {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            List&lt;IIssue&gt; issues = <span class="keyword">new</span> List&lt;IIssue&gt;();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="keywordflow">if</span> (!FreeImageAPI.FreeImage.IsAvailable()) issues.Add(<span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_configuration_1_1_issues_1_1_issue.html">Issue</a>(<span class="stringliteral">&quot;The FreeImage library is not available! All FreeImage plugins will be disabled.&quot;</span>, <a class="code" href="namespace_image_resizer_1_1_configuration_1_1_issues.html#ada2af2a44c17c99a124cadb8a92f8555">IssueSeverity</a>.Error));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">return</span> issues;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="ttc" id="namespace_image_resizer_1_1_resizing_html_a22bbb53580a122efe469a26ad584fa86"><div class="ttname"><a href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">ImageResizer.Resizing.RequestedAction</a></div><div class="ttdeci">RequestedAction</div><div class="ttdoc">What to do about remaining handlers/methods for the specified section </div><div class="ttdef"><b>Definition:</b> <a href="_abstract_image_processor_8cs_source.html#l00013">AbstractImageProcessor.cs:13</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_ab835a4dde8a2962bbe48182641316cee"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#ab835a4dde8a2962bbe48182641316cee">ImageResizer.ImageJob.Settings</a></div><div class="ttdeci">ResizeSettings Settings</div><div class="ttdoc">The image processing settings </div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00136">ImageJob.cs:136</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_abcb3343acc3389bbefeae232b2a26773"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#abcb3343acc3389bbefeae232b2a26773">ImageResizer.ImageJob.SourcePathData</a></div><div class="ttdeci">string SourcePathData</div><div class="ttdoc">If &amp;#39;source&amp;#39; contains any path-related data, it is copied into this member for use by format detetctio...</div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00189">ImageJob.cs:189</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_configuration_1_1_config_html"><div class="ttname"><a href="class_image_resizer_1_1_configuration_1_1_config.html">ImageResizer.Configuration.Config</a></div><div class="ttdef"><b>Definition:</b> <a href="_config_8cs_source.html#l00022">Config.cs:22</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider_html"><div class="ttname"><a href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider.html">ImageResizer.Configuration.Issues.IIssueProvider</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_issue_provider_8cs_source.html#l00007">IIssueProvider.cs:7</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_box_padding_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_box_padding.html">ImageResizer.Resizing.BoxPadding</a></div><div class="ttdoc">Represents the widths of edges of a box. </div><div class="ttdef"><b>Definition:</b> <a href="_box_padding_8cs_source.html#l00012">BoxPadding.cs:12</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_a0d47d299ecd8a7316ba4a56d28e246b2"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#a0d47d299ecd8a7316ba4a56d28e246b2">ImageResizer.ImageJob.Source</a></div><div class="ttdeci">object Source</div><div class="ttdoc">The source image&amp;#39;s physical path, app-relative virtual path, or a Stream, byte array, Bitmap, VirtualFile, IVirtualFile, HttpPostedFile, or HttpPostedFileBase instance. </div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00086">ImageJob.cs:86</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_free_image_encoder_1_1_free_image_encoder_plugin_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_free_image_encoder_1_1_free_image_encoder_plugin.html">ImageResizer.Plugins.FreeImageEncoder.FreeImageEncoderPlugin</a></div><div class="ttdef"><b>Definition:</b> <a href="_free_image_encoder_8cs_source.html#l00012">FreeImageEncoder.cs:12</a></div></div>
<div class="ttc" id="namespace_image_resizer_1_1_configuration_1_1_issues_html_ada2af2a44c17c99a124cadb8a92f8555"><div class="ttname"><a href="namespace_image_resizer_1_1_configuration_1_1_issues.html#ada2af2a44c17c99a124cadb8a92f8555">ImageResizer.Configuration.Issues.IssueSeverity</a></div><div class="ttdeci">IssueSeverity</div><div class="ttdef"><b>Definition:</b> <a href="_issue_severity_8cs_source.html#l00007">IssueSeverity.cs:7</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resize_settings_html_a40623c01b19422d9dc93b8809ef3dbc2"><div class="ttname"><a href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2">ImageResizer.ResizeSettings.BackgroundColor</a></div><div class="ttdeci">Color BackgroundColor</div><div class="ttdoc">[&amp;quot;bgcolor&amp;quot;]: Named and hex values are supported. (rgb and rgba, both 3, 6, and 8 digits). </div><div class="ttdef"><b>Definition:</b> <a href="_resize_settings_8cs_source.html#l00278">ResizeSettings.cs:278</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html">ImageResizer.Plugins.FreeImageBuilder.FreeImageBuilderPlugin</a></div><div class="ttdef"><b>Definition:</b> <a href="_free_image_builder_8cs_source.html#l00019">FreeImageBuilder.cs:19</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin_html_abf7e85887719c92a88a77158dfc9a2a6"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html#abf7e85887719c92a88a77158dfc9a2a6">ImageResizer.Plugins.FreeImageBuilder.FreeImageBuilderPlugin.BuildJob</a></div><div class="ttdeci">override RequestedAction BuildJob(ImageJob job)</div><div class="ttdoc">Adds alternate pipeline based on FreeImage. Invoked by &amp;amp;builder=freeimage. This method doesn&amp;#39;t handle...</div><div class="ttdef"><b>Definition:</b> <a href="_free_image_builder_8cs_source.html#l00044">FreeImageBuilder.cs:44</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_a4ffc5aa55609b62ecbda6b35ba019745"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#a4ffc5aa55609b62ecbda6b35ba019745">ImageResizer.ImageJob.FinalPath</a></div><div class="ttdeci">string FinalPath</div><div class="ttdoc">Contains the final physical path to the image (if &amp;#39;dest&amp;#39; was a path - null otherwise) ...</div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00178">ImageJob.cs:178</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html">ImageResizer.ImageJob</a></div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00010">ImageJob.cs:10</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resize_settings_html"><div class="ttname"><a href="class_image_resizer_1_1_resize_settings.html">ImageResizer.ResizeSettings</a></div><div class="ttdoc">Represents the settings which will be used to process the image. Extends NameValueCollection to provi...</div><div class="ttdef"><b>Definition:</b> <a href="_resize_settings_8cs_source.html#l00020">ResizeSettings.cs:20</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_aa364f02160b72d8fb1b0df47d65e59b5"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#aa364f02160b72d8fb1b0df47d65e59b5">ImageResizer.ImageJob.CreateParentDirectory</a></div><div class="ttdeci">bool CreateParentDirectory</div><div class="ttdoc">Defaults to false. When true, the parent directory of the destination filename will be created if it ...</div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00217">ImageJob.cs:217</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageResizer.Resizing.ImageState</a></div><div class="ttdoc">Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00015">ImageState.cs:15</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_configuration_1_1_issues_1_1_issue_html"><div class="ttname"><a href="class_image_resizer_1_1_configuration_1_1_issues_1_1_issue.html">ImageResizer.Configuration.Issues.Issue</a></div><div class="ttdef"><b>Definition:</b> <a href="_issue_8cs_source.html#l00007">Issue.cs:7</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_builder_extension_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">ImageResizer.Resizing.BuilderExtension</a></div><div class="ttdoc">Provides a useable base class that can be used to modify the behavior of ImageBuilder. When registered with an ImageBuilder instance, the ImageBuilder will call the corresponding methods on the extension prior to executing its own methods. </div><div class="ttdef"><b>Definition:</b> <a href="_builder_extension_8cs_source.html#l00011">BuilderExtension.cs:11</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_a04c90612666b1834d038ae9a4bac67b5"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">ImageResizer.ImageJob.Dest</a></div><div class="ttdeci">object Dest</div><div class="ttdoc">The destination Stream, physical path, or app-relative virtual path. If a Bitmap instance is desired...</div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00096">ImageJob.cs:96</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_plugins_1_1_i_plugin_html"><div class="ttname"><a href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">ImageResizer.Plugins.IPlugin</a></div><div class="ttdoc">All plugins must implement this. Enables web.config addition and removal. </div><div class="ttdef"><b>Definition:</b> <a href="_i_plugin_8cs_source.html#l00011">IPlugin.cs:11</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin_html_a6783dcf9e0a96ffe6d60533b1170db9f"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_free_image_builder_1_1_free_image_builder_plugin.html#a6783dcf9e0a96ffe6d60533b1170db9f">ImageResizer.Plugins.FreeImageBuilder.FreeImageBuilderPlugin.buildFiBitmap</a></div><div class="ttdeci">FIBITMAP buildFiBitmap(ref FIBITMAP original, ImageJob job, bool supportsTransparency, bool mayUnloadOriginal)</div><div class="ttdoc">Builds an FIBitmap from the stream and job.Settings </div><div class="ttdef"><b>Definition:</b> <a href="_free_image_builder_8cs_source.html#l00129">FreeImageBuilder.cs:129</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_aa6cb13a20ee55698d62de78f6d749d07"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#aa6cb13a20ee55698d62de78f6d749d07">ImageResizer.ImageJob.ResetSourceStream</a></div><div class="ttdeci">bool ResetSourceStream</div><div class="ttdoc">If true, and if &amp;#39;source&amp;#39; is seekable, the stream will be reset to its previous position after being r...</div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00160">ImageJob.cs:160</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_box_padding_html_a5a549837cdd68bdbd6fa61c9d11f9e52"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_box_padding.html#a5a549837cdd68bdbd6fa61c9d11f9e52">ImageResizer.Resizing.BoxPadding.All</a></div><div class="ttdeci">double All</div><div class="ttdoc">Returns double.NaN unless all edges are the same width, in which case that width is returned ...</div><div class="ttdef"><b>Definition:</b> <a href="_box_padding_8cs_source.html#l00088">BoxPadding.cs:88</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_encoding_1_1_i_encoder_html"><div class="ttname"><a href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html">ImageResizer.Encoding.IEncoder</a></div><div class="ttdoc">An image encoder. Exposes methods for suitability checking, encoding, transparency compatibility chec...</div><div class="ttdef"><b>Definition:</b> <a href="_i_encoder_8cs_source.html#l00013">IEncoder.cs:13</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
