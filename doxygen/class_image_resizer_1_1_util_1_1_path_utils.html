<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ImageResizer: ImageResizer.Util.PathUtils Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="imageresizer-logo-00aec4.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_image_resizer.html">ImageResizer</a></li><li class="navelem"><a class="el" href="namespace_image_resizer_1_1_util.html">Util</a></li><li class="navelem"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html">PathUtils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_image_resizer_1_1_util_1_1_path_utils-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ImageResizer.Util.PathUtils Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A set of utility methods for manipulating virtual paths  
 <a href="class_image_resizer_1_1_util_1_1_path_utils.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0ffdf593f69e69f70a16c35d5124b4c2"><td class="memItemLeft" align="right" valign="top">delegate string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a0ffdf593f69e69f70a16c35d5124b4c2">VariableResolverCallback</a> (string variableName)</td></tr>
<tr class="memdesc:a0ffdf593f69e69f70a16c35d5124b4c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A method that resolves variable names to values for the ResolveVariablesInPath method  <a href="#a0ffdf593f69e69f70a16c35d5124b4c2">More...</a><br/></td></tr>
<tr class="separator:a0ffdf593f69e69f70a16c35d5124b4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6e47130783374c72a73f97760843bb07"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a6e47130783374c72a73f97760843bb07">SetExtension</a> (string path, string newExtension)</td></tr>
<tr class="memdesc:a6e47130783374c72a73f97760843bb07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should be called SetFullExtension. Sets the file extension of the specified path to the specified value, returning the result. If an extension has multiple parts, it will replace all of them. Leading dots will be stripped from 'newExtension' and re-addd as required. The querystring and fragment is maintained as-is. Semicolon syntax not supported.  <a href="#a6e47130783374c72a73f97760843bb07">More...</a><br/></td></tr>
<tr class="separator:a6e47130783374c72a73f97760843bb07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95b20ca2e860fd2b869be26bf8ad816"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#aa95b20ca2e860fd2b869be26bf8ad816">RemoveFullExtension</a> (string path)</td></tr>
<tr class="memdesc:aa95b20ca2e860fd2b869be26bf8ad816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all extension segments from the filename or URL, leaving the querystring intact. I.e, image.jpg.bmp.tiff?hi would be image?hi The querystring and fragment is maintained as-is. Semicolon syntax not supported.  <a href="#aa95b20ca2e860fd2b869be26bf8ad816">More...</a><br/></td></tr>
<tr class="separator:aa95b20ca2e860fd2b869be26bf8ad816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf1e4b4833b6ca62efc0ff7c72c93c9"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a0bf1e4b4833b6ca62efc0ff7c72c93c9">RemoveExtension</a> (string path)</td></tr>
<tr class="memdesc:a0bf1e4b4833b6ca62efc0ff7c72c93c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the extension from the filename or URL, leaving the querystring intact, where the extension is only the last extension segment. I.e, image.jpg.bmp.tiff?hi would be image.jpg.bmp?hi after this call. The querystring and fragment is maintained as-is. Semicolon syntax not supported.  <a href="#a0bf1e4b4833b6ca62efc0ff7c72c93c9">More...</a><br/></td></tr>
<tr class="separator:a0bf1e4b4833b6ca62efc0ff7c72c93c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba9afa48f4fa28456bcb247921a075a"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a3ba9afa48f4fa28456bcb247921a075a">AddExtension</a> (string path, string newExtension)</td></tr>
<tr class="memdesc:a3ba9afa48f4fa28456bcb247921a075a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the specified extension to path, returning the result. Multiple calls will result in "path.ext.ext.ext.ext". The querystring and fragment is maintained as-is. Semicolon syntax not supported.  <a href="#a3ba9afa48f4fa28456bcb247921a075a">More...</a><br/></td></tr>
<tr class="separator:a3ba9afa48f4fa28456bcb247921a075a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b381221fbb1e4bd0d5d299c7f0dc550"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a3b381221fbb1e4bd0d5d299c7f0dc550">GetFullExtension</a> (string path)</td></tr>
<tr class="memdesc:a3b381221fbb1e4bd0d5d299c7f0dc550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will return the full extension, like ".jpg.ashx", not just the last bit. Excludes extensions containing spaces or slashes. The querystring and fragment is ignored. Semicolon syntax not supported.  <a href="#a3b381221fbb1e4bd0d5d299c7f0dc550">More...</a><br/></td></tr>
<tr class="separator:a3b381221fbb1e4bd0d5d299c7f0dc550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cb53d101d364eb3b434a89af918335"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a56cb53d101d364eb3b434a89af918335">GetExtension</a> (string path)</td></tr>
<tr class="memdesc:a56cb53d101d364eb3b434a89af918335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grabs the last segment of the filename extension. Returns an empty string if there is no extension, or if the extension contains a space. Includes the leading '.' The querystring and fragment is ignored. Semicolon syntax not supported.  <a href="#a56cb53d101d364eb3b434a89af918335">More...</a><br/></td></tr>
<tr class="separator:a56cb53d101d364eb3b434a89af918335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adafb4cd7d85a3567782842873c1a5176"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#adafb4cd7d85a3567782842873c1a5176">ResolveAppRelative</a> (string virtualPath)</td></tr>
<tr class="memdesc:adafb4cd7d85a3567782842873c1a5176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves app-relative paths to virtual paths. Does nothing with virtual or relative paths.  <a href="#adafb4cd7d85a3567782842873c1a5176">More...</a><br/></td></tr>
<tr class="separator:adafb4cd7d85a3567782842873c1a5176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7e4faaa93c5b4d1f3652ccfc4dae82"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a1a7e4faaa93c5b4d1f3652ccfc4dae82">ResolveAppRelativeAssumeAppRelative</a> (string virtualPath)</td></tr>
<tr class="memdesc:a1a7e4faaa93c5b4d1f3652ccfc4dae82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns relative paths into domain-relative paths. Turns app-relative paths into domain relative paths.  <a href="#a1a7e4faaa93c5b4d1f3652ccfc4dae82">More...</a><br/></td></tr>
<tr class="separator:a1a7e4faaa93c5b4d1f3652ccfc4dae82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a213e5ba499d364b9f2e2bce592a09af7"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a213e5ba499d364b9f2e2bce592a09af7">AddQueryString</a> (string virtualPath, string querystring)</td></tr>
<tr class="memdesc:a213e5ba499d364b9f2e2bce592a09af7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joins the path and querystring. If the path already contains a querystring, they are 'append joined' with the correct character. Fragment is maintained as-is. Does not support the semicolon syntax.  <a href="#a213e5ba499d364b9f2e2bce592a09af7">More...</a><br/></td></tr>
<tr class="separator:a213e5ba499d364b9f2e2bce592a09af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9a36962f98bb9a948ee41411323ebf"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#aac9a36962f98bb9a948ee41411323ebf">RemoveQueryString</a> (string path)</td></tr>
<tr class="memdesc:aac9a36962f98bb9a948ee41411323ebf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the query string from the specifed path. If the path is only a querystring, an empty string is returned. Does not support the semicolon syntax. Fragment is maintained as-is.  <a href="#aac9a36962f98bb9a948ee41411323ebf">More...</a><br/></td></tr>
<tr class="separator:aac9a36962f98bb9a948ee41411323ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae552f710cc6327b8508ab4111f75d8c9"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#ae552f710cc6327b8508ab4111f75d8c9">MergeOverwriteQueryString</a> (string path, NameValueCollection newQuerystring)</td></tr>
<tr class="memdesc:ae552f710cc6327b8508ab4111f75d8c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrites exisisting querystring values in 'path' with the values in 'newQuerystring'. Does not support the semicolon syntax.  <a href="#ae552f710cc6327b8508ab4111f75d8c9">More...</a><br/></td></tr>
<tr class="separator:ae552f710cc6327b8508ab4111f75d8c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08767ea3c8bee6716bb5484ae78df1da"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a08767ea3c8bee6716bb5484ae78df1da">MergeQueryString</a> (string path, NameValueCollection newQuerystring)</td></tr>
<tr class="memdesc:a08767ea3c8bee6716bb5484ae78df1da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the querystring values in 'newQuerystring' to the querystring in Path, but does not overwrite values. Does not support the semicolon syntax.  <a href="#a08767ea3c8bee6716bb5484ae78df1da">More...</a><br/></td></tr>
<tr class="separator:a08767ea3c8bee6716bb5484ae78df1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50e452cbcb5cea21318669c89632755"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">BuildQueryString</a> (NameValueCollection QueryString)</td></tr>
<tr class="memdesc:ac50e452cbcb5cea21318669c89632755"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string querystring in the form "?key=value&amp;amp;key=value". Keys and values are UrlEncoded as they should be.  <a href="#ac50e452cbcb5cea21318669c89632755">More...</a><br/></td></tr>
<tr class="separator:ac50e452cbcb5cea21318669c89632755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7550f4618ccb5395462c3fb72ea83ab"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#ae7550f4618ccb5395462c3fb72ea83ab">BuildQueryString</a> (NameValueCollection QueryString, bool urlEncode)</td></tr>
<tr class="memdesc:ae7550f4618ccb5395462c3fb72ea83ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string querystring in the form "?key=value&amp;amp;key=value". Keys and values are UrlEncoded if urlEncode=true.  <a href="#ae7550f4618ccb5395462c3fb72ea83ab">More...</a><br/></td></tr>
<tr class="separator:ae7550f4618ccb5395462c3fb72ea83ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7cc17744e07ec56cc745e776146fa89"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#ac7cc17744e07ec56cc745e776146fa89">BuildSemicolonQueryString</a> (NameValueCollection QueryString, bool urlEncode)</td></tr>
<tr class="memdesc:ac7cc17744e07ec56cc745e776146fa89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string querystring in the form ";key=value;key=value". Keys and values are UrlEncoded if urlEncode=true.  <a href="#ac7cc17744e07ec56cc745e776146fa89">More...</a><br/></td></tr>
<tr class="separator:ac7cc17744e07ec56cc745e776146fa89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024e41bc8934e30d80aad8a5fbd9e37a"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a024e41bc8934e30d80aad8a5fbd9e37a">BuildQueryString</a> (NameValueCollection QueryString, bool urlEncode, bool skipNullValues=true, char firstSeparator= '?', char laterSeparators= '&amp;', char equals= '=')</td></tr>
<tr class="memdesc:a024e41bc8934e30d80aad8a5fbd9e37a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a customized querystring from a NameValueCollection  <a href="#a024e41bc8934e30d80aad8a5fbd9e37a">More...</a><br/></td></tr>
<tr class="separator:a024e41bc8934e30d80aad8a5fbd9e37a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f54b6e4e17f239fc70eaafd766fc101"><td class="memItemLeft" align="right" valign="top">static NameValueCollection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a4f54b6e4e17f239fc70eaafd766fc101">ParseQueryStringFriendly</a> (string path)</td></tr>
<tr class="memdesc:a4f54b6e4e17f239fc70eaafd766fc101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like ParseQueryString, but permits the leading '?' to be omitted. Does not support the semicolon syntax.  <a href="#a4f54b6e4e17f239fc70eaafd766fc101">More...</a><br/></td></tr>
<tr class="separator:a4f54b6e4e17f239fc70eaafd766fc101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ce76cbe824eb05eb74c8ea09883ed1"><td class="memItemLeft" align="right" valign="top">static NameValueCollection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a75ce76cbe824eb05eb74c8ea09883ed1">ParseQueryStringFriendlyAllowSemicolons</a> (string path)</td></tr>
<tr class="memdesc:a75ce76cbe824eb05eb74c8ea09883ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like ParseQueryString, but permits the leading '?' to be omitted, and semicolons can be substituted for '&amp;'  <a href="#a75ce76cbe824eb05eb74c8ea09883ed1">More...</a><br/></td></tr>
<tr class="separator:a75ce76cbe824eb05eb74c8ea09883ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32087fab410ab49c140bb773f48bb86d"><td class="memItemLeft" align="right" valign="top">static NameValueCollection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ParseQueryString</a> (string path)</td></tr>
<tr class="memdesc:a32087fab410ab49c140bb773f48bb86d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the querystring from the given path into a NameValueCollection. accepts "file?key=value" and "?key=value&amp;amp;key2=value2" formats. (no path is required) UrlDecodes keys and values.  <a href="#a32087fab410ab49c140bb773f48bb86d">More...</a><br/></td></tr>
<tr class="separator:a32087fab410ab49c140bb773f48bb86d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed888109176efb4786154e277353764"><td class="memItemLeft" align="right" valign="top">static NameValueCollection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#abed888109176efb4786154e277353764">ParseQueryString</a> (string path, bool allowSemicolons)</td></tr>
<tr class="memdesc:abed888109176efb4786154e277353764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the querystring from the given path into a NameValueCollection. accepts "file?key=value" and "?key=value&amp;amp;key2=value2" formats. (no path is required) UrlDecodes keys and values. Does not enforce correct syntax, I.E. '?key=value?key2=value2' is allowed. However, '&amp;key=value?key2=value' will only get key2 parsed. When allowSemicolons is true, semicolon paths like ';key=value;key2=value2' are allowed, as are hybrid paths: ';key=value?key2=value2&amp;key3=value3'.  <a href="#abed888109176efb4786154e277353764">More...</a><br/></td></tr>
<tr class="separator:abed888109176efb4786154e277353764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7637c1c183e25f5a5d3ec3dd75a759a1"><td class="memItemLeft" align="right" valign="top">static NameValueCollection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a7637c1c183e25f5a5d3ec3dd75a759a1">ParseQueryString</a> (string path, bool allowSemicolons, out string beforeQuery, out string fragment)</td></tr>
<tr class="memdesc:a7637c1c183e25f5a5d3ec3dd75a759a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the querystring from the given path into a NameValueCollection. accepts "file?key=value" and "?key=value&amp;amp;key2=value2" formats. (no path is required) UrlDecodes keys and values. Does not enforce correct syntax, I.E. '?key=value?key2=value2' is allowed. However, '&amp;key=value?key2=value' will only get key2 parsed. When allowSemicolons is true, semicolon paths like ';key=value;key2=value2' are allowed, as are hybrid paths: ';key=value?key2=value2&amp;key3=value3'.  <a href="#a7637c1c183e25f5a5d3ec3dd75a759a1">More...</a><br/></td></tr>
<tr class="separator:a7637c1c183e25f5a5d3ec3dd75a759a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479b53b9fcc98b25bd8f25a36f15c084"><td class="memItemLeft" align="right" valign="top">static NameValueCollection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a479b53b9fcc98b25bd8f25a36f15c084">ParseQueryOnly</a> (string query, bool allowSemicolons=true, bool urlDecode=true)</td></tr>
<tr class="memdesc:a479b53b9fcc98b25bd8f25a36f15c084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a querystring into a name/value collection. The given string cannot include path or fragment information - it must be <em>just</em> the querystring.  <a href="#a479b53b9fcc98b25bd8f25a36f15c084">More...</a><br/></td></tr>
<tr class="separator:a479b53b9fcc98b25bd8f25a36f15c084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc45f67bc1e770b2971878b809d3a98e"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#acc45f67bc1e770b2971878b809d3a98e">ToBase64U</a> (byte[] data)</td></tr>
<tr class="memdesc:acc45f67bc1e770b2971878b809d3a98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts aribtrary bytes to a URL-safe version of base64 (no = padding, with - instead of + and _ instead of /)  <a href="#acc45f67bc1e770b2971878b809d3a98e">More...</a><br/></td></tr>
<tr class="separator:acc45f67bc1e770b2971878b809d3a98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6943e50a715d4daf25cb6aa6e07d1a0a"><td class="memItemLeft" align="right" valign="top">static byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a6943e50a715d4daf25cb6aa6e07d1a0a">FromBase64UToBytes</a> (string data)</td></tr>
<tr class="memdesc:a6943e50a715d4daf25cb6aa6e07d1a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a URL-safe version of base64 to a byte array. (no = padding, with - instead of + and _ instead of /)  <a href="#a6943e50a715d4daf25cb6aa6e07d1a0a">More...</a><br/></td></tr>
<tr class="separator:a6943e50a715d4daf25cb6aa6e07d1a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf274218eee80708f27069549777bc38"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#abf274218eee80708f27069549777bc38">ToBase64U</a> (string data)</td></tr>
<tr class="memdesc:abf274218eee80708f27069549777bc38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts aribtrary strings to a URL-safe version of base64 (no = padding, with - instead of + and _ instead of /)  <a href="#abf274218eee80708f27069549777bc38">More...</a><br/></td></tr>
<tr class="separator:abf274218eee80708f27069549777bc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ffc6a49feee3133b31fdd4adeaef151"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a5ffc6a49feee3133b31fdd4adeaef151">FromBase64UToString</a> (string data)</td></tr>
<tr class="memdesc:a5ffc6a49feee3133b31fdd4adeaef151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a URL-safe version of base64 to a string. 64U is (no = padding, with - instead of + and _ instead of /)  <a href="#a5ffc6a49feee3133b31fdd4adeaef151">More...</a><br/></td></tr>
<tr class="separator:a5ffc6a49feee3133b31fdd4adeaef151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb4e92f50556202cd20d914384a1965d"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#acb4e92f50556202cd20d914384a1965d">MapPathIfAppRelative</a> (string path)</td></tr>
<tr class="memdesc:acb4e92f50556202cd20d914384a1965d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the physcial mapped path for the specified virtual path if it starts with ~, otherwise retuns the original path.  <a href="#acb4e92f50556202cd20d914384a1965d">More...</a><br/></td></tr>
<tr class="separator:acb4e92f50556202cd20d914384a1965d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a798c6c5aceaaefed3f3822ceba5876"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a1a798c6c5aceaaefed3f3822ceba5876">GenerateImageUrl</a> (string path, NameValueCollection query)</td></tr>
<tr class="memdesc:a1a798c6c5aceaaefed3f3822ceba5876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a resized image url for the specified physical or virtual path. Not CloudFront compatible. Does not support remote URLs, use RemoteReader for that. If you're running in IIS classic, add ".ashx" to the 'path' parameter.  <a href="#a1a798c6c5aceaaefed3f3822ceba5876">More...</a><br/></td></tr>
<tr class="separator:a1a798c6c5aceaaefed3f3822ceba5876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a48f8c7b7dcb8481d09468986076a0b"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a2a48f8c7b7dcb8481d09468986076a0b">GuessVirtualPath</a> (string path)</td></tr>
<tr class="memdesc:a2a48f8c7b7dcb8481d09468986076a0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to guess the virtual path from physical path. Will be thrwarted if the path is mapped as a virtual folder inside the application. If the path is a non-physical path, it will be returned as is. Returns null if the physical path isn't a subfolder of the application's physical path.  <a href="#a2a48f8c7b7dcb8481d09468986076a0b">More...</a><br/></td></tr>
<tr class="separator:a2a48f8c7b7dcb8481d09468986076a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9be7ad795b3c8b14fea7e566806f597b"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a9be7ad795b3c8b14fea7e566806f597b">ResolveVariablesInPath</a> (string pathWithVars, <a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a0ffdf593f69e69f70a16c35d5124b4c2">VariableResolverCallback</a> resolver)</td></tr>
<tr class="memdesc:a9be7ad795b3c8b14fea7e566806f597b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces variables in paths with their values. Ex. ~/uploads/thumbs/&lt;guid&gt;.&lt;ext&gt;. Standard variables are &lt;ext&gt; (the default extension for the final file type), &lt;guid&gt;, a randomly generated GUID, &lt;filename&gt;, the original filename without it's extension, &lt;path&gt;, the original path and filename without extension, &lt;settings.width&gt;, (any specified settings value except preset), &lt;width&gt; (final width), and &lt;height&gt; (final height).  <a href="#a9be7ad795b3c8b14fea7e566806f597b">More...</a><br/></td></tr>
<tr class="separator:a9be7ad795b3c8b14fea7e566806f597b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9359690ca11f8e0a4e21860db00dc8cd"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a9359690ca11f8e0a4e21860db00dc8cd">RemoveNonMatchingChars</a> (string text, string chars)</td></tr>
<tr class="memdesc:a9359690ca11f8e0a4e21860db00dc8cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows a string to be filtered using the specified whitelisting expression (regex style).  <a href="#a9359690ca11f8e0a4e21860db00dc8cd">More...</a><br/></td></tr>
<tr class="separator:a9359690ca11f8e0a4e21860db00dc8cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61591f3c488e5945a25528336f0a4b2d"><td class="memItemLeft" align="right" valign="top">static NameValueCollection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a61591f3c488e5945a25528336f0a4b2d">FilterQueryString</a> (<a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> query, params string[] keepKeys)</td></tr>
<tr class="memdesc:a61591f3c488e5945a25528336f0a4b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new collection containing only the specified keys from the old one  <a href="#a61591f3c488e5945a25528336f0a4b2d">More...</a><br/></td></tr>
<tr class="separator:a61591f3c488e5945a25528336f0a4b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a210e3c7584b66cf195a0b81ff74e3b2c"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a210e3c7584b66cf195a0b81ff74e3b2c">AppVirtualPath</a><code> [get]</code></td></tr>
<tr class="memdesc:a210e3c7584b66cf195a0b81ff74e3b2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns HostingEnvironment.ApplicationVirtualPath or "/", if asp.net is not running  <a href="#a210e3c7584b66cf195a0b81ff74e3b2c">More...</a><br/></td></tr>
<tr class="separator:a210e3c7584b66cf195a0b81ff74e3b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5c9196381928db82048058cb62dc19"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a3a5c9196381928db82048058cb62dc19">AppPhysicalPath</a><code> [get]</code></td></tr>
<tr class="memdesc:a3a5c9196381928db82048058cb62dc19"><td class="mdescLeft">&#160;</td><td class="mdescRight">If not running in ASP.NET, returns the folder containing the DLL.  <a href="#a3a5c9196381928db82048058cb62dc19">More...</a><br/></td></tr>
<tr class="separator:a3a5c9196381928db82048058cb62dc19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A set of utility methods for manipulating virtual paths </p>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00017">17</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3ba9afa48f4fa28456bcb247921a075a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.AddExtension </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newExtension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the specified extension to path, returning the result. Multiple calls will result in "path.ext.ext.ext.ext". The querystring and fragment is maintained as-is. Semicolon syntax not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
    <tr><td class="paramname">newExtension</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00104">104</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                                                            {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordtype">int</span> query = path.IndexOfAny(QueryOrFragment);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> (query &lt; 0) query = path.Length;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">return</span> path.Substring(0, query) + <span class="stringliteral">&quot;.&quot;</span> + newExtension.TrimStart(<span class="charliteral">&#39;.&#39;</span>) + path.Substring(query);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a213e5ba499d364b9f2e2bce592a09af7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.AddQueryString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>virtualPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>querystring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Joins the path and querystring. If the path already contains a querystring, they are 'append joined' with the correct character. Fragment is maintained as-is. Does not support the semicolon syntax. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">virtualPath</td><td></td></tr>
    <tr><td class="paramname">querystring</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00178">178</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                                                    {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="comment">//Separate the fragment if it&#39;s present, and restore it later</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordtype">int</span> fragment = virtualPath.IndexOf(<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordtype">string</span> suffix = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">if</span> (fragment &lt; 0) fragment = virtualPath.Length;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                suffix = virtualPath.Substring(fragment);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                virtualPath = virtualPath.Substring(0, fragment);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">if</span> (virtualPath.IndexOf(<span class="charliteral">&#39;?&#39;</span>) &gt; -1) virtualPath = virtualPath.TrimEnd(<span class="charliteral">&#39;&amp;&#39;</span>) + <span class="charliteral">&#39;&amp;&#39;</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">else</span> virtualPath += <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">return</span> virtualPath + querystring.TrimStart(<span class="charliteral">&#39;&amp;&#39;</span>, <span class="charliteral">&#39;?&#39;</span>) + suffix;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac50e452cbcb5cea21318669c89632755"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.BuildQueryString </td>
          <td>(</td>
          <td class="paramtype">NameValueCollection&#160;</td>
          <td class="paramname"><em>QueryString</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string querystring in the form "?key=value&amp;amp;key=value". Keys and values are UrlEncoded as they should be. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">QueryString</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00249">249</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                                                                               {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">BuildQueryString</a>(QueryString, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_ac50e452cbcb5cea21318669c89632755"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">ImageResizer.Util.PathUtils.BuildQueryString</a></div><div class="ttdeci">static string BuildQueryString(NameValueCollection QueryString)</div><div class="ttdoc">Returns a string querystring in the form &amp;quot;?key=value&amp;amp;amp;key=value&amp;quot;. Keys and values are UrlEncoded a...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00249">PathUtils.cs:249</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae7550f4618ccb5395462c3fb72ea83ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.BuildQueryString </td>
          <td>(</td>
          <td class="paramtype">NameValueCollection&#160;</td>
          <td class="paramname"><em>QueryString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>urlEncode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string querystring in the form "?key=value&amp;amp;key=value". Keys and values are UrlEncoded if urlEncode=true. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">QueryString</td><td></td></tr>
    <tr><td class="paramname">urlEncode</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00259">259</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                                                                               {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">BuildQueryString</a>(QueryString, urlEncode, <span class="keyword">true</span>, <span class="charliteral">&#39;?&#39;</span>, <span class="charliteral">&#39;&amp;&#39;</span>, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_ac50e452cbcb5cea21318669c89632755"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">ImageResizer.Util.PathUtils.BuildQueryString</a></div><div class="ttdeci">static string BuildQueryString(NameValueCollection QueryString)</div><div class="ttdoc">Returns a string querystring in the form &amp;quot;?key=value&amp;amp;amp;key=value&amp;quot;. Keys and values are UrlEncoded a...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00249">PathUtils.cs:249</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a024e41bc8934e30d80aad8a5fbd9e37a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.BuildQueryString </td>
          <td>(</td>
          <td class="paramtype">NameValueCollection&#160;</td>
          <td class="paramname"><em>QueryString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>urlEncode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skipNullValues</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>firstSeparator</em> = <code>'?'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>laterSeparators</em> = <code>'&amp;'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>equals</em> = <code>'='</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build a customized querystring from a NameValueCollection </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">QueryString</td><td></td></tr>
    <tr><td class="paramname">urlEncode</td><td>True to URL encode all values</td></tr>
    <tr><td class="paramname">skipNullValues</td><td>If true, null-valued keys will be skipped</td></tr>
    <tr><td class="paramname">firstSeparator</td><td>Usually ? or ; </td></tr>
    <tr><td class="paramname">laterSeparators</td><td>Usually &amp; or ;</td></tr>
    <tr><td class="paramname">equals</td><td>Always =</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00284">284</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                                                                                                                                                                                     {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">if</span> (QueryString.Count &lt; 1) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>; <span class="comment">//No keys? return empty string.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            StringBuilder path = <span class="keyword">new</span> StringBuilder();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            path.Append(firstSeparator);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">foreach</span> (<span class="keywordtype">string</span> key <span class="keywordflow">in</span> QueryString.Keys) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">if</span> (key == null) <span class="keywordflow">continue</span>; <span class="comment">//Skip null keys</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <span class="keywordtype">string</span> value = QueryString[key];</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">if</span> (skipNullValues &amp;&amp; value == null) <span class="keywordflow">continue</span>; <span class="comment">//Optionally skip null values</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                path.Append(urlEncode ? HttpUtility.UrlEncode(key) : key);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                path.Append(equals);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                path.Append(urlEncode ? HttpUtility.UrlEncode(value) : value);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                path.Append(laterSeparators);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">if</span> (path[path.Length - 1] == laterSeparators) path.Remove(path.Length - 1, 1);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">return</span> path.ToString();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac7cc17744e07ec56cc745e776146fa89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.BuildSemicolonQueryString </td>
          <td>(</td>
          <td class="paramtype">NameValueCollection&#160;</td>
          <td class="paramname"><em>QueryString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>urlEncode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a string querystring in the form ";key=value;key=value". Keys and values are UrlEncoded if urlEncode=true. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">QueryString</td><td></td></tr>
    <tr><td class="paramname">urlEncode</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00271">271</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                                                                                                        {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">BuildQueryString</a>(QueryString, urlEncode, <span class="keyword">true</span>, <span class="charliteral">&#39;;&#39;</span>, <span class="charliteral">&#39;;&#39;</span>, <span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_ac50e452cbcb5cea21318669c89632755"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">ImageResizer.Util.PathUtils.BuildQueryString</a></div><div class="ttdeci">static string BuildQueryString(NameValueCollection QueryString)</div><div class="ttdoc">Returns a string querystring in the form &amp;quot;?key=value&amp;amp;amp;key=value&amp;quot;. Keys and values are UrlEncoded a...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00249">PathUtils.cs:249</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61591f3c488e5945a25528336f0a4b2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NameValueCollection ImageResizer.Util.PathUtils.FilterQueryString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a>&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">params string[]&#160;</td>
          <td class="paramname"><em>keepKeys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a new collection containing only the specified keys from the old one </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td></td></tr>
    <tr><td class="paramname">keepKeys</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00583">583</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                                                                                                            {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">return</span> NameValueCollectionExtensions.Keep(query, keepKeys);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6943e50a715d4daf25cb6aa6e07d1a0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static byte [] ImageResizer.Util.PathUtils.FromBase64UToBytes </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a URL-safe version of base64 to a byte array. (no = padding, with - instead of + and _ instead of /) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00445">445</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                                                             {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            data = data.PadRight(data.Length + ((4 - data.Length % 4) % 4), <span class="charliteral">&#39;=&#39;</span>); <span class="comment">//if there is 1 leftover octet, add ==, if 2, add =. 3 octects = 4 chars. </span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">return</span> Convert.FromBase64String(data.Replace(<span class="charliteral">&#39;-&#39;</span>, <span class="charliteral">&#39;+&#39;</span>).Replace(<span class="charliteral">&#39;_&#39;</span>, <span class="charliteral">&#39;/&#39;</span>));</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ffc6a49feee3133b31fdd4adeaef151"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.FromBase64UToString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a URL-safe version of base64 to a string. 64U is (no = padding, with - instead of + and _ instead of /) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00462">462</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                                              {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">return</span> UTF8Encoding.UTF8.GetString(<a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a6943e50a715d4daf25cb6aa6e07d1a0a">FromBase64UToBytes</a>(data));</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a6943e50a715d4daf25cb6aa6e07d1a0a"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a6943e50a715d4daf25cb6aa6e07d1a0a">ImageResizer.Util.PathUtils.FromBase64UToBytes</a></div><div class="ttdeci">static byte[] FromBase64UToBytes(string data)</div><div class="ttdoc">Converts a URL-safe version of base64 to a byte array. (no = padding, with - instead of + and _ inste...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00445">PathUtils.cs:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a798c6c5aceaaefed3f3822ceba5876"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.GenerateImageUrl </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NameValueCollection&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates a resized image url for the specified physical or virtual path. Not CloudFront compatible. Does not support remote URLs, use RemoteReader for that. If you're running in IIS classic, add ".ashx" to the 'path' parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
    <tr><td class="paramname">query</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00483">483</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                                                                      {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#adafb4cd7d85a3567782842873c1a5176">ResolveAppRelative</a>(<a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a2a48f8c7b7dcb8481d09468986076a0b">GuessVirtualPath</a>(path)) + <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">BuildQueryString</a>(query); </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a2a48f8c7b7dcb8481d09468986076a0b"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a2a48f8c7b7dcb8481d09468986076a0b">ImageResizer.Util.PathUtils.GuessVirtualPath</a></div><div class="ttdeci">static string GuessVirtualPath(string path)</div><div class="ttdoc">Attempts to guess the virtual path from physical path. Will be thrwarted if the path is mapped as a v...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00494">PathUtils.cs:494</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_ac50e452cbcb5cea21318669c89632755"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">ImageResizer.Util.PathUtils.BuildQueryString</a></div><div class="ttdeci">static string BuildQueryString(NameValueCollection QueryString)</div><div class="ttdoc">Returns a string querystring in the form &amp;quot;?key=value&amp;amp;amp;key=value&amp;quot;. Keys and values are UrlEncoded a...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00249">PathUtils.cs:249</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_adafb4cd7d85a3567782842873c1a5176"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#adafb4cd7d85a3567782842873c1a5176">ImageResizer.Util.PathUtils.ResolveAppRelative</a></div><div class="ttdeci">static string ResolveAppRelative(string virtualPath)</div><div class="ttdoc">Resolves app-relative paths to virtual paths. Does nothing with virtual or relative paths...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00150">PathUtils.cs:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56cb53d101d364eb3b434a89af918335"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.GetExtension </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Grabs the last segment of the filename extension. Returns an empty string if there is no extension, or if the extension contains a space. Includes the leading '.' The querystring and fragment is ignored. Semicolon syntax not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00134">134</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                                       {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordtype">int</span> query = path.IndexOfAny(QueryOrFragment);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">if</span> (query &lt; 0) query = path.Length;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="comment">//Finds the first character that could possibly be part of the extension (before the query)</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordtype">int</span> firstPossibleExtensionChar = path.LastIndexOfAny(SpaceOrSlash, query - 1) + 1;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordtype">int</span> extensionStarts = path.LastIndexOf(<span class="charliteral">&#39;.&#39;</span>, query -1, query - firstPossibleExtensionChar );</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">if</span> (extensionStarts &lt; 0) extensionStarts = query;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">return</span> path.Substring(extensionStarts, query - extensionStarts);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b381221fbb1e4bd0d5d299c7f0dc550"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.GetFullExtension </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will return the full extension, like ".jpg.ashx", not just the last bit. Excludes extensions containing spaces or slashes. The querystring and fragment is ignored. Semicolon syntax not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00116">116</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                                           {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordtype">int</span> query = path.IndexOfAny(QueryOrFragment);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">if</span> (query &lt; 0) query = path.Length;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="comment">//Finds the first character that could possibly be part of the extension (before the query)</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordtype">int</span> firstPossibleExtensionChar = path.LastIndexOfAny(SpaceOrSlash, query - 1) + 1;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordtype">int</span> extensionStarts = path.IndexOf(<span class="charliteral">&#39;.&#39;</span>, firstPossibleExtensionChar, query - firstPossibleExtensionChar);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">if</span> (extensionStarts &lt; 0) extensionStarts = query;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">return</span> path.Substring(extensionStarts, query - extensionStarts);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2a48f8c7b7dcb8481d09468986076a0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.GuessVirtualPath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to guess the virtual path from physical path. Will be thrwarted if the path is mapped as a virtual folder inside the application. If the path is a non-physical path, it will be returned as is. Returns null if the physical path isn't a subfolder of the application's physical path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00494">494</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                                                           {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="comment">//If there&#39;s no windows slashes, it&#39;s probably virtual.</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="keywordflow">if</span> (path.IndexOf(<span class="charliteral">&#39;\\&#39;</span>) &lt; 0)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="keywordflow">return</span> path;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordtype">string</span> appPath = HostingEnvironment.ApplicationPhysicalPath;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="comment">//Otherwise, try to get the full path so we can compare it.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">if</span> (!Path.IsPathRooted(path)) path = Path.Combine(appPath, path);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            path = Path.GetFullPath(path);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="comment">//If it&#39;s a match, strip it and convert it to a virtual path.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">if</span> (path.StartsWith(appPath, StringComparison.OrdinalIgnoreCase)) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="comment">//Convert to app-relative path missing the ~/</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                path = path.Remove(0, appPath.Length).TrimStart(<span class="keyword">new</span> <span class="keywordtype">char</span>[] { <span class="charliteral">&#39;/&#39;</span>, <span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;~&#39;</span> }).Replace(<span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="keywordflow">return</span> PathUtils.ResolveAppRelativeAssumeAppRelative(path);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb4e92f50556202cd20d914384a1965d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.MapPathIfAppRelative </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the physcial mapped path for the specified virtual path if it starts with ~, otherwise retuns the original path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00470">470</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                                               {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">return</span> (path.StartsWith(<span class="stringliteral">&quot;~&quot;</span>, StringComparison.OrdinalIgnoreCase)) ? HostingEnvironment.MapPath(path) : path;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae552f710cc6327b8508ab4111f75d8c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.MergeOverwriteQueryString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NameValueCollection&#160;</td>
          <td class="paramname"><em>newQuerystring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overwrites exisisting querystring values in 'path' with the values in 'newQuerystring'. Does not support the semicolon syntax. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
    <tr><td class="paramname">newQuerystring</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00220">220</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                                                                                        {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            NameValueCollection oldQuery = <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ParseQueryString</a>(path);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="comment">//Overwrite old with new</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">foreach</span> (<span class="keywordtype">string</span> key <span class="keywordflow">in</span> newQuerystring.Keys)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <span class="keywordflow">if</span> (key != null) oldQuery[key] = newQuerystring[key];</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a213e5ba499d364b9f2e2bce592a09af7">AddQueryString</a>(<a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#aac9a36962f98bb9a948ee41411323ebf">RemoveQueryString</a>(path), <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">BuildQueryString</a>(oldQuery));</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_aac9a36962f98bb9a948ee41411323ebf"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#aac9a36962f98bb9a948ee41411323ebf">ImageResizer.Util.PathUtils.RemoveQueryString</a></div><div class="ttdeci">static string RemoveQueryString(string path)</div><div class="ttdoc">Removes the query string from the specifed path. If the path is only a querystring, an empty string is returned. Does not support the semicolon syntax. Fragment is maintained as-is. </div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00199">PathUtils.cs:199</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a213e5ba499d364b9f2e2bce592a09af7"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a213e5ba499d364b9f2e2bce592a09af7">ImageResizer.Util.PathUtils.AddQueryString</a></div><div class="ttdeci">static string AddQueryString(string virtualPath, string querystring)</div><div class="ttdoc">Joins the path and querystring. If the path already contains a querystring, they are &amp;#39;append joined&amp;#39; ...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00178">PathUtils.cs:178</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a32087fab410ab49c140bb773f48bb86d"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ImageResizer.Util.PathUtils.ParseQueryString</a></div><div class="ttdeci">static NameValueCollection ParseQueryString(string path)</div><div class="ttdoc">Parses the querystring from the given path into a NameValueCollection. accepts &amp;quot;file?key=value&amp;quot; and &amp;quot;?key=value&amp;amp;amp;key2=value2&amp;quot; formats. (no path is required) UrlDecodes keys and values. </div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00344">PathUtils.cs:344</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_ac50e452cbcb5cea21318669c89632755"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">ImageResizer.Util.PathUtils.BuildQueryString</a></div><div class="ttdeci">static string BuildQueryString(NameValueCollection QueryString)</div><div class="ttdoc">Returns a string querystring in the form &amp;quot;?key=value&amp;amp;amp;key=value&amp;quot;. Keys and values are UrlEncoded a...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00249">PathUtils.cs:249</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a08767ea3c8bee6716bb5484ae78df1da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.MergeQueryString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NameValueCollection&#160;</td>
          <td class="paramname"><em>newQuerystring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the querystring values in 'newQuerystring' to the querystring in Path, but does not overwrite values. Does not support the semicolon syntax. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
    <tr><td class="paramname">newQuerystring</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00234">234</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                                                                               {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            NameValueCollection oldQuery = <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ParseQueryString</a>(path);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="comment">//Overwrite new with old</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">foreach</span> (<span class="keywordtype">string</span> key <span class="keywordflow">in</span> oldQuery.Keys)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">if</span> (key != null) newQuerystring[key] = oldQuery[key];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a213e5ba499d364b9f2e2bce592a09af7">AddQueryString</a>(<a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#aac9a36962f98bb9a948ee41411323ebf">RemoveQueryString</a>(path), <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">BuildQueryString</a>(newQuerystring));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_aac9a36962f98bb9a948ee41411323ebf"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#aac9a36962f98bb9a948ee41411323ebf">ImageResizer.Util.PathUtils.RemoveQueryString</a></div><div class="ttdeci">static string RemoveQueryString(string path)</div><div class="ttdoc">Removes the query string from the specifed path. If the path is only a querystring, an empty string is returned. Does not support the semicolon syntax. Fragment is maintained as-is. </div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00199">PathUtils.cs:199</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a213e5ba499d364b9f2e2bce592a09af7"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a213e5ba499d364b9f2e2bce592a09af7">ImageResizer.Util.PathUtils.AddQueryString</a></div><div class="ttdeci">static string AddQueryString(string virtualPath, string querystring)</div><div class="ttdoc">Joins the path and querystring. If the path already contains a querystring, they are &amp;#39;append joined&amp;#39; ...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00178">PathUtils.cs:178</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a32087fab410ab49c140bb773f48bb86d"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ImageResizer.Util.PathUtils.ParseQueryString</a></div><div class="ttdeci">static NameValueCollection ParseQueryString(string path)</div><div class="ttdoc">Parses the querystring from the given path into a NameValueCollection. accepts &amp;quot;file?key=value&amp;quot; and &amp;quot;?key=value&amp;amp;amp;key2=value2&amp;quot; formats. (no path is required) UrlDecodes keys and values. </div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00344">PathUtils.cs:344</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_ac50e452cbcb5cea21318669c89632755"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#ac50e452cbcb5cea21318669c89632755">ImageResizer.Util.PathUtils.BuildQueryString</a></div><div class="ttdeci">static string BuildQueryString(NameValueCollection QueryString)</div><div class="ttdoc">Returns a string querystring in the form &amp;quot;?key=value&amp;amp;amp;key=value&amp;quot;. Keys and values are UrlEncoded a...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00249">PathUtils.cs:249</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a479b53b9fcc98b25bd8f25a36f15c084"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NameValueCollection ImageResizer.Util.PathUtils.ParseQueryOnly </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowSemicolons</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>urlDecode</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses a querystring into a name/value collection. The given string cannot include path or fragment information - it must be <em>just</em> the querystring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td></td></tr>
    <tr><td class="paramname">allowSemicolons</td><td></td></tr>
    <tr><td class="paramname">urlDecode</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00408">408</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                                                                                                           {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordtype">string</span>[] pairs = query.Split(allowSemicolons ? <span class="keyword">new</span> <span class="keywordtype">char</span>[] { <span class="charliteral">&#39;?&#39;</span>, <span class="charliteral">&#39;&amp;&#39;</span>, <span class="charliteral">&#39;;&#39;</span> } : <span class="keyword">new</span> <span class="keywordtype">char</span>[] { <span class="charliteral">&#39;?&#39;</span>, <span class="charliteral">&#39;&amp;&#39;</span> }, StringSplitOptions.RemoveEmptyEntries);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            NameValueCollection c = <span class="keyword">new</span> NameValueCollection();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">foreach</span> (<span class="keywordtype">string</span> s <span class="keywordflow">in</span> pairs) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                <span class="keywordtype">string</span>[] namevalue = s.Split(<span class="keyword">new</span> <span class="keywordtype">char</span>[] { <span class="charliteral">&#39;=&#39;</span> }, StringSplitOptions.RemoveEmptyEntries);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <span class="keywordflow">if</span> (namevalue.Length &gt; 2) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    <span class="comment">//Handle &amp;key=value=value and &amp;key===value=value -&gt; key : &quot;value=value&quot;</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    <span class="keywordtype">string</span> value = s.Substring(s.IndexOf(<span class="charliteral">&#39;=&#39;</span>)).TrimStart(<span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    c[urlDecode ? HttpUtility.UrlDecode(namevalue[0]) : namevalue[0]] =</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        urlDecode ? HttpUtility.UrlDecode(value) : value;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (namevalue.Length == 2) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    <span class="comment">//Handle key=value (normal)</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    c[urlDecode ? HttpUtility.UrlDecode(namevalue[0]) : namevalue[0]] =</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                        urlDecode ? HttpUtility.UrlDecode(namevalue[1]) : namevalue[1];</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (namevalue.Length == 1){</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                    <span class="comment">//Hanlde &amp;key=&amp;key2= or &amp;key&amp;key2 -&gt; key: &quot;&quot;, key2: &quot;&quot;</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    <span class="comment">//Setting a null value would be confusing, as that is how we determine</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    <span class="comment">//whether a certain paramater exists</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    c[urlDecode ? HttpUtility.UrlDecode(namevalue[0]) : namevalue[0]] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">return</span> c;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32087fab410ab49c140bb773f48bb86d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NameValueCollection ImageResizer.Util.PathUtils.ParseQueryString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the querystring from the given path into a NameValueCollection. accepts "file?key=value" and "?key=value&amp;amp;key2=value2" formats. (no path is required) UrlDecodes keys and values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00344">344</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                                                        {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ParseQueryString</a>(path, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a32087fab410ab49c140bb773f48bb86d"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ImageResizer.Util.PathUtils.ParseQueryString</a></div><div class="ttdeci">static NameValueCollection ParseQueryString(string path)</div><div class="ttdoc">Parses the querystring from the given path into a NameValueCollection. accepts &amp;quot;file?key=value&amp;quot; and &amp;quot;?key=value&amp;amp;amp;key2=value2&amp;quot; formats. (no path is required) UrlDecodes keys and values. </div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00344">PathUtils.cs:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abed888109176efb4786154e277353764"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NameValueCollection ImageResizer.Util.PathUtils.ParseQueryString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowSemicolons</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the querystring from the given path into a NameValueCollection. accepts "file?key=value" and "?key=value&amp;amp;key2=value2" formats. (no path is required) UrlDecodes keys and values. Does not enforce correct syntax, I.E. '?key=value?key2=value2' is allowed. However, '&amp;key=value?key2=value' will only get key2 parsed. When allowSemicolons is true, semicolon paths like ';key=value;key2=value2' are allowed, as are hybrid paths: ';key=value?key2=value2&amp;key3=value3'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
    <tr><td class="paramname">allowSemicolons</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00357">357</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                                                                              {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordtype">string</span> s, f;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ParseQueryString</a>(path, allowSemicolons, out s,out f);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a32087fab410ab49c140bb773f48bb86d"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ImageResizer.Util.PathUtils.ParseQueryString</a></div><div class="ttdeci">static NameValueCollection ParseQueryString(string path)</div><div class="ttdoc">Parses the querystring from the given path into a NameValueCollection. accepts &amp;quot;file?key=value&amp;quot; and &amp;quot;?key=value&amp;amp;amp;key2=value2&amp;quot; formats. (no path is required) UrlDecodes keys and values. </div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00344">PathUtils.cs:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7637c1c183e25f5a5d3ec3dd75a759a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NameValueCollection ImageResizer.Util.PathUtils.ParseQueryString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowSemicolons</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>beforeQuery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out string&#160;</td>
          <td class="paramname"><em>fragment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the querystring from the given path into a NameValueCollection. accepts "file?key=value" and "?key=value&amp;amp;key2=value2" formats. (no path is required) UrlDecodes keys and values. Does not enforce correct syntax, I.E. '?key=value?key2=value2' is allowed. However, '&amp;key=value?key2=value' will only get key2 parsed. When allowSemicolons is true, semicolon paths like ';key=value;key2=value2' are allowed, as are hybrid paths: ';key=value?key2=value2&amp;key3=value3'. </p>
<p>Does NOT parse fragments correctly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
    <tr><td class="paramname">allowSemicolons</td><td></td></tr>
    <tr><td class="paramname">beforeQuery</td><td>Returns the portion of the 'path' before the querystring. May include the scheme, server, port, path and path info, depending upon what 'path' contained.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00374">374</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                                                                                                           {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="comment">//Separate the fragment if it&#39;s present, and restore it later</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordtype">int</span> frag = path.IndexOf(<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">if</span> (frag &lt; 0) fragment = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                fragment = path.Substring(frag);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                path = path.Substring(0, frag);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordtype">int</span> firstdelimiter = path.IndexOf(<span class="charliteral">&#39;?&#39;</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">if</span> (allowSemicolons) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <span class="comment">//Use the index if whichever is first, and preset</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <span class="keywordtype">int</span> firstsemicolon = path.IndexOf(<span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="keywordflow">if</span> (firstdelimiter &lt; 0 || (firstsemicolon &gt;= 0 &amp;&amp; firstsemicolon &lt; firstdelimiter)) firstdelimiter = firstsemicolon;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordflow">if</span> (firstdelimiter &lt; 0 || firstdelimiter &gt;= path.Length) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="comment">//No query string detected</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                beforeQuery = path;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> NameValueCollection();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                beforeQuery = path.Substring(0, firstdelimiter);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a479b53b9fcc98b25bd8f25a36f15c084">ParseQueryOnly</a>(path.Substring(firstdelimiter, path.Length - firstdelimiter),allowSemicolons);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a479b53b9fcc98b25bd8f25a36f15c084"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a479b53b9fcc98b25bd8f25a36f15c084">ImageResizer.Util.PathUtils.ParseQueryOnly</a></div><div class="ttdeci">static NameValueCollection ParseQueryOnly(string query, bool allowSemicolons=true, bool urlDecode=true)</div><div class="ttdoc">Parses a querystring into a name/value collection. The given string cannot include path or fragment i...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00408">PathUtils.cs:408</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f54b6e4e17f239fc70eaafd766fc101"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NameValueCollection ImageResizer.Util.PathUtils.ParseQueryStringFriendly </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Like ParseQueryString, but permits the leading '?' to be omitted. Does not support the semicolon syntax. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00312">312</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                                                                {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">if</span> (path.IndexOf(<span class="charliteral">&#39;?&#39;</span>) &lt; 0 &amp;&amp; path.IndexOf(<span class="charliteral">&#39;=&#39;</span>) &gt;= 0) path = <span class="charliteral">&#39;?&#39;</span> + path;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ParseQueryString</a>(path,<span class="keyword">false</span>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a32087fab410ab49c140bb773f48bb86d"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ImageResizer.Util.PathUtils.ParseQueryString</a></div><div class="ttdeci">static NameValueCollection ParseQueryString(string path)</div><div class="ttdoc">Parses the querystring from the given path into a NameValueCollection. accepts &amp;quot;file?key=value&amp;quot; and &amp;quot;?key=value&amp;amp;amp;key2=value2&amp;quot; formats. (no path is required) UrlDecodes keys and values. </div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00344">PathUtils.cs:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75ce76cbe824eb05eb74c8ea09883ed1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static NameValueCollection ImageResizer.Util.PathUtils.ParseQueryStringFriendlyAllowSemicolons </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Like ParseQueryString, but permits the leading '?' to be omitted, and semicolons can be substituted for '&amp;' </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00322">322</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                                                                               {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="comment">//Delete the fragment before we start</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordtype">int</span> fragment = path.IndexOf(<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">if</span> (fragment &gt; -1) path = path.Substring(0, fragment);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordtype">int</span> eq = path.IndexOf(<span class="charliteral">&#39;=&#39;</span>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordtype">int</span> quest = path.IndexOf(<span class="charliteral">&#39;?&#39;</span>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordtype">int</span> semi = path.IndexOf(<span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">if</span> (eq &gt;= 0 &amp;&amp; <span class="comment">//We have equals, which indicates a query</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                quest &lt; 0 &amp;&amp; <span class="comment">//But no question mark!</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                (eq &lt; semi || semi &lt; 0)) <span class="comment">//An no semicolon, or else a semicolon *after* the first equals.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                path = <span class="charliteral">&#39;?&#39;</span> + path;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ParseQueryString</a>(path,<span class="keyword">true</span>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a32087fab410ab49c140bb773f48bb86d"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a32087fab410ab49c140bb773f48bb86d">ImageResizer.Util.PathUtils.ParseQueryString</a></div><div class="ttdeci">static NameValueCollection ParseQueryString(string path)</div><div class="ttdoc">Parses the querystring from the given path into a NameValueCollection. accepts &amp;quot;file?key=value&amp;quot; and &amp;quot;?key=value&amp;amp;amp;key2=value2&amp;quot; formats. (no path is required) UrlDecodes keys and values. </div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00344">PathUtils.cs:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0bf1e4b4833b6ca62efc0ff7c72c93c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.RemoveExtension </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the extension from the filename or URL, leaving the querystring intact, where the extension is only the last extension segment. I.e, image.jpg.bmp.tiff?hi would be image.jpg.bmp?hi after this call. The querystring and fragment is maintained as-is. Semicolon syntax not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00085">85</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                                          {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordtype">int</span> query = path.IndexOfAny(QueryOrFragment);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">if</span> (query &lt; 0) query = path.Length;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="comment">//Finds the first character that could possibly be part of the extension (before the query)</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordtype">int</span> firstPossibleExtensionChar = path.LastIndexOfAny(SpaceOrSlash, query - 1) + 1;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordtype">int</span> extensionStarts = path.LastIndexOf(<span class="charliteral">&#39;.&#39;</span>, query - 1, query - firstPossibleExtensionChar);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">if</span> (extensionStarts &lt; 0) extensionStarts = query;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="keywordflow">return</span> path.Substring(0, extensionStarts) + path.Substring(query);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa95b20ca2e860fd2b869be26bf8ad816"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.RemoveFullExtension </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes all extension segments from the filename or URL, leaving the querystring intact. I.e, image.jpg.bmp.tiff?hi would be image?hi The querystring and fragment is maintained as-is. Semicolon syntax not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00066">66</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                                                              {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordtype">int</span> query = path.IndexOfAny(QueryOrFragment);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">if</span> (query &lt; 0) query = path.Length;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="comment">//Finds the first character that could possibly be part of the extension (before the query)</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordtype">int</span> firstPossibleExtensionChar = path.LastIndexOfAny(SpaceOrSlash, query - 1) + 1;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keywordtype">int</span> extensionStarts = path.IndexOf(<span class="charliteral">&#39;.&#39;</span>, firstPossibleExtensionChar, query - firstPossibleExtensionChar);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">if</span> (extensionStarts &lt; 0) extensionStarts = query;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">return</span> path.Substring(0, extensionStarts) + path.Substring(query);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9359690ca11f8e0a4e21860db00dc8cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.RemoveNonMatchingChars </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>chars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows a string to be filtered using the specified whitelisting expression (regex style). </p>
<p>I.e, "hi YOU 3", "a-z3" will produce "hi3". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td></td></tr>
    <tr><td class="paramname">chars</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00560">560</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                                                                               {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            Regex r = <span class="keyword">new</span> Regex(<span class="stringliteral">&quot;[&quot;</span> + Regex.Escape(chars) + <span class="stringliteral">&quot;]&quot;</span>, RegexOptions.Compiled);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; text.Length; i++) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keywordtype">string</span> chr = text.Substring(i,1);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">if</span> (r.IsMatch(chr)) sb.Append(chr);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">return</span> sb.ToString();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac9a36962f98bb9a948ee41411323ebf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.RemoveQueryString </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the query string from the specifed path. If the path is only a querystring, an empty string is returned. Does not support the semicolon syntax. Fragment is maintained as-is. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00199">199</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                            {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="comment">//Separate the fragment if it&#39;s present, and restore it later</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordtype">int</span> fragment = path.IndexOf(<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordtype">string</span> suffix = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> (fragment &lt; 0) fragment = path.Length;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                suffix = path.Substring(fragment);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                path = path.Substring(0, fragment);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordtype">int</span> delimiter = path.IndexOf(<span class="charliteral">&#39;?&#39;</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">return</span> delimiter &gt; -1 ? path.Substring(0, delimiter) + suffix : path;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adafb4cd7d85a3567782842873c1a5176"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.ResolveAppRelative </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>virtualPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resolves app-relative paths to virtual paths. Does nothing with virtual or relative paths. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">virtualPath</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00150">150</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>

<p>Referenced by <a class="el" href="_image_builder_8cs_source.html#l00235">ImageResizer.ImageBuilder.GetStreamFromSource()</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                                                    {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment">//resolve tilde</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (virtualPath.StartsWith(<span class="stringliteral">&quot;~&quot;</span>, StringComparison.OrdinalIgnoreCase)) <span class="keywordflow">return</span> HostingEnvironment.ApplicationVirtualPath.TrimEnd(<span class="charliteral">&#39;/&#39;</span>) + <span class="charliteral">&#39;/&#39;</span> + virtualPath.TrimStart(<span class="charliteral">&#39;~&#39;</span>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">return</span> virtualPath;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a7e4faaa93c5b4d1f3652ccfc4dae82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.ResolveAppRelativeAssumeAppRelative </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>virtualPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turns relative paths into domain-relative paths. Turns app-relative paths into domain relative paths. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">virtualPath</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00162">162</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                                                                     {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (virtualPath.StartsWith(<span class="stringliteral">&quot;~&quot;</span>)) <span class="keywordflow">return</span> HostingEnvironment.ApplicationVirtualPath.TrimEnd(<span class="charliteral">&#39;/&#39;</span>) + <span class="stringliteral">&quot;/&quot;</span> + virtualPath.TrimStart(<span class="charliteral">&#39;~&#39;</span>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">if</span> (!virtualPath.StartsWith(<span class="stringliteral">&quot;/&quot;</span>)) <span class="keywordflow">return</span> HostingEnvironment.ApplicationVirtualPath.TrimEnd(<span class="charliteral">&#39;/&#39;</span>) + <span class="stringliteral">&quot;/&quot;</span> + virtualPath;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keywordflow">return</span> virtualPath;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9be7ad795b3c8b14fea7e566806f597b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.ResolveVariablesInPath </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>pathWithVars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_util_1_1_path_utils.html#a0ffdf593f69e69f70a16c35d5124b4c2">VariableResolverCallback</a>&#160;</td>
          <td class="paramname"><em>resolver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replaces variables in paths with their values. Ex. ~/uploads/thumbs/&lt;guid&gt;.&lt;ext&gt;. Standard variables are &lt;ext&gt; (the default extension for the final file type), &lt;guid&gt;, a randomly generated GUID, &lt;filename&gt;, the original filename without it's extension, &lt;path&gt;, the original path and filename without extension, &lt;settings.width&gt;, (any specified settings value except preset), &lt;width&gt; (final width), and &lt;height&gt; (final height). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pathWithVars</td><td></td></tr>
    <tr><td class="paramname">resolver</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00524">524</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                                                                                            {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordtype">string</span> p = pathWithVars;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">while</span> (p.IndexOf(<span class="charliteral">&#39;&lt;&#39;</span>) &gt; -1) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                <span class="keywordtype">int</span> start = p.IndexOf(<span class="charliteral">&#39;&lt;&#39;</span>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                <span class="keywordtype">int</span> stop = p.IndexOf(<span class="charliteral">&#39;&gt;&#39;</span>,start);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keywordtype">int</span> bugcheck = p.IndexOf(<span class="charliteral">&#39;&lt;&#39;</span>,start + 1);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="keywordflow">if</span> (stop &lt; 0 || (bugcheck &gt; -1 &amp;&amp; bugcheck &lt; stop) || stop == start + 1) </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageProcessingException(<span class="stringliteral">&quot;Destination paths can only contain &lt; and &gt; in matched pairs to designate variables. Path \&quot;&quot;</span> + pathWithVars + <span class="stringliteral">&quot;\&quot; has invalid syntax&quot;</span>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                <span class="keywordtype">string</span> varName = p.Substring(start + 1,stop - start -1);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <span class="keywordtype">string</span> filter = null;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <span class="comment">//Split off the filter if present.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordtype">int</span> filterIx = varName.IndexOf(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                <span class="keywordflow">if</span> (filterIx &gt; 0) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                    filter = varName.Substring(filterIx + 1);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                    varName = varName.Substring(0, filterIx);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                varName = varName.ToLowerInvariant();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <span class="keywordtype">string</span> result = resolver(varName);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">if</span> (!<span class="keywordtype">string</span>.IsNullOrEmpty(filter)) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    result = <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#a9359690ca11f8e0a4e21860db00dc8cd">RemoveNonMatchingChars</a>(result, filter);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <span class="keywordflow">if</span> (result == null)</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                    <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageProcessingException(<span class="stringliteral">&quot;Invalid variable name \&quot;&quot;</span> + varName + <span class="stringliteral">&quot;\&quot; in templated path \&quot;&quot;</span> + pathWithVars + <span class="stringliteral">&quot;\&quot;. The variable name may be mispelled, or the variable may not be available with the pipeline you are using.&quot;</span>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                p = p.Substring(0,start) + result + p.Substring(stop + 1);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">if</span> (p.IndexOf(<span class="charliteral">&#39;&gt;&#39;</span>) &gt; -1) <span class="keywordflow">throw</span> <span class="keyword">new</span> ImageProcessingException(<span class="stringliteral">&quot;Orphaned &#39;&gt;&#39; in template path \&quot;&quot;</span> + pathWithVars + <span class="stringliteral">&quot;\&quot;.&quot;</span>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_a9359690ca11f8e0a4e21860db00dc8cd"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#a9359690ca11f8e0a4e21860db00dc8cd">ImageResizer.Util.PathUtils.RemoveNonMatchingChars</a></div><div class="ttdeci">static string RemoveNonMatchingChars(string text, string chars)</div><div class="ttdoc">Allows a string to be filtered using the specified whitelisting expression (regex style)...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00560">PathUtils.cs:560</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e47130783374c72a73f97760843bb07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.SetExtension </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>newExtension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Should be called SetFullExtension. Sets the file extension of the specified path to the specified value, returning the result. If an extension has multiple parts, it will replace all of them. Leading dots will be stripped from 'newExtension' and re-addd as required. The querystring and fragment is maintained as-is. Semicolon syntax not supported. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
    <tr><td class="paramname">newExtension</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00048">48</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                                                            {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keywordtype">int</span> query = path.IndexOfAny(QueryOrFragment);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">if</span> (query &lt; 0) query = path.Length;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="comment">//Finds the first character that could possibly be part of the extension (before the query)</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keywordtype">int</span> firstPossibleExtensionChar = path.LastIndexOfAny(SpaceOrSlash, query - 1) + 1;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keywordtype">int</span> extensionStarts = path.IndexOf(<span class="charliteral">&#39;.&#39;</span>, firstPossibleExtensionChar, query - firstPossibleExtensionChar);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">if</span> (extensionStarts &lt; 0) extensionStarts = query;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keywordflow">return</span> path.Substring(0, extensionStarts) + (!<span class="keywordtype">string</span>.IsNullOrEmpty(newExtension) ? <span class="stringliteral">&quot;.&quot;</span> + newExtension.TrimStart(<span class="charliteral">&#39;.&#39;</span>) : <span class="stringliteral">&quot;&quot;</span>) + path.Substring(query);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc45f67bc1e770b2971878b809d3a98e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.ToBase64U </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts aribtrary bytes to a URL-safe version of base64 (no = padding, with - instead of + and _ instead of /) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00437">437</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                                    {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">return</span> Convert.ToBase64String(data).Replace(<span class="stringliteral">&quot;=&quot;</span>, String.Empty).Replace(<span class="charliteral">&#39;+&#39;</span>, <span class="charliteral">&#39;-&#39;</span>).Replace(<span class="charliteral">&#39;/&#39;</span>, <span class="charliteral">&#39;_&#39;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf274218eee80708f27069549777bc38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string ImageResizer.Util.PathUtils.ToBase64U </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts aribtrary strings to a URL-safe version of base64 (no = padding, with - instead of + and _ instead of /) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00454">454</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                                    {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_util_1_1_path_utils.html#acc45f67bc1e770b2971878b809d3a98e">ToBase64U</a>(UTF8Encoding.UTF8.GetBytes(data));</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_util_1_1_path_utils_html_acc45f67bc1e770b2971878b809d3a98e"><div class="ttname"><a href="class_image_resizer_1_1_util_1_1_path_utils.html#acc45f67bc1e770b2971878b809d3a98e">ImageResizer.Util.PathUtils.ToBase64U</a></div><div class="ttdeci">static string ToBase64U(byte[] data)</div><div class="ttdoc">Converts aribtrary bytes to a URL-safe version of base64 (no = padding, with - instead of + and _ ins...</div><div class="ttdef"><b>Definition:</b> <a href="_path_utils_8cs_source.html#l00437">PathUtils.cs:437</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ffdf593f69e69f70a16c35d5124b4c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delegate string ImageResizer.Util.PathUtils.VariableResolverCallback </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>variableName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A method that resolves variable names to values for the ResolveVariablesInPath method </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">variableName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="a3a5c9196381928db82048058cb62dc19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ImageResizer.Util.PathUtils.AppPhysicalPath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If not running in ASP.NET, returns the folder containing the DLL. </p>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00030">30</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a210e3c7584b66cf195a0b81ff74e3b2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ImageResizer.Util.PathUtils.AppVirtualPath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns HostingEnvironment.ApplicationVirtualPath or "/", if asp.net is not running </p>

<p>Definition at line <a class="el" href="_path_utils_8cs_source.html#l00022">22</a> of file <a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/nathanael/Documents/resizer/Core/Util/<a class="el" href="_path_utils_8cs_source.html">PathUtils.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
