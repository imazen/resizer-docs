<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ImageResizer: C:/Users/nathanael/Documents/resizer/Core/Resizing/ImageState.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="imageresizer-logo-00aec4.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a class="el" href="dir_30461bcd6cb93fd37f3634d3097c622f.html">Resizing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ImageState.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Copyright (c) 2011 Nathanael Jones. See license.txt */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> System;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> System.Text;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> System.Drawing;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> System.Drawing.Imaging;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">namespace </span>ImageResizer.Resizing {<span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">    /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">    /// Encapsulates the state of an image being resized. </span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    /// Can be used to simulate a resize as well as actually perform one.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    /// All code should ignore when Bitmaps and Graphics objects are null, and go about simulating all the mathematical functions as normal.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    /// </span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">    /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html">   15</a></span>&#160;<span class="comment"></span>    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> :IDisposable {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        <span class="keyword">public</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>(<a class="code" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings, Size originalSize, <span class="keywordtype">bool</span> transparencySupported) {</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;            this.settings = settings;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            this.originalSize = originalSize;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            this.supportsTransparency = transparencySupported;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">        /// The commands to apply to the bitmap</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179">   25</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <a class="code" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179">settings</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">        /// The original size of the source bitmap. Use this instead of accessing the bitmap directly for this information, since the bitmap may not always be available</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c">   30</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> Size <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c">originalSize</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">        /// Rendering choices can depend on whether the output format supports transparency.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a4292474d3ba45b4f0c20fb7b38e8631c">   36</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">bool</span> supportsTransparency = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">        /// The layout object. Used for calculated and flowing the layout of the various rings around the image (padding, border, effect, margin, etc).</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e">   42</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_layout_builder.html">LayoutBuilder</a> layout = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_layout_builder.html">LayoutBuilder</a>();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">        /// The size of the target bitmap image. Set after all sizing operations have completed.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919">   47</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> Size <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919">destSize</a>;<span class="comment"></span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">        /// The dimensions of the bitmap afer all operations have been applied to it (Calling FlipRotate can change the bitmap dimensions).</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f">   51</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> Size <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f">finalSize</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">        /// The rectangular portion of the source image to copy</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28">   57</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> RectangleF <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28">copyRect</a>;<span class="comment"></span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">        /// (read-only) Same as copyRect.Size, convenience property.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0a8e5171b83599382074f3462944c4dd">   61</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> SizeF copySize { <span class="keyword">get</span> { <span class="keywordflow">return</span> copyRect.Size; } }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;       <span class="comment"></span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">        /// The source bitmap.  If null, skip drawing commands, but continue layout logic.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0">   66</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> Bitmap <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0">sourceBitmap</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">        /// An optional intermediate bitmap, created by plugins who need to process the source bitmap it gets rendered to destBitmap. If defined, it should be used instead of sourceBitmap during RenderImage(), and disposed immediately after use.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#acd58bc890cee2f8d314ae94c2508d0b5">   71</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> Bitmap <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#acd58bc890cee2f8d314ae94c2508d0b5">preRenderBitmap</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">        /// If &#39;sourceBitmap&#39; is CMYK and `preRenderBitmap` is null, converts `sourceBitmap` to RGB and stores in &#39;preRenderBitmap&#39;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a892e7d660293242d2dca762781c27642">   76</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a892e7d660293242d2dca762781c27642">ConvertIfCMYK</a>(){</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;             <span class="keywordflow">if</span> (preRenderBitmap == null &amp;&amp; GetColorFormat(sourceBitmap) == ImageColorFormat.Cmyk) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="comment">//For CMYK images, we must use DrawImage instead.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                preRenderBitmap = <span class="keyword">new</span> Bitmap(sourceBitmap.Width, sourceBitmap.Height, PixelFormat.Format24bppRgb);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <span class="keyword">using</span> (var g = Graphics.FromImage(preRenderBitmap)) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                    g.DrawImageUnscaled(sourceBitmap, 0, 0);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;             }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment"></span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">        /// Clones &#39;sourceBitmap&#39; into &#39;preRenderBitmap&#39; if null.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a1033f483393b4ee36f7750c8879e2faa">   89</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a1033f483393b4ee36f7750c8879e2faa">EnsurePreRenderBitmap</a>(){</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            ConvertIfCMYK();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">if</span> (preRenderBitmap == null){</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                preRenderBitmap = sourceBitmap.Clone(<span class="keyword">new</span> Rectangle(<span class="keyword">new</span> Point(0, 0), sourceBitmap.Size), sourceBitmap.PixelFormat == PixelFormat.Format24bppRgb ? PixelFormat.Format24bppRgb : PixelFormat.Format32bppArgb);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">        /// Applies copyRect (if it will have any effect), placing the result in preRenderBitmap, and resetting copyRect</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8cba68835deaa450ce6317f4e55ff51e">   99</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8cba68835deaa450ce6317f4e55ff51e">ApplyCropping</a>(){</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            ConvertIfCMYK();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            var latest = preRenderBitmap ?? sourceBitmap;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">if</span> (latest == null || copyRect.IsEmpty) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">if</span> (copyRect.X == 0 &amp;&amp; copyRect.Y == 0 &amp;&amp; copyRect.Width == latest.Width &amp;&amp; copyRect.Height == latest.Height) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                preRenderBitmap = latest.Clone(copyRect, PixelFormat.Format32bppArgb);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                copyRect = <span class="keyword">new</span> RectangleF(0, 0, preRenderBitmap.Width, preRenderBitmap.Height);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            }<span class="keywordflow">finally</span>{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="keywordflow">if</span> (latest != sourceBitmap)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    latest.Dispose();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }<span class="comment"></span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">        /// Ensures that the working bitmap is in 32bpp RGBA format - otherwise it is converted.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a33007f2251cb600d5a345698e0a53baa">  118</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a33007f2251cb600d5a345698e0a53baa">EnsureRGBA</a>()</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            ConvertIfCMYK();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            var latest = preRenderBitmap ?? sourceBitmap;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">if</span> (latest.PixelFormat != PixelFormat.Format32bppArgb){</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    preRenderBitmap = latest.Clone(<span class="keyword">new</span> Rectangle(<span class="keyword">new</span> Point(0, 0), latest.Size), PixelFormat.Format32bppArgb);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                } <span class="keywordflow">finally</span>{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    <span class="keywordflow">if</span> (latest != sourceBitmap) latest.Dispose();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keyword">private</span> <span class="keyword">enum</span> ImageColorFormat {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            Rgb,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            Cmyk,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            Indexed,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            Grayscale</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keyword">private</span> ImageColorFormat GetColorFormat(Bitmap bitmap)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> pixelFormatIndexed = 0x00010000;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> pixelFormat32bppCMYK = 0x200F;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> pixelFormat16bppGrayScale = (4 | (16 &lt;&lt; 8));</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="comment">// Check image flags</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            var flags = (ImageFlags)bitmap.Flags;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            if ((flags &amp; ImageFlags.ColorSpaceCmyk) &gt; 0 || (flags &amp; (ImageFlags.ColorSpaceYcck)) &gt; 0)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">return</span> ImageColorFormat.Cmyk;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; ImageFlags.ColorSpaceGray) &gt; 0)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <span class="keywordflow">return</span> ImageColorFormat.Grayscale;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="comment">// Check pixel format</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            var pixelFormat = (int)bitmap.PixelFormat;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            if (pixelFormat == pixelFormat32bppCMYK)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordflow">return</span> ImageColorFormat.Cmyk;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pixelFormat &amp; pixelFormatIndexed) != 0)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">return</span> ImageColorFormat.Indexed;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pixelFormat == pixelFormat16bppGrayScale)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">return</span> ImageColorFormat.Grayscale;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="comment">// Default to RGB</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">return</span> ImageColorFormat.Rgb;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">        /// The destination bitmap.  If null, skip drawing commands, but continue layout logic.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d">  178</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> Bitmap <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d">destBitmap</a>;<span class="comment"></span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">        /// A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b">  182</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> Graphics <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b">destGraphics</a>;<span class="comment"></span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">        /// Allows color correction/modification during the image copy.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0575a388f0e3235d967cb62f4904fe09">  186</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> ImageAttributes <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0575a388f0e3235d967cb62f4904fe09">copyAttibutes</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">private</span> Dictionary&lt;string, object&gt; data = <span class="keyword">new</span> Dictionary&lt;string, object&gt;(StringComparer.OrdinalIgnoreCase);<span class="comment"></span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">        /// Allows extensions to store data along with the image state</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a995d9c7d9b9c8faf2f8cc1cbf15d8174">  192</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> Dictionary&lt;string, object&gt; Data {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keyword">get</span> { <span class="keywordflow">return</span> data; }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="comment"></span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">        /// Disposes sourceBitmap, destGraphics, destBitmap, and copyAttributes if they are non-null</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a04bc1fbdf10a7f4fcc5ffffdb406f491">  202</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a04bc1fbdf10a7f4fcc5ffffdb406f491">Dispose</a>() {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="comment">//Close the source file stream if tagged for disposal.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <span class="keywordflow">if</span> (sourceBitmap != null) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    <span class="keywordflow">if</span> (sourceBitmap.Tag != null &amp;&amp; sourceBitmap.Tag is <a class="code" href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">BitmapTag</a>) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        System.IO.Stream s = ((BitmapTag)sourceBitmap.Tag).Source;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                        <span class="keywordflow">if</span> (s != null) s.Dispose();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    sourceBitmap.Dispose();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    <span class="keywordflow">if</span> (destGraphics != null) destGraphics.Dispose();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <span class="keywordflow">if</span> (destBitmap != null) destBitmap.Dispose();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                            <span class="keywordflow">if</span> (copyAttibutes != null) copyAttibutes.Dispose();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                            <span class="keywordflow">if</span> (preRenderBitmap != null) preRenderBitmap.Dispose();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a14723e4f7de63667e37fcbdb6a00055b"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a14723e4f7de63667e37fcbdb6a00055b">ImageResizer.Resizing.ImageState.destGraphics</a></div><div class="ttdeci">Graphics destGraphics</div><div class="ttdoc">A graphics object to write to the destination bitmap. If null, skip drawing commands, but continue layout logic. </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00182">ImageState.cs:182</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a8cba68835deaa450ce6317f4e55ff51e"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8cba68835deaa450ce6317f4e55ff51e">ImageResizer.Resizing.ImageState.ApplyCropping</a></div><div class="ttdeci">void ApplyCropping()</div><div class="ttdoc">Applies copyRect (if it will have any effect), placing the result in preRenderBitmap, and resetting copyRect </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00099">ImageState.cs:99</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a7229be6e840514ac987e571bfa7a9179"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a7229be6e840514ac987e571bfa7a9179">ImageResizer.Resizing.ImageState.settings</a></div><div class="ttdeci">ResizeSettings settings</div><div class="ttdoc">The commands to apply to the bitmap </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00025">ImageState.cs:25</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a3ecc996b00bfe20e621a43107312233d"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a3ecc996b00bfe20e621a43107312233d">ImageResizer.Resizing.ImageState.destBitmap</a></div><div class="ttdeci">Bitmap destBitmap</div><div class="ttdoc">The destination bitmap. If null, skip drawing commands, but continue layout logic. </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00178">ImageState.cs:178</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a8aa9f1c77100b8bb71c5ffa1bdff62d0"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a8aa9f1c77100b8bb71c5ffa1bdff62d0">ImageResizer.Resizing.ImageState.sourceBitmap</a></div><div class="ttdeci">Bitmap sourceBitmap</div><div class="ttdoc">The source bitmap. If null, skip drawing commands, but continue layout logic. </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00066">ImageState.cs:66</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a892e7d660293242d2dca762781c27642"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a892e7d660293242d2dca762781c27642">ImageResizer.Resizing.ImageState.ConvertIfCMYK</a></div><div class="ttdeci">void ConvertIfCMYK()</div><div class="ttdoc">If &amp;#39;sourceBitmap&amp;#39; is CMYK and preRenderBitmap is null, converts sourceBitmap to RGB and stores in &amp;#39;pr...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00076">ImageState.cs:76</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_af7685bdf458df8b87e3de9f18629c919"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#af7685bdf458df8b87e3de9f18629c919">ImageResizer.Resizing.ImageState.destSize</a></div><div class="ttdeci">Size destSize</div><div class="ttdoc">The size of the target bitmap image. Set after all sizing operations have completed. </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00047">ImageState.cs:47</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a04bc1fbdf10a7f4fcc5ffffdb406f491"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a04bc1fbdf10a7f4fcc5ffffdb406f491">ImageResizer.Resizing.ImageState.Dispose</a></div><div class="ttdeci">void Dispose()</div><div class="ttdoc">Disposes sourceBitmap, destGraphics, destBitmap, and copyAttributes if they are non-null ...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00202">ImageState.cs:202</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_layout_builder_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_layout_builder.html">ImageResizer.Resizing.LayoutBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="_layout_builder_8cs_source.html#l00009">LayoutBuilder.cs:9</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resize_settings_html"><div class="ttname"><a href="class_image_resizer_1_1_resize_settings.html">ImageResizer.ResizeSettings</a></div><div class="ttdoc">Represents the settings which will be used to process the image. Extends NameValueCollection to provi...</div><div class="ttdef"><b>Definition:</b> <a href="_resize_settings_8cs_source.html#l00020">ResizeSettings.cs:20</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageResizer.Resizing.ImageState</a></div><div class="ttdoc">Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00015">ImageState.cs:15</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a0575a388f0e3235d967cb62f4904fe09"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a0575a388f0e3235d967cb62f4904fe09">ImageResizer.Resizing.ImageState.copyAttibutes</a></div><div class="ttdeci">ImageAttributes copyAttibutes</div><div class="ttdoc">Allows color correction/modification during the image copy. </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00186">ImageState.cs:186</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a33007f2251cb600d5a345698e0a53baa"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a33007f2251cb600d5a345698e0a53baa">ImageResizer.Resizing.ImageState.EnsureRGBA</a></div><div class="ttdeci">void EnsureRGBA()</div><div class="ttdoc">Ensures that the working bitmap is in 32bpp RGBA format - otherwise it is converted. </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00118">ImageState.cs:118</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_acd58bc890cee2f8d314ae94c2508d0b5"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#acd58bc890cee2f8d314ae94c2508d0b5">ImageResizer.Resizing.ImageState.preRenderBitmap</a></div><div class="ttdeci">Bitmap preRenderBitmap</div><div class="ttdoc">An optional intermediate bitmap, created by plugins who need to process the source bitmap it gets ren...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00071">ImageState.cs:71</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a72e11433b4c36caccab68577e864202c"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c">ImageResizer.Resizing.ImageState.originalSize</a></div><div class="ttdeci">Size originalSize</div><div class="ttdoc">The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00030">ImageState.cs:30</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_bitmap_tag_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_bitmap_tag.html">ImageResizer.Resizing.BitmapTag</a></div><div class="ttdef"><b>Definition:</b> <a href="_bitmap_tag_8cs_source.html#l00011">BitmapTag.cs:11</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a1033f483393b4ee36f7750c8879e2faa"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a1033f483393b4ee36f7750c8879e2faa">ImageResizer.Resizing.ImageState.EnsurePreRenderBitmap</a></div><div class="ttdeci">void EnsurePreRenderBitmap()</div><div class="ttdoc">Clones &amp;#39;sourceBitmap&amp;#39; into &amp;#39;preRenderBitmap&amp;#39; if null. </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00089">ImageState.cs:89</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_a22528462bb2ca64173878ef4441bad28"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28">ImageResizer.Resizing.ImageState.copyRect</a></div><div class="ttdeci">RectangleF copyRect</div><div class="ttdoc">The rectangular portion of the source image to copy </div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00057">ImageState.cs:57</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_ab7d7513afe8fad1300bf8cb96942f06f"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f">ImageResizer.Resizing.ImageState.finalSize</a></div><div class="ttdeci">Size finalSize</div><div class="ttdoc">The dimensions of the bitmap afer all operations have been applied to it (Calling FlipRotate can chan...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00051">ImageState.cs:51</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
