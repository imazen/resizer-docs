<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ImageResizer: C:/Users/Administrator/Documents/resizer/Plugins/Wpf/WpfBuilderExtensions.cs Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="resizer-icon-64.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.2.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">C:/Users/Administrator/Documents/resizer/Plugins/Wpf/WpfBuilderExtensions.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 ï»¿using System;
<a name="l00002"></a>00002 <span class="keyword">using</span> System.Collections.Generic;
<a name="l00003"></a>00003 <span class="keyword">using</span> System.Linq;
<a name="l00004"></a>00004 <span class="keyword">using</span> System.Text;
<a name="l00005"></a>00005 <span class="keyword">using</span> ImageResizer.Resizing;
<a name="l00006"></a>00006 <span class="keyword">using</span> System.Drawing;
<a name="l00007"></a>00007 <span class="keyword">using</span> ImageResizer.Util;
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="keyword">namespace </span>ImageResizer.Plugins.WpfBuilder
<a name="l00010"></a>00010 {
<a name="l00011"></a><a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_extensions.html">00011</a>     <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class </span><a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_extensions.html">WpfBuilderExtensions</a>
<a name="l00012"></a>00012     {
<a name="l00013"></a>00013         <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html">WpfImageSettings</a> WpfDestinationImageSettings(<span class="keyword">this</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html" title="Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...">ImageState</a> imageState, <a class="code" href="class_image_resizer_1_1_resize_settings.html" title="Represents the settings which will be used to process the image. Extends NameValueCollection to provi...">ResizeSettings</a> settings) 
<a name="l00014"></a>00014         {
<a name="l00015"></a>00015             <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html">WpfImageSettings</a> wpfImageSettings = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html">WpfImageSettings</a>();
<a name="l00016"></a>00016             Rectangle imageDest = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a61b50db80ba6c732565d07ef6163c0a0" title="Rounds a floating-point rectangle to an integer rectangle using System.Round.">ToRectangle</a>(<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a2a0699cc81aa9335505c77939c6ba4bd" title="Returns a bounding box for the specified set of points.">GetBoundingBox</a>(imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>]));
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 
<a name="l00019"></a>00019             <span class="comment">/* test - provo a ricavare i dati di resize che mi servono direttamente dagli oggetti Drawing sottostanti */</span>
<a name="l00020"></a>00020             SizeF imageAreaSizes = <a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html" title="Defines a collection of utility functions for manipulating polygons. These functions may be (re)moved...">PolygonMath</a>.<a class="code" href="class_image_resizer_1_1_util_1_1_polygon_math.html#a02b9e3951484c2e1592c6eb8131d8405" title="Determines the width and height of the paralellogram.">getParallelogramSize</a>(imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>]);
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 
<a name="l00023"></a>00023             wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5" title="The width of the image inside the rect drawned into the DrawingContext.">DestinationImageWidth</a> = imageAreaSizes.Width;
<a name="l00024"></a>00024             wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4" title="The height of the image inside the rect drawned into the DrawingContext.">DestinationImageHeight</a> = imageAreaSizes.Height;
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033             <span class="comment">// Correct the settings.Mode according to the documentation</span>
<a name="l00034"></a>00034             <span class="keywordflow">if</span> (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a> == <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.None &amp;&amp; (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a80001d573cec108c39e5376f6d854993" title="[&quot;width&quot;]: Sets the desired width of the image. (minus padding, borders, margins, effects, and rotation). The only instance the resulting image will be smaller is if the original source image is smaller. Set Scale=Both to upscale these images and ensure the output always matches &#39;width&#39; and &#39;height&#39;. If both width and height are specified, the image will be &#39;letterboxed&#39; to match the desired aspect ratio. Change the Mode property to adjust this behavior.">Width</a> != -1 &amp;&amp; settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a7145aef3affc3244969cad8841359e3f" title="[&quot;height&quot;]: Sets the desired height of the image. (minus padding, borders, margins, effects, and rotation) The only instance the resulting image will be smaller is if the original source image is smaller. Set Scale=Both to upscale these images and ensure the output always matches &#39;width&#39; and &#39;height&#39;. If both width and height are specified, the image will be &#39;letterboxed&#39; to match the desired aspect ratio. Change the Mode property to adjust this behavior.">Height</a> != -1))
<a name="l00035"></a>00035                 settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a> = <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Pad;
<a name="l00036"></a>00036             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a> == <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.None &amp;&amp; (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a80fd5f97f3264009aa2c2648bb1379d7" title="[&quot;maxwidth&quot;]: Sets the maximum desired width of the image. (minus padding, borders, margins, effects, and rotation). The image may be smaller than this value to maintain aspect ratio when both maxwidth and maxheight are specified.">MaxWidth</a> != -1 &amp;&amp; settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a16d3547dfb87d598876fb64e54c0a938" title="[&quot;maxheight&quot;]: Sets the maximum desired height of the image. (minus padding, borders, margins, effects, and rotation). The image may be smaller than this value to maintain aspect ratio when both maxwidth and maxheight are specified.">MaxHeight</a> != -1))
<a name="l00037"></a>00037                 settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a> = <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Max;
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="preprocessor">            #region -- Manage the image dimensions --</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042             <span class="comment">//double widthToApply = (settings.Width == -1 ? (double)settings.MaxWidth : (double)settings.Width);</span>
<a name="l00043"></a>00043             <span class="comment">//double heightToApply = (settings.Height == -1 ? (double)settings.MaxHeight : (double)settings.Height);</span>
<a name="l00044"></a>00044             <span class="comment">//var proportionWidth = (double)imageState.originalSize.Width / widthToApply;</span>
<a name="l00045"></a>00045             <span class="comment">//var proportionHeight = (double)imageState.originalSize.Height / heightToApply;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047             <span class="keywordflow">switch</span> (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a>)
<a name="l00048"></a>00048             {
<a name="l00049"></a>00049                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.None:
<a name="l00050"></a>00050                     <span class="keywordflow">break</span>;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Carve:
<a name="l00053"></a>00053                     <span class="comment">// TODO</span>
<a name="l00054"></a>00054                 <span class="comment">//case FitMode.Pad:</span>
<a name="l00055"></a>00055                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Max:
<a name="l00056"></a>00056                     <span class="comment">//if (proportionWidth &gt; proportionHeight)</span>
<a name="l00057"></a>00057                     <span class="comment">//{</span>
<a name="l00058"></a>00058                     <span class="comment">//    wpfImageSettings.DestinationImageHeight = Convert.ToInt32(imageState.originalSize.Height / proportionWidth);</span>
<a name="l00059"></a>00059                     <span class="comment">//    wpfImageSettings.DestinationImageWidth = Convert.ToInt32(widthToApply);</span>
<a name="l00060"></a>00060                     <span class="comment">//}</span>
<a name="l00061"></a>00061                     <span class="comment">//else </span>
<a name="l00062"></a>00062                     <span class="comment">//{</span>
<a name="l00063"></a>00063                     <span class="comment">//    wpfImageSettings.DestinationImageWidth = Convert.ToInt32(imageState.originalSize.Width / proportionHeight);</span>
<a name="l00064"></a>00064                     <span class="comment">//    wpfImageSettings.DestinationImageHeight = Convert.ToInt32(heightToApply);</span>
<a name="l00065"></a>00065                     <span class="comment">//}</span>
<a name="l00066"></a>00066 
<a name="l00067"></a>00067                     <span class="comment">/*</span>
<a name="l00068"></a>00068 <span class="comment">                     </span>
<a name="l00069"></a>00069 <span class="comment">                     </span>
<a name="l00070"></a>00070 <span class="comment">                     </span>
<a name="l00071"></a>00071 <span class="comment">                     TODO:</span>
<a name="l00072"></a>00072 <span class="comment">                     * </span>
<a name="l00073"></a>00073 <span class="comment">                     * verificare la necessitÃ  di calcolare gli offset per il PAD</span>
<a name="l00074"></a>00074 <span class="comment">                     </span>
<a name="l00075"></a>00075 <span class="comment">                     </span>
<a name="l00076"></a>00076 <span class="comment">                     </span>
<a name="l00077"></a>00077 <span class="comment">                     </span>
<a name="l00078"></a>00078 <span class="comment">                     */</span>
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 
<a name="l00093"></a>00093                     <span class="keywordflow">break</span>;
<a name="l00094"></a>00094 
<a name="l00095"></a>00095                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Crop:
<a name="l00096"></a>00096                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Pad:
<a name="l00097"></a>00097                     <span class="comment">//int scaleWidth, scaleHeight;</span>
<a name="l00098"></a>00098                     <span class="comment">//scaleWidth = scaleHeight = 0;</span>
<a name="l00099"></a>00099 
<a name="l00100"></a>00100                     <span class="comment">//wpfImageSettings.DestinationImageCanvasWidth = scaleWidth = imageDest.Width;</span>
<a name="l00101"></a>00101                     <span class="comment">//wpfImageSettings.DestinationImageCanvasHeight = scaleHeight = imageDest.Height;</span>
<a name="l00102"></a>00102 <span class="comment"></span>
<a name="l00103"></a>00103 <span class="comment">                    //// If only a dimension is missing make it square</span>
<a name="l00104"></a>00104 <span class="comment"></span>                    <span class="comment">//if (wpfImageSettings.DestinationImageCanvasWidth == 0 || wpfImageSettings.DestinationImageCanvasHeight == 0)</span>
<a name="l00105"></a>00105                     <span class="comment">//{</span>
<a name="l00106"></a>00106                     <span class="comment">//    wpfImageSettings.DestinationImageCanvasWidth = wpfImageSettings.DestinationImageCanvasHeight = Math.Max(wpfImageSettings.DestinationImageCanvasWidth, wpfImageSettings.DestinationImageCanvasHeight);</span>
<a name="l00107"></a>00107                     <span class="comment">//}</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109                     <span class="comment">//double originalProportions = (double)imageState.originalSize.Width / (double)imageState.originalSize.Height;</span>
<a name="l00110"></a>00110                     <span class="comment">//double viewportProportions = (double)wpfImageSettings.DestinationImageCanvasWidth / (double)wpfImageSettings.DestinationImageCanvasHeight;</span>
<a name="l00111"></a>00111 <span class="comment"></span>
<a name="l00112"></a>00112 <span class="comment">                    //// Calculates the new scale proportions to make touche-from-inside crop</span>
<a name="l00113"></a>00113 <span class="comment"></span>                    <span class="comment">//if ((originalProportions &gt; 1 &amp;&amp; viewportProportions &lt;= 1) || (originalProportions &lt; 1 &amp;&amp; viewportProportions &gt; 1))</span>
<a name="l00114"></a>00114                     <span class="comment">//{</span>
<a name="l00115"></a>00115                     <span class="comment">//    scaleHeight = Math.Max(wpfImageSettings.DestinationImageCanvasHeight, wpfImageSettings.DestinationImageCanvasWidth);</span>
<a name="l00116"></a>00116                     <span class="comment">//    scaleWidth = Convert.ToInt32(((float)(scaleHeight) / (float)(imageState.originalSize.Height)) * imageState.originalSize.Width);</span>
<a name="l00117"></a>00117                     <span class="comment">//}</span>
<a name="l00118"></a>00118                     <span class="comment">//else</span>
<a name="l00119"></a>00119                     <span class="comment">//{</span>
<a name="l00120"></a>00120                     <span class="comment">//    scaleWidth = Math.Max(wpfImageSettings.DestinationImageCanvasHeight, wpfImageSettings.DestinationImageCanvasWidth);</span>
<a name="l00121"></a>00121                     <span class="comment">//    scaleHeight = Convert.ToInt32(((float)(scaleWidth) / (float)(imageState.originalSize.Width)) * imageState.originalSize.Height);</span>
<a name="l00122"></a>00122                     <span class="comment">//}</span>
<a name="l00123"></a>00123 
<a name="l00124"></a>00124                     <span class="comment">//wpfImageSettings.DestinationImageWidth = scaleWidth;</span>
<a name="l00125"></a>00125                     <span class="comment">//wpfImageSettings.DestinationImageHeight = scaleHeight;</span>
<a name="l00126"></a>00126 
<a name="l00127"></a>00127                     <span class="comment">//if ((imageState.copyRect.Y == 0) &amp;&amp; (imageState.copyRect.X != 0))</span>
<a name="l00128"></a>00128                     <span class="keywordflow">if</span> ((imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Width / imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Height) &gt;= (imageDest.Width / imageDest.Height))
<a name="l00129"></a>00129                     {
<a name="l00130"></a>00130                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5" title="The width of the image inside the rect drawned into the DrawingContext.">DestinationImageWidth</a> = (imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Width * imageDest.Height) / imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a>.Height;
<a name="l00131"></a>00131 
<a name="l00132"></a>00132                         if (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a> == <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Pad)
<a name="l00133"></a>00133                             wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4" title="The height of the image inside the rect drawned into the DrawingContext.">DestinationImageHeight</a> = imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Height;
<a name="l00134"></a>00134                         <span class="keywordflow">else</span>
<a name="l00135"></a>00135                             wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4" title="The height of the image inside the rect drawned into the DrawingContext.">DestinationImageHeight</a> = imageDest.Height;
<a name="l00136"></a>00136 
<a name="l00137"></a>00137                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ab0cc2e70ce481c2305d02f3b7496d28b" title="The x offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetX</a> = -(wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5" title="The width of the image inside the rect drawned into the DrawingContext.">DestinationImageWidth</a> * imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a>.X) / imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Width;
<a name="l00138"></a>00138                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a694c72469bb77a19a29abec3af5697f6" title="The y offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetY</a> = 0;
<a name="l00139"></a>00139                     }
<a name="l00140"></a>00140                     <span class="keywordflow">else</span> <span class="comment">// if ((imageState.copyRect.X == 0) &amp;&amp; (imageState.copyRect.Y != 0))</span>
<a name="l00141"></a>00141                     {
<a name="l00142"></a>00142                         <span class="keywordflow">if</span> (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a> == <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Pad)
<a name="l00143"></a>00143                             wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5" title="The width of the image inside the rect drawned into the DrawingContext.">DestinationImageWidth</a> = imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Width;
<a name="l00144"></a>00144                         <span class="keywordflow">else</span>
<a name="l00145"></a>00145                             wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5" title="The width of the image inside the rect drawned into the DrawingContext.">DestinationImageWidth</a> = imageDest.Width;
<a name="l00146"></a>00146 
<a name="l00147"></a>00147                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4" title="The height of the image inside the rect drawned into the DrawingContext.">DestinationImageHeight</a> = (imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Height * imageDest.Width) / imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a>.Width;
<a name="l00148"></a>00148                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ab0cc2e70ce481c2305d02f3b7496d28b" title="The x offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetX</a> = 0;
<a name="l00149"></a>00149                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a694c72469bb77a19a29abec3af5697f6" title="The y offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetY</a> = -(wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4" title="The height of the image inside the rect drawned into the DrawingContext.">DestinationImageHeight</a> * imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a22528462bb2ca64173878ef4441bad28" title="The rectangular portion of the source image to copy.">copyRect</a>.Y) / imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Height;
<a name="l00150"></a>00150                     }
<a name="l00151"></a>00151                     <span class="comment">/*else </span>
<a name="l00152"></a>00152 <span class="comment">                    {</span>
<a name="l00153"></a>00153 <span class="comment">                        </span>
<a name="l00154"></a>00154 <span class="comment">                    }*/</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156                     <span class="keywordflow">break</span>;
<a name="l00157"></a>00157 
<a name="l00158"></a>00158                 <span class="comment">//case FitMode.Pad:</span>
<a name="l00159"></a>00159                 <span class="comment">//    wpfImageSettings.DestinationImageHeight = Convert.ToInt32(imageState.layout[&quot;image&quot;][3].Y - imageState.layout[&quot;image&quot;][0].Y);</span>
<a name="l00160"></a>00160                 <span class="comment">//    wpfImageSettings.DestinationImageWidth = Convert.ToInt32(imageState.layout[&quot;image&quot;][1].X - imageState.layout[&quot;image&quot;][3].X);</span>
<a name="l00161"></a>00161                 <span class="comment">//    break;</span>
<a name="l00162"></a>00162 
<a name="l00163"></a>00163                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Stretch:
<a name="l00164"></a>00164                     <span class="comment">//wpfImageSettings.DestinationImageWidth = Convert.ToInt32(widthToApply);</span>
<a name="l00165"></a>00165                     <span class="comment">//wpfImageSettings.DestinationImageHeight = Convert.ToInt32(heightToApply);</span>
<a name="l00166"></a>00166                     <span class="keywordflow">break</span>;
<a name="l00167"></a>00167                 
<a name="l00168"></a>00168                 <span class="keywordflow">default</span>:
<a name="l00169"></a>00169                     wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5" title="The width of the image inside the rect drawned into the DrawingContext.">DestinationImageWidth</a> = imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Width;
<a name="l00170"></a>00170                     wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4" title="The height of the image inside the rect drawned into the DrawingContext.">DestinationImageHeight</a> = imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>.Height;
<a name="l00171"></a>00171                     <span class="keywordflow">break</span>;
<a name="l00172"></a>00172             }
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="preprocessor">            #endregion</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span>
<a name="l00176"></a>00176 <span class="preprocessor">            #region -- Manage the allignments --</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span>
<a name="l00178"></a>00178             <span class="keywordflow">switch</span> (settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#ae85b8620285cccbd4f5dcd86f862b0db" title="[&quot;mode&quot;]: Sets the fit mode for the image. max, min, pad, crop, carve, stretch">Mode</a>)
<a name="l00179"></a>00179             {
<a name="l00180"></a>00180                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.None:
<a name="l00181"></a>00181                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Crop:
<a name="l00182"></a>00182                 <span class="keywordflow">case</span> <a class="code" href="namespace_image_resizer.html#affd730f8b2250fecace497124be5a37d" title="How to resolve aspect ratio differences between the requested size and the original image&#39;s size...">FitMode</a>.Pad:
<a name="l00183"></a>00183                     RectangleF croppedSize = settings.getCustomCropSourceRect(imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a72e11433b4c36caccab68577e864202c" title="The original size of the source bitmap. Use this instead of accessing the bitmap directly for this in...">originalSize</a>);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185                     <span class="keywordflow">if</span> ((croppedSize.X != 0) || (croppedSize.Y != 0))
<a name="l00186"></a>00186                     {
<a name="l00187"></a>00187                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ab0cc2e70ce481c2305d02f3b7496d28b" title="The x offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetX</a> = -Convert.ToInt32(croppedSize.X);
<a name="l00188"></a>00188                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a694c72469bb77a19a29abec3af5697f6" title="The y offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetY</a> = -Convert.ToInt32(croppedSize.Y);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a5a109a873cdaf1c2d656fe4575664499" title="The final visible image width.">DestinationImageCanvasWidth</a> = croppedSize.Right - croppedSize.Left;
<a name="l00191"></a>00191                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aceeeb522545133fb893b54021ab6795c" title="The final visible image height.">DestinationImageCanvasHeight</a> = croppedSize.Bottom - croppedSize.Top;
<a name="l00192"></a>00192                     }
<a name="l00193"></a>00193                     <span class="keywordflow">else</span> 
<a name="l00194"></a>00194                     {
<a name="l00195"></a>00195                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ab0cc2e70ce481c2305d02f3b7496d28b" title="The x offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetX</a> = imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>][0].X;
<a name="l00196"></a>00196                         wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a694c72469bb77a19a29abec3af5697f6" title="The y offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetY</a> = imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#a845b5dc0d563cd83e8591ceccdbfe31e" title="The layout object. Used for calculated and flowing the layout of the various rings around the image (...">layout</a>[<span class="stringliteral">&quot;image&quot;</span>][0].Y;
<a name="l00197"></a>00197                     }
<a name="l00198"></a>00198                     
<a name="l00199"></a>00199 
<a name="l00200"></a>00200                         
<a name="l00201"></a>00201                     
<a name="l00202"></a>00202 
<a name="l00203"></a>00203                     <span class="comment">//wpfImageSettings.DestinationImageCanvasWidth = imageDest.Width;</span>
<a name="l00204"></a>00204                     <span class="comment">//wpfImageSettings.DestinationImageCanvasHeight = imageDest.Height;</span>
<a name="l00205"></a>00205 <span class="comment"></span>
<a name="l00206"></a>00206 <span class="comment">                    //// In crop or pad I&#39;ve to calculate the Offsets</span>
<a name="l00207"></a>00207 <span class="comment"></span>                    <span class="comment">//switch (settings.Anchor)</span>
<a name="l00208"></a>00208                     <span class="comment">//{</span>
<a name="l00209"></a>00209                     <span class="comment">//    case ContentAlignment.BottomCenter:</span>
<a name="l00210"></a>00210                     <span class="comment">//        wpfImageSettings.OffsetX = (int)Math.Floor((double)(imageState.finalSize.Width - wpfImageSettings.DestinationImageWidth) / 2);</span>
<a name="l00211"></a>00211                     <span class="comment">//        wpfImageSettings.OffsetY = imageState.finalSize.Height - wpfImageSettings.DestinationImageHeight;</span>
<a name="l00212"></a>00212                     <span class="comment">//        break;</span>
<a name="l00213"></a>00213                     <span class="comment">//    case ContentAlignment.BottomLeft:</span>
<a name="l00214"></a>00214                     <span class="comment">//        wpfImageSettings.OffsetX = 0;</span>
<a name="l00215"></a>00215                     <span class="comment">//        wpfImageSettings.OffsetY = imageState.finalSize.Height - wpfImageSettings.DestinationImageHeight;</span>
<a name="l00216"></a>00216                     <span class="comment">//        break;</span>
<a name="l00217"></a>00217                     <span class="comment">//    case ContentAlignment.BottomRight:</span>
<a name="l00218"></a>00218                     <span class="comment">//        wpfImageSettings.OffsetX = imageState.finalSize.Width - wpfImageSettings.DestinationImageWidth;</span>
<a name="l00219"></a>00219                     <span class="comment">//        wpfImageSettings.OffsetY = imageState.finalSize.Height - wpfImageSettings.DestinationImageHeight;</span>
<a name="l00220"></a>00220                     <span class="comment">//        break;</span>
<a name="l00221"></a>00221                     <span class="comment">//    case ContentAlignment.MiddleCenter:</span>
<a name="l00222"></a>00222                     <span class="comment">//        wpfImageSettings.OffsetX = (int)Math.Floor((double)(imageState.finalSize.Width - wpfImageSettings.DestinationImageWidth) / 2);</span>
<a name="l00223"></a>00223                     <span class="comment">//        wpfImageSettings.OffsetY = (int)Math.Floor((double)(imageState.finalSize.Height - wpfImageSettings.DestinationImageHeight) / 2);</span>
<a name="l00224"></a>00224                     <span class="comment">//        break;</span>
<a name="l00225"></a>00225                     <span class="comment">//    case ContentAlignment.MiddleLeft:</span>
<a name="l00226"></a>00226                     <span class="comment">//        wpfImageSettings.OffsetX = 0;</span>
<a name="l00227"></a>00227                     <span class="comment">//        wpfImageSettings.OffsetY = (int)Math.Floor((double)(imageState.finalSize.Height - wpfImageSettings.DestinationImageHeight) / 2);</span>
<a name="l00228"></a>00228                     <span class="comment">//        break;</span>
<a name="l00229"></a>00229                     <span class="comment">//    case ContentAlignment.MiddleRight:</span>
<a name="l00230"></a>00230                     <span class="comment">//        wpfImageSettings.OffsetX = imageState.finalSize.Width - wpfImageSettings.DestinationImageWidth;</span>
<a name="l00231"></a>00231                     <span class="comment">//        wpfImageSettings.OffsetY = (int)Math.Floor((double)(imageState.finalSize.Height - wpfImageSettings.DestinationImageHeight) / 2);</span>
<a name="l00232"></a>00232                     <span class="comment">//        break;</span>
<a name="l00233"></a>00233                     <span class="comment">//    case ContentAlignment.TopCenter:</span>
<a name="l00234"></a>00234                     <span class="comment">//        wpfImageSettings.OffsetX = (int)Math.Floor((double)(imageState.finalSize.Width - wpfImageSettings.DestinationImageWidth) / 2);</span>
<a name="l00235"></a>00235                     <span class="comment">//        wpfImageSettings.OffsetY = 0;</span>
<a name="l00236"></a>00236                     <span class="comment">//        break;</span>
<a name="l00237"></a>00237                     <span class="comment">//    case ContentAlignment.TopLeft:</span>
<a name="l00238"></a>00238                     <span class="comment">//        wpfImageSettings.OffsetX = 0;</span>
<a name="l00239"></a>00239                     <span class="comment">//        wpfImageSettings.OffsetY = 0;</span>
<a name="l00240"></a>00240                     <span class="comment">//        break;</span>
<a name="l00241"></a>00241                     <span class="comment">//    case ContentAlignment.TopRight:</span>
<a name="l00242"></a>00242                     <span class="comment">//        wpfImageSettings.OffsetX = imageState.finalSize.Width - wpfImageSettings.DestinationImageWidth;</span>
<a name="l00243"></a>00243                     <span class="comment">//        wpfImageSettings.OffsetY = 0;</span>
<a name="l00244"></a>00244                     <span class="comment">//        break;</span>
<a name="l00245"></a>00245                     <span class="comment">//    default:</span>
<a name="l00246"></a>00246                     <span class="comment">//        break;</span>
<a name="l00247"></a>00247                     <span class="comment">//}</span>
<a name="l00248"></a>00248                     <span class="keywordflow">break</span>;
<a name="l00249"></a>00249 
<a name="l00250"></a>00250                 <span class="comment">//case FitMode.Crop:</span>
<a name="l00251"></a>00251 
<a name="l00252"></a>00252                 <span class="comment">//    break;</span>
<a name="l00253"></a>00253                 <span class="keywordflow">default</span>:
<a name="l00254"></a>00254                     <span class="comment">/*</span>
<a name="l00255"></a>00255 <span class="comment">                     </span>
<a name="l00256"></a>00256 <span class="comment">                     </span>
<a name="l00257"></a>00257 <span class="comment">                     TODO: risistemare!!!</span>
<a name="l00258"></a>00258 <span class="comment">                     </span>
<a name="l00259"></a>00259 <span class="comment">                     </span>
<a name="l00260"></a>00260 <span class="comment">                     */</span>
<a name="l00261"></a>00261 
<a name="l00262"></a>00262                     <span class="comment">// Supposing I&#39;m on manual cropping, I&#39;ll use the underlying calculations</span>
<a name="l00263"></a>00263                     <span class="comment">//wpfImageSettings.DestinationImageWidth = imageState.originalSize.Width;</span>
<a name="l00264"></a>00264                     <span class="comment">//wpfImageSettings.DestinationImageHeight = imageState.originalSize.Height;</span>
<a name="l00265"></a>00265 
<a name="l00266"></a>00266                     <span class="comment">//RectangleF croppedSize = settings.getCustomCropSourceRect(imageState.originalSize);</span>
<a name="l00267"></a>00267 
<a name="l00268"></a>00268                     <span class="comment">//wpfImageSettings.OffsetX = -Convert.ToInt32(croppedSize.X);</span>
<a name="l00269"></a>00269                     <span class="comment">//wpfImageSettings.OffsetY = -Convert.ToInt32(croppedSize.Y);</span>
<a name="l00270"></a>00270 
<a name="l00271"></a>00271                     <span class="comment">//wpfImageSettings.DestinationImageCanvasWidth = croppedSize.Right - croppedSize.Left;</span>
<a name="l00272"></a>00272                     <span class="comment">//wpfImageSettings.DestinationImageCanvasHeight = croppedSize.Bottom - croppedSize.Top;</span>
<a name="l00273"></a>00273                     <span class="keywordflow">break</span>;
<a name="l00274"></a>00274             }
<a name="l00275"></a>00275 
<a name="l00276"></a>00276 <span class="preprocessor">            #endregion</span>
<a name="l00277"></a>00277 <span class="preprocessor"></span>
<a name="l00278"></a>00278             <span class="keywordflow">if</span> ((settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#af0a73e8db4a3e4e40f0564d0dca29833" title="[&quot;rotate&quot;] The degress to rotate the image clockwise. -360 to 360.">Rotate</a> % 360) != 0)
<a name="l00279"></a>00279             {
<a name="l00280"></a>00280                 wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ab0cc2e70ce481c2305d02f3b7496d28b" title="The x offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetX</a> = (imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f" title="The dimensions of the bitmap afer all operations have been applied to it (Calling FlipRotate can chan...">finalSize</a>.Width - wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5" title="The width of the image inside the rect drawned into the DrawingContext.">DestinationImageWidth</a>) / 2;
<a name="l00281"></a>00281                 wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a694c72469bb77a19a29abec3af5697f6" title="The y offset (positive or negative) used to draw the image rect inside the DrawingContext.">OffsetY</a> = (imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f" title="The dimensions of the bitmap afer all operations have been applied to it (Calling FlipRotate can chan...">finalSize</a>.Height - wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4" title="The height of the image inside the rect drawned into the DrawingContext.">DestinationImageHeight</a>) / 2;
<a name="l00282"></a>00282             }
<a name="l00283"></a>00283 
<a name="l00284"></a>00284             <span class="keywordflow">return</span> wpfImageSettings;
<a name="l00285"></a>00285         }
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     }
<a name="l00288"></a>00288 }
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
