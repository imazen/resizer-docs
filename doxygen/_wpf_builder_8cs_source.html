<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ImageResizer: C:/Users/nathanael/Documents/resizer/Plugins/Wpf/WpfBuilder.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="imageresizer-logo-00aec4.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b4eaef40a1fe20bedafe9e8e719ce66.html">Plugins</a></li><li class="navelem"><a class="el" href="dir_12f3188d801996cbd80ec9e0ce3c3432.html">Wpf</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">WpfBuilder.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> System;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> System.Text;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> ImageResizer.Resizing;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> ImageResizer.Encoding;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> ImageResizer.Configuration.Issues;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> ImageResizer.Util;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> ImageResizer.Plugins.Basic;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> System.IO;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> ImageResizer.Configuration;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> System.Web.Hosting;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> System.Runtime.InteropServices;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> System.Runtime.InteropServices.ComTypes;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> System.Windows.Media.Imaging;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> System.Windows.Media;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using</span> System.Drawing;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using</span> System.Windows;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using</span> ImageResizer.ExtensionMethods;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="namespace_image_resizer_1_1_plugins_1_1_wpf_builder.html">   20</a></span>&#160;<span class="keyword">namespace </span>ImageResizer.Plugins.WpfBuilder</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html">   22</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html">WpfImageSettings</a> </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    {<span class="comment"></span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">        /// The x offset (positive or negative) used to draw the image rect inside the DrawingContext</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ab0cc2e70ce481c2305d02f3b7496d28b">   27</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">float</span> OffsetX { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">        /// The y offset (positive or negative) used to draw the image rect inside the DrawingContext</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a694c72469bb77a19a29abec3af5697f6">   32</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">float</span> OffsetY { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">        /// The final visible image width</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a5a109a873cdaf1c2d656fe4575664499">   37</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">float</span> DestinationImageCanvasWidth { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">        /// The final visible image height</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aceeeb522545133fb893b54021ab6795c">   42</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">float</span> DestinationImageCanvasHeight { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">        /// The width of the image inside the rect drawned into the DrawingContext</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5">   47</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">float</span> DestinationImageWidth { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">        /// &lt;summary&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">        /// The height of the image inside the rect drawned into the DrawingContext</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">        /// &lt;/summary&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4">   52</a></span>&#160;<span class="comment"></span>        <span class="keyword">public</span> <span class="keywordtype">float</span> DestinationImageHeight { <span class="keyword">get</span>; set; }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keyword">public</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html">WpfImageSettings</a>() { }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html">   57</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html">WpfBuilderPlugin</a> : <a class="code" href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">BuilderExtension</a>, <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a>, <a class="code" href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider.html">IIssueProvider</a>, <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_file_extension_plugin.html">IFileExtensionPlugin</a></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a> c;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keyword">public</span> <a class="code" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a> Install(Configuration.Config c)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            c.Plugins.add_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            this.c = c;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keyword">public</span> <span class="keywordtype">bool</span> Uninstall(Configuration.Config c)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            c.Plugins.remove_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> calculateImageSize(<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> imageState, out <span class="keywordtype">int</span> destWidth, out <span class="keywordtype">int</span> destHeight) </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            destWidth = 0;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            destHeight = 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            destHeight = Convert.ToInt32(imageState.layout[<span class="stringliteral">&quot;image&quot;</span>][3].Y - imageState.layout[<span class="stringliteral">&quot;image&quot;</span>][0].Y);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            destWidth = Convert.ToInt32(imageState.layout[<span class="stringliteral">&quot;image&quot;</span>][1].X - imageState.layout[<span class="stringliteral">&quot;image&quot;</span>][3].X);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> BuildJob(<a class="code" href="class_image_resizer_1_1_image_job.html">ImageJob</a> job)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">if</span> (!<span class="stringliteral">&quot;wpf&quot;</span>.Equals(job.<a class="code" href="class_image_resizer_1_1_image_job.html#ab835a4dde8a2962bbe48182641316cee">Settings</a>[<span class="stringliteral">&quot;builder&quot;</span>])) <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="comment">// Estrazione delle ResizeSettings</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <a class="code" href="class_image_resizer_1_1_resize_settings.html">ResizeSettings</a> settings = job.Settings;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            Stream s = null;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordtype">bool</span> disposeStream = !(job.Source is Stream);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="keywordtype">long</span> originalPosition = 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="keywordtype">bool</span> restoreStreamPosition = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordtype">string</span> path;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            s = c.CurrentImageBuilder.GetStreamFromSource(job.Source, job.Settings, ref disposeStream, out path, out restoreStreamPosition);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">if</span> (s == null) <span class="keywordflow">return</span> RequestedAction.None; <span class="comment">//We don&#39;t support the source object!</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">if</span> (job.<a class="code" href="class_image_resizer_1_1_image_job.html#aa6cb13a20ee55698d62de78f6d749d07">ResetSourceStream</a>) restoreStreamPosition = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            job.SourcePathData = path;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="comment">// Instanzio uno stream locale per le operazioni WPF</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keyword">using</span> (MemoryStream localStream = (s is MemoryStream) ? (MemoryStream)s : StreamExtensions.CopyToMemoryStream(s)) </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keywordflow">if</span> (s != null &amp;&amp; restoreStreamPosition &amp;&amp; s.CanSeek) </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    s.Seek(originalPosition, SeekOrigin.Begin);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">if</span> (disposeStream) </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    s.Dispose();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="comment">/* ? ? ? */</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <a class="code" href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html">IEncoder</a> managedEncoder = c.Plugins.GetEncoder(job.Settings, job.SourcePathData);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordtype">bool</span> supportsTransparency = managedEncoder.SupportsTransparency;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="comment">// Recupero le dimensioni originali</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                var frame = BitmapFrame.Create(StreamExtensions.CopyToMemoryStream(localStream));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                System.Windows.Size originalSize = <span class="keyword">new</span> System.Windows.Size(frame.PixelWidth, frame.PixelHeight);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <span class="comment">// Resetto lo stream locale alla posizione iniziale, dopo aver letto i metadata</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                localStream.Position = 0;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="comment">// Uhm... sono costretto a referenziare le System.Drawing (GDI) per questo,</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <span class="comment">// TODO: chiedere al tipo se si pu√≤ prevedere un costruttore di ImageState che non preveda un System.Drawing.Size come parametro</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                System.Drawing.Size orig = <span class="keyword">new</span> System.Drawing.Size((int)originalSize.Width, (<span class="keywordtype">int</span>)originalSize.Height);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keyword">using</span> (<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> imageState = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a>(settings, orig, <span class="keyword">true</span>))</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                    c.CurrentImageBuilder.Process(imageState);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    Rectangle imageDest = PolygonMath.ToRectangle(PolygonMath.GetBoundingBox(imageState.layout[<span class="stringliteral">&quot;image&quot;</span>]));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    BitmapSource finalImage;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    BitmapImage bi = <span class="keyword">new</span> BitmapImage();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    bi.CacheOption = BitmapCacheOption.OnLoad;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    bi.BeginInit();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    bi.StreamSource = localStream;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html">WpfImageSettings</a> wpfImageSettings = imageState.WpfDestinationImageSettings(settings);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                    bi.DecodePixelWidth = Convert.ToInt32(wpfImageSettings.DestinationImageWidth);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                    bi.DecodePixelHeight = Convert.ToInt32(wpfImageSettings.DestinationImageHeight);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    bi.EndInit();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    <span class="comment">// Creation of the encoder</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_encoder_plugin.html">WpfEncoderPlugin</a> wpfEncoder = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_encoder_plugin.html">WpfEncoderPlugin</a>(settings, job.<a class="code" href="class_image_resizer_1_1_image_job.html#abcb3343acc3389bbefeae232b2a26773">SourcePathData</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    RenderTargetBitmap <span class="keyword">final</span> = <span class="keyword">new</span> RenderTargetBitmap(imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f">finalSize</a>.Width, imageState.<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f">finalSize</a>.Height, settings.Get&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;dpi&quot;</span>, 96), settings.Get&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;dpi&quot;</span>, 96), PixelFormats.Default);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    DrawingVisual dv = <span class="keyword">new</span> DrawingVisual();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    <span class="keyword">using</span> (DrawingContext dc = dv.RenderOpen())</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        <span class="keywordtype">string</span> ARGBBackgroundColor = String.Format(<span class="stringliteral">&quot;#{0:X2}{1:X2}{2:X2}{3:X2}&quot;</span>, wpfEncoder.MimeType.Equals(<span class="stringliteral">&quot;image/jpeg&quot;</span>) ? 255 : settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2">BackgroundColor</a>.A, </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                                                                                                settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2">BackgroundColor</a>.R, </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                                                                                settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2">BackgroundColor</a>.G, </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                                                                                settings.<a class="code" href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2">BackgroundColor</a>.B);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        System.Windows.Media.Brush BrushBackgroundColor = <span class="keyword">new</span> System.Windows.Media.SolidColorBrush((System.Windows.Media.Color)System.Windows.Media.ColorConverter.ConvertFromString(ARGBBackgroundColor));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        <span class="comment">/* todo: verificare */</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        dc.DrawRectangle(BrushBackgroundColor, null, <span class="keyword">new</span> Rect(0, 0, wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5">DestinationImageWidth</a>, wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4">DestinationImageHeight</a>));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                        Rect rect = <span class="keyword">new</span> Rect(wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ab0cc2e70ce481c2305d02f3b7496d28b">OffsetX</a>, wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a694c72469bb77a19a29abec3af5697f6">OffsetY</a>, wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5">DestinationImageWidth</a>, wpfImageSettings.<a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4">DestinationImageHeight</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                        <span class="comment">//dc.PushTransform(new RotateTransform(settings.Rotate, (double)imageState.finalSize.Width / 2, (double)imageState.finalSize.Height / 2));</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        dc.DrawImage(bi, rect);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    final.Render(dv);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    finalImage = <span class="keyword">final</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <span class="comment">// Write the image to the output stream</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    wpfEncoder.Write(finalImage, (Stream)job.<a class="code" href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">Dest</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html#a6373caeba27688f0523abdef2dbc6405">  184</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <a class="code" href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">RequestedAction</a> <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html#a6373caeba27688f0523abdef2dbc6405">LayoutImage</a>(<a class="code" href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageState</a> s) </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            base.LayoutImage(s);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">return</span> RequestedAction.None;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keyword">public</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html">WpfBuilderPlugin</a>() { }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">        #region IIssueProvider Members</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keyword">public</span> IEnumerable&lt;IIssue&gt; GetIssues()</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> NotImplementedException();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">        #endregion</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">        #region IFileExtensionPlugin Members</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html#a74487d8ce9ca4e7a79349b2b505add05">  206</a></span>&#160;        <span class="keyword">public</span> IEnumerable&lt;string&gt; <a class="code" href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html#a74487d8ce9ca4e7a79349b2b505add05">GetSupportedFileExtensions</a>()</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keywordtype">string</span>[] { };</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">        #endregion</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="ttc" id="namespace_image_resizer_1_1_resizing_html_a22bbb53580a122efe469a26ad584fa86"><div class="ttname"><a href="namespace_image_resizer_1_1_resizing.html#a22bbb53580a122efe469a26ad584fa86">ImageResizer.Resizing.RequestedAction</a></div><div class="ttdeci">RequestedAction</div><div class="ttdoc">What to do about remaining handlers/methods for the specified section </div><div class="ttdef"><b>Definition:</b> <a href="_abstract_image_processor_8cs_source.html#l00013">AbstractImageProcessor.cs:13</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_ab835a4dde8a2962bbe48182641316cee"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#ab835a4dde8a2962bbe48182641316cee">ImageResizer.ImageJob.Settings</a></div><div class="ttdeci">ResizeSettings Settings</div><div class="ttdoc">The image processing settings </div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00136">ImageJob.cs:136</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_abcb3343acc3389bbefeae232b2a26773"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#abcb3343acc3389bbefeae232b2a26773">ImageResizer.ImageJob.SourcePathData</a></div><div class="ttdeci">string SourcePathData</div><div class="ttdoc">If &amp;#39;source&amp;#39; contains any path-related data, it is copied into this member for use by format detetctio...</div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00189">ImageJob.cs:189</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_configuration_1_1_config_html"><div class="ttname"><a href="class_image_resizer_1_1_configuration_1_1_config.html">ImageResizer.Configuration.Config</a></div><div class="ttdef"><b>Definition:</b> <a href="_config_8cs_source.html#l00022">Config.cs:22</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_encoder_plugin_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_encoder_plugin.html">ImageResizer.Plugins.WpfBuilder.WpfEncoderPlugin</a></div><div class="ttdef"><b>Definition:</b> <a href="_wpf_encoder_plugin_8cs_source.html#l00012">WpfEncoderPlugin.cs:12</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider_html"><div class="ttname"><a href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider.html">ImageResizer.Configuration.Issues.IIssueProvider</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_issue_provider_8cs_source.html#l00007">IIssueProvider.cs:7</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resize_settings_html_a40623c01b19422d9dc93b8809ef3dbc2"><div class="ttname"><a href="class_image_resizer_1_1_resize_settings.html#a40623c01b19422d9dc93b8809ef3dbc2">ImageResizer.ResizeSettings.BackgroundColor</a></div><div class="ttdeci">Color BackgroundColor</div><div class="ttdoc">[&amp;quot;bgcolor&amp;quot;]: Named and hex values are supported. (rgb and rgba, both 3, 6, and 8 digits). </div><div class="ttdef"><b>Definition:</b> <a href="_resize_settings_8cs_source.html#l00278">ResizeSettings.cs:278</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings_html_ad43328ef7f6204f6a98d46a865b7bed4"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ad43328ef7f6204f6a98d46a865b7bed4">ImageResizer.Plugins.WpfBuilder.WpfImageSettings.DestinationImageHeight</a></div><div class="ttdeci">float DestinationImageHeight</div><div class="ttdoc">The height of the image inside the rect drawned into the DrawingContext </div><div class="ttdef"><b>Definition:</b> <a href="_wpf_builder_8cs_source.html#l00052">WpfBuilder.cs:52</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html">ImageResizer.Plugins.WpfBuilder.WpfBuilderPlugin</a></div><div class="ttdef"><b>Definition:</b> <a href="_wpf_builder_8cs_source.html#l00057">WpfBuilder.cs:57</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings_html_a694c72469bb77a19a29abec3af5697f6"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#a694c72469bb77a19a29abec3af5697f6">ImageResizer.Plugins.WpfBuilder.WpfImageSettings.OffsetY</a></div><div class="ttdeci">float OffsetY</div><div class="ttdoc">The y offset (positive or negative) used to draw the image rect inside the DrawingContext ...</div><div class="ttdef"><b>Definition:</b> <a href="_wpf_builder_8cs_source.html#l00032">WpfBuilder.cs:32</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin_html_a74487d8ce9ca4e7a79349b2b505add05"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html#a74487d8ce9ca4e7a79349b2b505add05">ImageResizer.Plugins.WpfBuilder.WpfBuilderPlugin.GetSupportedFileExtensions</a></div><div class="ttdeci">IEnumerable&lt; string &gt; GetSupportedFileExtensions()</div><div class="ttdoc">If the plugin adds support for new file extensions (such as &amp;quot;psd&amp;quot;), they should be returned by this m...</div><div class="ttdef"><b>Definition:</b> <a href="_wpf_builder_8cs_source.html#l00206">WpfBuilder.cs:206</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_plugins_1_1_i_file_extension_plugin_html"><div class="ttname"><a href="interface_image_resizer_1_1_plugins_1_1_i_file_extension_plugin.html">ImageResizer.Plugins.IFileExtensionPlugin</a></div><div class="ttdoc">For plugins that add support for new source file image extensions. </div><div class="ttdef"><b>Definition:</b> <a href="_i_file_extension_plugin_8cs_source.html#l00010">IFileExtensionPlugin.cs:10</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html">ImageResizer.ImageJob</a></div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00010">ImageJob.cs:10</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resize_settings_html"><div class="ttname"><a href="class_image_resizer_1_1_resize_settings.html">ImageResizer.ResizeSettings</a></div><div class="ttdoc">Represents the settings which will be used to process the image. Extends NameValueCollection to provi...</div><div class="ttdef"><b>Definition:</b> <a href="_resize_settings_8cs_source.html#l00020">ResizeSettings.cs:20</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings_html_ab0cc2e70ce481c2305d02f3b7496d28b"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#ab0cc2e70ce481c2305d02f3b7496d28b">ImageResizer.Plugins.WpfBuilder.WpfImageSettings.OffsetX</a></div><div class="ttdeci">float OffsetX</div><div class="ttdoc">The x offset (positive or negative) used to draw the image rect inside the DrawingContext ...</div><div class="ttdef"><b>Definition:</b> <a href="_wpf_builder_8cs_source.html#l00027">WpfBuilder.cs:27</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html">ImageResizer.Resizing.ImageState</a></div><div class="ttdoc">Encapsulates the state of an image being resized. Can be used to simulate a resize as well as actuall...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00015">ImageState.cs:15</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html">ImageResizer.Plugins.WpfBuilder.WpfImageSettings</a></div><div class="ttdef"><b>Definition:</b> <a href="_wpf_builder_8cs_source.html#l00022">WpfBuilder.cs:22</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin_html_a6373caeba27688f0523abdef2dbc6405"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_builder_plugin.html#a6373caeba27688f0523abdef2dbc6405">ImageResizer.Plugins.WpfBuilder.WpfBuilderPlugin.LayoutImage</a></div><div class="ttdeci">override RequestedAction LayoutImage(ImageState s)</div><div class="ttdoc">Process.3(Layout).2: Rings &amp;#39;image&amp;#39; and &amp;#39;imageArea&amp;#39; are added to the layout. </div><div class="ttdef"><b>Definition:</b> <a href="_wpf_builder_8cs_source.html#l00184">WpfBuilder.cs:184</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_builder_extension_html"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_builder_extension.html">ImageResizer.Resizing.BuilderExtension</a></div><div class="ttdoc">Provides a useable base class that can be used to modify the behavior of ImageBuilder. When registered with an ImageBuilder instance, the ImageBuilder will call the corresponding methods on the extension prior to executing its own methods. </div><div class="ttdef"><b>Definition:</b> <a href="_builder_extension_8cs_source.html#l00011">BuilderExtension.cs:11</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings_html_aeba710c05caf82217635a0839ae966d5"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_wpf_builder_1_1_wpf_image_settings.html#aeba710c05caf82217635a0839ae966d5">ImageResizer.Plugins.WpfBuilder.WpfImageSettings.DestinationImageWidth</a></div><div class="ttdeci">float DestinationImageWidth</div><div class="ttdoc">The width of the image inside the rect drawned into the DrawingContext </div><div class="ttdef"><b>Definition:</b> <a href="_wpf_builder_8cs_source.html#l00047">WpfBuilder.cs:47</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_a04c90612666b1834d038ae9a4bac67b5"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#a04c90612666b1834d038ae9a4bac67b5">ImageResizer.ImageJob.Dest</a></div><div class="ttdeci">object Dest</div><div class="ttdoc">The destination Stream, physical path, or app-relative virtual path. If a Bitmap instance is desired...</div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00096">ImageJob.cs:96</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_plugins_1_1_i_plugin_html"><div class="ttname"><a href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">ImageResizer.Plugins.IPlugin</a></div><div class="ttdoc">All plugins must implement this. Enables web.config addition and removal. </div><div class="ttdef"><b>Definition:</b> <a href="_i_plugin_8cs_source.html#l00011">IPlugin.cs:11</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_image_job_html_aa6cb13a20ee55698d62de78f6d749d07"><div class="ttname"><a href="class_image_resizer_1_1_image_job.html#aa6cb13a20ee55698d62de78f6d749d07">ImageResizer.ImageJob.ResetSourceStream</a></div><div class="ttdeci">bool ResetSourceStream</div><div class="ttdoc">If true, and if &amp;#39;source&amp;#39; is seekable, the stream will be reset to its previous position after being r...</div><div class="ttdef"><b>Definition:</b> <a href="_image_job_8cs_source.html#l00160">ImageJob.cs:160</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_resizing_1_1_image_state_html_ab7d7513afe8fad1300bf8cb96942f06f"><div class="ttname"><a href="class_image_resizer_1_1_resizing_1_1_image_state.html#ab7d7513afe8fad1300bf8cb96942f06f">ImageResizer.Resizing.ImageState.finalSize</a></div><div class="ttdeci">Size finalSize</div><div class="ttdoc">The dimensions of the bitmap afer all operations have been applied to it (Calling FlipRotate can chan...</div><div class="ttdef"><b>Definition:</b> <a href="_image_state_8cs_source.html#l00051">ImageState.cs:51</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_encoding_1_1_i_encoder_html"><div class="ttname"><a href="interface_image_resizer_1_1_encoding_1_1_i_encoder.html">ImageResizer.Encoding.IEncoder</a></div><div class="ttdoc">An image encoder. Exposes methods for suitability checking, encoding, transparency compatibility chec...</div><div class="ttdef"><b>Definition:</b> <a href="_i_encoder_8cs_source.html#l00013">IEncoder.cs:13</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
