<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ImageResizer: ImageResizer.Plugins.DiskCache.DiskCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="imageresizer-logo-00aec4.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_image_resizer.html">ImageResizer</a></li><li class="navelem"><a class="el" href="namespace_image_resizer_1_1_plugins.html">Plugins</a></li><li class="navelem"><a class="el" href="namespace_image_resizer_1_1_plugins_1_1_disk_cache.html">DiskCache</a></li><li class="navelem"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html">DiskCache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ImageResizer.Plugins.DiskCache.DiskCache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides methods for creating, maintaining, and securing the disk cache.  
 <a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ImageResizer.Plugins.DiskCache.DiskCache:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache__inherit__graph.png" border="0" usemap="#_image_resizer_8_plugins_8_disk_cache_8_disk_cache_inherit__map" alt="Inheritance graph"/></div>
<map name="_image_resizer_8_plugins_8_disk_cache_8_disk_cache_inherit__map" id="_image_resizer_8_plugins_8_disk_cache_8_disk_cache_inherit__map">
<area shape="rect" id="node2" href="interface_image_resizer_1_1_caching_1_1_i_cache.html" title="Provides caching behavior " alt="" coords="5,6,128,53"/><area shape="rect" id="node4" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html" title="All plugins must implement this. Enables web.config addition and removal. " alt="" coords="153,6,271,53"/><area shape="rect" id="node6" href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider.html" title="IIssueProvider" alt="" coords="295,6,517,53"/><area shape="rect" id="node8" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider.html" title="ILoggerProvider" alt="" coords="542,6,785,53"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ImageResizer.Plugins.DiskCache.DiskCache:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache__coll__graph.png" border="0" usemap="#_image_resizer_8_plugins_8_disk_cache_8_disk_cache_coll__map" alt="Collaboration graph"/></div>
<map name="_image_resizer_8_plugins_8_disk_cache_8_disk_cache_coll__map" id="_image_resizer_8_plugins_8_disk_cache_8_disk_cache_coll__map">
<area shape="rect" id="node2" href="interface_image_resizer_1_1_caching_1_1_i_cache.html" title="Provides caching behavior " alt="" coords="1991,5,2113,51"/><area shape="rect" id="node4" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html" title="All plugins must implement this. Enables web.config addition and removal. " alt="" coords="1993,75,2111,122"/><area shape="rect" id="node6" href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_provider.html" title="IIssueProvider" alt="" coords="10,641,233,687"/><area shape="rect" id="node14" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_manager.html" title="ImageResizer.Plugins.Disk\lCache.CleanupManager" alt="" coords="1853,530,2251,611"/><area shape="rect" id="node22" href="class_image_resizer_1_1_configuration_1_1_issues_1_1_issue_sink.html" title="IssueSink" alt="" coords="420,685,580,731"/><area shape="rect" id="node8" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider.html" title="ILoggerProvider" alt="" coords="1930,198,2174,245"/><area shape="rect" id="node10" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_web_config_writer.html" title="Handles writing a Web.Config to disk that uses Url Authorization to prevent visitors from accessing t..." alt="" coords="1417,249,1815,330"/><area shape="rect" id="node12" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider.html" title="ImageResizer.Configuration.\lLogging.ILoggerProvider" alt="" coords="289,441,711,522"/><area shape="rect" id="node27" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_custom_disk_cache.html" title="Handles access to a disk&#45;based file cache. Handles locking and versioning. Supports subfolders for sc..." alt="" coords="962,325,1361,406"/><area shape="rect" id="node32" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_worker.html" title="ImageResizer.Plugins.Disk\lCache.CleanupWorker" alt="" coords="962,725,1361,806"/><area shape="rect" id="node20" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_strategy.html" title="ImageResizer.Plugins.Disk\lCache.CleanupStrategy" alt="" coords="962,619,1361,701"/><area shape="rect" id="node25" href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue_receiver.html" title="IIssueReceiver" alt="" coords="6,711,237,758"/><area shape="rect" id="node30" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_lock_provider.html" title="Provides locking based on a string key. Locks are local to the LockProvider instance. The class handles disposing of unused locks. Generally used for coordinating writes to files (of which there can be millions). Only keeps key/lock pairs in memory which are in use. Thread&#45;safe. " alt="" coords="301,335,699,417"/><area shape="rect" id="node36" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_1_1_cleanup_queue.html" title="ImageResizer.Plugins.Disk\lCache.Cleanup.CleanupQueue" alt="" coords="931,430,1391,511"/><area shape="rect" id="node39" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger.html" title="ImageResizer.Configuration.\lLogging.ILogger" alt="" coords="1841,635,2263,717"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8e7ce765d0d4424bfc245a987dabfed7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a8e7ce765d0d4424bfc245a987dabfed7">DiskCache</a> ()</td></tr>
<tr class="memdesc:a8e7ce765d0d4424bfc245a987dabfed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a disk cache in the /imagecache folder  <a href="#a8e7ce765d0d4424bfc245a987dabfed7">More...</a><br/></td></tr>
<tr class="separator:a8e7ce765d0d4424bfc245a987dabfed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66846ff9577c53c64b8c6f569ba6af7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a66846ff9577c53c64b8c6f569ba6af7d">DiskCache</a> (string virtualDir)</td></tr>
<tr class="memdesc:a66846ff9577c53c64b8c6f569ba6af7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html" title="Provides methods for creating, maintaining, and securing the disk cache. ">DiskCache</a> instance at the specified location. Must be installed as a plugin to be operational.  <a href="#a66846ff9577c53c64b8c6f569ba6af7d">More...</a><br/></td></tr>
<tr class="separator:a66846ff9577c53c64b8c6f569ba6af7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e04da009febf0d35b37700ca026062"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a19e04da009febf0d35b37700ca026062">LoadSettings</a> (<a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a> c)</td></tr>
<tr class="memdesc:a19e04da009febf0d35b37700ca026062"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the defaults from the resizing.diskcache section in the specified configuration. Throws an invalid operation exception if the <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html" title="Provides methods for creating, maintaining, and securing the disk cache. ">DiskCache</a> is already started.  <a href="#a19e04da009febf0d35b37700ca026062">More...</a><br/></td></tr>
<tr class="separator:a19e04da009febf0d35b37700ca026062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c992e137f180427979ef2d0459dab9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a97c992e137f180427979ef2d0459dab9">Install</a> (<a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a> c)</td></tr>
<tr class="memdesc:a97c992e137f180427979ef2d0459dab9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the settings from 'c', starts the cache, and registers the plugin. Will throw an invalidoperationexception if already started.  <a href="#a97c992e137f180427979ef2d0459dab9">More...</a><br/></td></tr>
<tr class="separator:a97c992e137f180427979ef2d0459dab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f28854949ae77bc24aaeec231b4cd0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ad9f28854949ae77bc24aaeec231b4cd0">Uninstall</a> (<a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a> c)</td></tr>
<tr class="memdesc:ad9f28854949ae77bc24aaeec231b4cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uninstalls the plugin. Should reverse all changes made during Install  <a href="#ad9f28854949ae77bc24aaeec231b4cd0">More...</a><br/></td></tr>
<tr class="separator:ad9f28854949ae77bc24aaeec231b4cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c79cf5af8ef3d96966936c1e522d2a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#af2c79cf5af8ef3d96966936c1e522d2a">IsConfigurationValid</a> ()</td></tr>
<tr class="memdesc:af2c79cf5af8ef3d96966936c1e522d2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the configured settings are valid and .NET (not NTFS) permissions will work.  <a href="#af2c79cf5af8ef3d96966936c1e522d2a">More...</a><br/></td></tr>
<tr class="separator:af2c79cf5af8ef3d96966936c1e522d2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c81fcb56683a5658456227469fa5d9a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a6c81fcb56683a5658456227469fa5d9a">Start</a> ()</td></tr>
<tr class="memdesc:a6c81fcb56683a5658456227469fa5d9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to start the <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html" title="Provides methods for creating, maintaining, and securing the disk cache. ">DiskCache</a> using the current settings. Returns true if succesful or if already started. Returns false on a configuration error. Called by <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a97c992e137f180427979ef2d0459dab9" title="Loads the settings from &#39;c&#39;, starts the cache, and registers the plugin. Will throw an invalidoperati...">Install()</a>  <a href="#a6c81fcb56683a5658456227469fa5d9a">More...</a><br/></td></tr>
<tr class="separator:a6c81fcb56683a5658456227469fa5d9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb5580fe25f56de3d31ca75ed91fa8c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a5cb5580fe25f56de3d31ca75ed91fa8c">Stop</a> ()</td></tr>
<tr class="memdesc:a5cb5580fe25f56de3d31ca75ed91fa8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if stopped succesfully. Cannot be restarted  <a href="#a5cb5580fe25f56de3d31ca75ed91fa8c">More...</a><br/></td></tr>
<tr class="separator:a5cb5580fe25f56de3d31ca75ed91fa8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c1159830b4553b13a51e6518b79fca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ad2c1159830b4553b13a51e6518b79fca">CanProcess</a> (HttpContext current, <a class="el" href="interface_image_resizer_1_1_caching_1_1_i_response_args.html">IResponseArgs</a> e)</td></tr>
<tr class="memdesc:ad2c1159830b4553b13a51e6518b79fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns false if the cache is unable to process the request. If false, the caller should fall back to a different cache  <a href="#ad2c1159830b4553b13a51e6518b79fca">More...</a><br/></td></tr>
<tr class="separator:ad2c1159830b4553b13a51e6518b79fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8298c74ed69a1689e1640f0991d825"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#aea8298c74ed69a1689e1640f0991d825">Process</a> (HttpContext context, <a class="el" href="interface_image_resizer_1_1_caching_1_1_i_response_args.html">IResponseArgs</a> e)</td></tr>
<tr class="memdesc:aea8298c74ed69a1689e1640f0991d825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must update the cache if needed, then either rewrite, redirect or serve the cached data.  <a href="#aea8298c74ed69a1689e1640f0991d825">More...</a><br/></td></tr>
<tr class="separator:aea8298c74ed69a1689e1640f0991d825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a8e90481cb6e6e7c3bd38b9bd35209"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50a8e90481cb6e6e7c3bd38b9bd35209"></a>
<a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cache_result.html">CacheResult</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Process</b> (<a class="el" href="interface_image_resizer_1_1_caching_1_1_i_response_args.html">IResponseArgs</a> e)</td></tr>
<tr class="separator:a50a8e90481cb6e6e7c3bd38b9bd35209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ea03a99f6d8824486515c183059830"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70ea03a99f6d8824486515c183059830"></a>
IEnumerable&lt; <a class="el" href="interface_image_resizer_1_1_configuration_1_1_issues_1_1_i_issue.html">IIssue</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>GetIssues</b> ()</td></tr>
<tr class="separator:a70ea03a99f6d8824486515c183059830"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a43a9d95ea4823f06a7125ef283e7cc9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a43a9d95ea4823f06a7125ef283e7cc9b">BeforeSettingChanged</a> ()</td></tr>
<tr class="memdesc:a43a9d95ea4823f06a7125ef283e7cc9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throws an exception if the class is already modified  <a href="#a43a9d95ea4823f06a7125ef283e7cc9b">More...</a><br/></td></tr>
<tr class="separator:a43a9d95ea4823f06a7125ef283e7cc9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f26c30ab93791154685b3837afc953"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a51f26c30ab93791154685b3837afc953">HasFileIOPermission</a> ()</td></tr>
<tr class="memdesc:a51f26c30ab93791154685b3837afc953"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if .NET permissions allow writing to the cache directory. Does not check NTFS permissions.  <a href="#a51f26c30ab93791154685b3837afc953">More...</a><br/></td></tr>
<tr class="separator:a51f26c30ab93791154685b3837afc953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab061df14ac455611fbe07f1acb1b85b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab061df14ac455611fbe07f1acb1b85b1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>HasNTFSPermission</b> ()</td></tr>
<tr class="separator:ab061df14ac455611fbe07f1acb1b85b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa003e4b9deaaa79fc5c9840d8ed02021"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa003e4b9deaaa79fc5c9840d8ed02021"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>GetExecutingUser</b> ()</td></tr>
<tr class="separator:aa003e4b9deaaa79fc5c9840d8ed02021"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4f18ffe9cd899dcbeda08b57f7c9a923"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f18ffe9cd899dcbeda08b57f7c9a923"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cacheAccessTimeout</b> = 15000</td></tr>
<tr class="separator:a4f18ffe9cd899dcbeda08b57f7c9a923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab490522228d7324e6cab3ae3c3ad8825"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab490522228d7324e6cab3ae3c3ad8825"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>virtualDir</b> = HostingEnvironment.ApplicationVirtualPath.TrimEnd('/') + &quot;/imagecache&quot;</td></tr>
<tr class="separator:ab490522228d7324e6cab3ae3c3ad8825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4b539707eac265485676dc20c64ba1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec4b539707eac265485676dc20c64ba1"></a>
<a class="el" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger.html">ILogger</a>&#160;</td><td class="memItemRight" valign="bottom"><b>log</b> = null</td></tr>
<tr class="separator:aec4b539707eac265485676dc20c64ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6fd54b0613ac210936f554fb5140e06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6fd54b0613ac210936f554fb5140e06"></a>
<a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_custom_disk_cache.html">CustomDiskCache</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cache</b> = null</td></tr>
<tr class="separator:ac6fd54b0613ac210936f554fb5140e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f5f234bcb51d70c22913bfb790a137"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9f5f234bcb51d70c22913bfb790a137"></a>
<a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_manager.html">CleanupManager</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cleaner</b> = null</td></tr>
<tr class="separator:ae9f5f234bcb51d70c22913bfb790a137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0607f94aee5b5dddd53077f0c7fab60"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0607f94aee5b5dddd53077f0c7fab60"></a>
<a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_web_config_writer.html">WebConfigWriter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>writer</b> = null</td></tr>
<tr class="separator:ae0607f94aee5b5dddd53077f0c7fab60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b1ecc789053b873e36e57384bb41b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4b1ecc789053b873e36e57384bb41b3"></a>
readonly object&#160;</td><td class="memItemRight" valign="bottom"><b>_startSync</b> = new object()</td></tr>
<tr class="separator:ad4b1ecc789053b873e36e57384bb41b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac40c0cb571e3602085b28add4ef1ca2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac40c0cb571e3602085b28add4ef1ca2e"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>_started</b> = false</td></tr>
<tr class="separator:ac40c0cb571e3602085b28add4ef1ca2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ab9566bb68b57437c9dccb4c27d6397e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ab9566bb68b57437c9dccb4c27d6397e0">Subfolders</a><code> [get, set]</code></td></tr>
<tr class="memdesc:ab9566bb68b57437c9dccb4c27d6397e0"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespace_image_resizer_1_1_plugins_1_1_controls.html">Controls</a> how many subfolders to use for disk caching. Rounded to the next power of to. (1-&gt;2, 3-&gt;4, 5-&gt;8, 9-&gt;16, 17-&gt;32, 33-&gt;64, 65-&gt;128,129-&gt;256,etc.) NTFS does not handle more than 8,000 files per folder well. Larger folders also make cleanup more resource-intensive. Defaults to 32, which combined with the default setting of 400 images per folder, allows for scalability to 12,800 actively used image versions. For example, given a desired cache size of 100,000 items, this should be set to 256.  <a href="#ab9566bb68b57437c9dccb4c27d6397e0">More...</a><br/></td></tr>
<tr class="separator:ab9566bb68b57437c9dccb4c27d6397e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20fdd8f25afd3e712d4331a28886e7e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a20fdd8f25afd3e712d4331a28886e7e1">Enabled</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a20fdd8f25afd3e712d4331a28886e7e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows disk caching to be disabled for debuginng purposes. Defaults to true.  <a href="#a20fdd8f25afd3e712d4331a28886e7e1">More...</a><br/></td></tr>
<tr class="separator:a20fdd8f25afd3e712d4331a28886e7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e3a602d75eec0399962ae9b04b2b9b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a21e3a602d75eec0399962ae9b04b2b9b">AutoClean</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a21e3a602d75eec0399962ae9b04b2b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, items from the cache folder will be automatically 'garbage collected' if the cache size limits are exceeded. Defaults to false.  <a href="#a21e3a602d75eec0399962ae9b04b2b9b">More...</a><br/></td></tr>
<tr class="separator:a21e3a602d75eec0399962ae9b04b2b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e1a1afff8c1d086f91eb7f1d7b4060"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_strategy.html">CleanupStrategy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a14e1a1afff8c1d086f91eb7f1d7b4060">CleanupStrategy</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a14e1a1afff8c1d086f91eb7f1d7b4060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only relevant when AutoClean=true. Settings about how background cache cleanup are performed. It is best not to modify these settings. There are very complicated and non-obvious factors involved in their choice.  <a href="#a14e1a1afff8c1d086f91eb7f1d7b4060">More...</a><br/></td></tr>
<tr class="separator:a14e1a1afff8c1d086f91eb7f1d7b4060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9bd5dae4cd2ec5cfd13153386941e9b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ae9bd5dae4cd2ec5cfd13153386941e9b">CacheAccessTimeout</a><code> [get, set]</code></td></tr>
<tr class="memdesc:ae9bd5dae4cd2ec5cfd13153386941e9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many milliseconds to wait for a cached item to be available. Values below 0 are set to 0. Defaults to 15 seconds. Actual time spent waiting may be 2 or 3x this value, if multiple layers of synchronization require a wait.  <a href="#ae9bd5dae4cd2ec5cfd13153386941e9b">More...</a><br/></td></tr>
<tr class="separator:ae9bd5dae4cd2ec5cfd13153386941e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987835b68d3decf11ebc1865af9b2f1a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a987835b68d3decf11ebc1865af9b2f1a">HashModifiedDate</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a987835b68d3decf11ebc1865af9b2f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, when a source file is changed, a new file will be created instead of overwriting the old cached file. This helps prevent file lock contention on high-traffic servers. Defaults to true. Do NOT set this to false in a Web Garden or if you have overlapped recycle enabled, as you may risk having occasional failed requests due to write contention by separate proccesses. Changes the hash function, so you should delete the cache folder whenever this setting is modified.  <a href="#a987835b68d3decf11ebc1865af9b2f1a">More...</a><br/></td></tr>
<tr class="separator:a987835b68d3decf11ebc1865af9b2f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a041942b5394c38fd989fa268d69348a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a041942b5394c38fd989fa268d69348a7">AsyncWrites</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a041942b5394c38fd989fa268d69348a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, writes to the disk cache will be performed outside the request thread, allowing responses to return to the client quicker.  <a href="#a041942b5394c38fd989fa268d69348a7">More...</a><br/></td></tr>
<tr class="separator:a041942b5394c38fd989fa268d69348a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36ae61ace9fdb78f7daf1c5a672c6c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ad36ae61ace9fdb78f7daf1c5a672c6c4">AsyncBufferSize</a><code> [get, set]</code></td></tr>
<tr class="memdesc:ad36ae61ace9fdb78f7daf1c5a672c6c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">If more than this amount of memory (in bytes) is currently allocated by queued writes, the request will be processed synchronously instead of asynchronously.  <a href="#ad36ae61ace9fdb78f7daf1c5a672c6c4">More...</a><br/></td></tr>
<tr class="separator:ad36ae61ace9fdb78f7daf1c5a672c6c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9107f03f8a4e721a8af66dd1bbb38eea"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a9107f03f8a4e721a8af66dd1bbb38eea">VirtualCacheDir</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a9107f03f8a4e721a8af66dd1bbb38eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the location of the cache directory. Can be a virtual path (like /App/imagecache) or an application-relative path (like ~/imagecache, the default). Relative paths are assummed to be relative to the application root. All values are converted to virtual path format upon assignment (/App/imagecache) Will throw an InvalidOperationException if changed after the plugin is installed.  <a href="#a9107f03f8a4e721a8af66dd1bbb38eea">More...</a><br/></td></tr>
<tr class="separator:a9107f03f8a4e721a8af66dd1bbb38eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fed6209155c922102b9430d2f216276"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a8fed6209155c922102b9430d2f216276">PhysicalCacheDir</a><code> [get]</code></td></tr>
<tr class="memdesc:a8fed6209155c922102b9430d2f216276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the physical path of the cache directory specified in VirtualCacheDir.  <a href="#a8fed6209155c922102b9430d2f216276">More...</a><br/></td></tr>
<tr class="separator:a8fed6209155c922102b9430d2f216276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab0cf5df41556a76c1d9828effb918c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ab0cf5df41556a76c1d9828effb918c"></a>
<a class="el" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger.html">ILogger</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Logger</b><code> [get]</code></td></tr>
<tr class="separator:a3ab0cf5df41556a76c1d9828effb918c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32744b9ad1db64994e068f27cfe87314"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a32744b9ad1db64994e068f27cfe87314">Started</a><code> [get]</code></td></tr>
<tr class="memdesc:a32744b9ad1db64994e068f27cfe87314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html" title="Provides methods for creating, maintaining, and securing the disk cache. ">DiskCache</a> instance is operational.  <a href="#a32744b9ad1db64994e068f27cfe87314">More...</a><br/></td></tr>
<tr class="separator:a32744b9ad1db64994e068f27cfe87314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider"><td colspan="2" onclick="javascript:toggleInherit('properties_interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider.html">ImageResizer.Configuration.Logging.ILoggerProvider</a></td></tr>
<tr class="memitem:a5a2b3e20104b6f93e22076ba60164d78 inherit properties_interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a2b3e20104b6f93e22076ba60164d78"></a>
<a class="el" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger.html">ILogger</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Logger</b><code> [get]</code></td></tr>
<tr class="separator:a5a2b3e20104b6f93e22076ba60164d78 inherit properties_interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_logger_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides methods for creating, maintaining, and securing the disk cache. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00036">36</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8e7ce765d0d4424bfc245a987dabfed7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ImageResizer.Plugins.DiskCache.DiskCache.DiskCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a disk cache in the /imagecache folder </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00162">162</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a66846ff9577c53c64b8c6f569ba6af7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ImageResizer.Plugins.DiskCache.DiskCache.DiskCache </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>virtualDir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html" title="Provides methods for creating, maintaining, and securing the disk cache. ">DiskCache</a> instance at the specified location. Must be installed as a plugin to be operational. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">virtualDir</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00168">168</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                           {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a9107f03f8a4e721a8af66dd1bbb38eea">VirtualCacheDir</a> = virtualDir;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a9107f03f8a4e721a8af66dd1bbb38eea"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a9107f03f8a4e721a8af66dd1bbb38eea">ImageResizer.Plugins.DiskCache.DiskCache.VirtualCacheDir</a></div><div class="ttdeci">string VirtualCacheDir</div><div class="ttdoc">Sets the location of the cache directory. Can be a virtual path (like /App/imagecache) or an applicat...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00131">DiskCache.cs:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a43a9d95ea4823f06a7125ef283e7cc9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageResizer.Plugins.DiskCache.DiskCache.BeforeSettingChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Throws an exception if the class is already modified </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00155">155</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                              {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">if</span> (_started) <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;DiskCache settings may not be adjusted after it is started.&quot;</span>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad2c1159830b4553b13a51e6518b79fca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.CanProcess </td>
          <td>(</td>
          <td class="paramtype">HttpContext&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_image_resizer_1_1_caching_1_1_i_response_args.html">IResponseArgs</a>&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns false if the cache is unable to process the request. If false, the caller should fall back to a different cache </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current</td><td></td></tr>
    <tr><td class="paramname">e</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_caching_1_1_i_cache.html#abe6aebbb4a1993a23a05b158729ef60e">ImageResizer.Caching.ICache</a>.</p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00288">288</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                                                     {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="comment">//Disk caching will &#39;pass on&#39; caching requests if &#39;cache=no&#39;.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">if</span> (((ResizeSettings)e.<a class="code" href="interface_image_resizer_1_1_caching_1_1_i_response_args.html#aa9dc61f9d5c59912f02c89da09abf69b">RewrittenQuerystring</a>).Cache == <a class="code" href="namespace_image_resizer.html#a6b30c95c789b77db2c5aa905345d917c">ServerCacheMode</a>.No) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a32744b9ad1db64994e068f27cfe87314">Started</a>;<span class="comment">//Add support for nocache</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div>
<div class="ttc" id="interface_image_resizer_1_1_caching_1_1_i_response_args_html_aa9dc61f9d5c59912f02c89da09abf69b"><div class="ttname"><a href="interface_image_resizer_1_1_caching_1_1_i_response_args.html#aa9dc61f9d5c59912f02c89da09abf69b">ImageResizer.Caching.IResponseArgs.RewrittenQuerystring</a></div><div class="ttdeci">NameValueCollection RewrittenQuerystring</div><div class="ttdoc">The rewritten querystring. Can be useful for caching systems that accept querystring arguments...</div><div class="ttdef"><b>Definition:</b> <a href="_i_response_args_8cs_source.html#l00038">IResponseArgs.cs:38</a></div></div>
<div class="ttc" id="namespace_image_resizer_html_a6b30c95c789b77db2c5aa905345d917c"><div class="ttname"><a href="namespace_image_resizer.html#a6b30c95c789b77db2c5aa905345d917c">ImageResizer.ServerCacheMode</a></div><div class="ttdeci">ServerCacheMode</div><div class="ttdoc">When to disk cache the image </div><div class="ttdef"><b>Definition:</b> <a href="_enumerations_8cs_source.html#l00036">Enumerations.cs:36</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a32744b9ad1db64994e068f27cfe87314"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a32744b9ad1db64994e068f27cfe87314">ImageResizer.Plugins.DiskCache.DiskCache.Started</a></div><div class="ttdeci">bool Started</div><div class="ttdoc">Returns true if the DiskCache instance is operational. </div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00249">DiskCache.cs:249</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a51f26c30ab93791154685b3837afc953"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.HasFileIOPermission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if .NET permissions allow writing to the cache directory. Does not check NTFS permissions. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00234">234</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                             {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            FileIOPermission writePermission = <span class="keyword">new</span> FileIOPermission(FileIOPermissionAccess.AllAccess,<span class="keyword">new</span> <span class="keywordtype">string</span>[]{<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a8fed6209155c922102b9430d2f216276">PhysicalCacheDir</a>, Path.Combine(PhysicalCacheDir,<span class="stringliteral">&quot;web.config&quot;</span>)});</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">return</span> SecurityManager.IsGranted(writePermission);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a8fed6209155c922102b9430d2f216276"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a8fed6209155c922102b9430d2f216276">ImageResizer.Plugins.DiskCache.DiskCache.PhysicalCacheDir</a></div><div class="ttdeci">string PhysicalCacheDir</div><div class="ttdoc">Returns the physical path of the cache directory specified in VirtualCacheDir. </div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00145">DiskCache.cs:145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97c992e137f180427979ef2d0459dab9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html">IPlugin</a> ImageResizer.Plugins.DiskCache.DiskCache.Install </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the settings from 'c', starts the cache, and registers the plugin. Will throw an invalidoperationexception if already started. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html#acca01a73bba24037b9b3ade1b4e3c134">ImageResizer.Plugins.IPlugin</a>.</p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00195">195</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                         {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">if</span> (c.get(<span class="stringliteral">&quot;diskcache.logging&quot;</span>, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <span class="keywordflow">if</span> (c.<a class="code" href="class_image_resizer_1_1_configuration_1_1_config.html#aa8cdada7d657ec3078e5d16310f198f7">Plugins</a>.<a class="code" href="class_image_resizer_1_1_configuration_1_1_plugin_config.html#a9f23aa7ba7f123b82a9bc17fcbac3a06">LogManager</a> != null) </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    log = c.Plugins.LogManager.GetLogger(<span class="stringliteral">&quot;ImageResizer.Plugins.DiskCache&quot;</span>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    c.Plugins.LoggingAvailable += delegate(<a class="code" href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_log_manager.html">ILogManager</a> mgr) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <span class="keywordflow">if</span> (log != null) log = c.Plugins.LogManager.GetLogger(<span class="stringliteral">&quot;ImageResizer.Plugins.DiskCache&quot;</span>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    };</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a19e04da009febf0d35b37700ca026062">LoadSettings</a>(c);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a6c81fcb56683a5658456227469fa5d9a">Start</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            c.Pipeline.AuthorizeImage += Pipeline_AuthorizeImage;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            c.Plugins.add_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_configuration_1_1_plugin_config_html_a9f23aa7ba7f123b82a9bc17fcbac3a06"><div class="ttname"><a href="class_image_resizer_1_1_configuration_1_1_plugin_config.html#a9f23aa7ba7f123b82a9bc17fcbac3a06">ImageResizer.Configuration.PluginConfig.LogManager</a></div><div class="ttdeci">ILogManager LogManager</div><div class="ttdoc">Returns the most recently registered Logging plugin, or null. </div><div class="ttdef"><b>Definition:</b> <a href="_plugin_config_8cs_source.html#l00281">PluginConfig.cs:281</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a6c81fcb56683a5658456227469fa5d9a"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a6c81fcb56683a5658456227469fa5d9a">ImageResizer.Plugins.DiskCache.DiskCache.Start</a></div><div class="ttdeci">bool Start()</div><div class="ttdoc">Attempts to start the DiskCache using the current settings. Returns true if succesful or if already s...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00254">DiskCache.cs:254</a></div></div>
<div class="ttc" id="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_log_manager_html"><div class="ttname"><a href="interface_image_resizer_1_1_configuration_1_1_logging_1_1_i_log_manager.html">ImageResizer.Configuration.Logging.ILogManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_i_log_manager_8cs_source.html#l00007">ILogManager.cs:7</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a19e04da009febf0d35b37700ca026062"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a19e04da009febf0d35b37700ca026062">ImageResizer.Plugins.DiskCache.DiskCache.LoadSettings</a></div><div class="ttdeci">void LoadSettings(Config c)</div><div class="ttdoc">Uses the defaults from the resizing.diskcache section in the specified configuration. Throws an invalid operation exception if the DiskCache is already started. </div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00175">DiskCache.cs:175</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_configuration_1_1_config_html_aa8cdada7d657ec3078e5d16310f198f7"><div class="ttname"><a href="class_image_resizer_1_1_configuration_1_1_config.html#aa8cdada7d657ec3078e5d16310f198f7">ImageResizer.Configuration.Config.Plugins</a></div><div class="ttdeci">PluginConfig Plugins</div><div class="ttdoc">Access and modify plugins </div><div class="ttdef"><b>Definition:</b> <a href="_config_8cs_source.html#l00085">Config.cs:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2c79cf5af8ef3d96966936c1e522d2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.IsConfigurationValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the configured settings are valid and .NET (not NTFS) permissions will work. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00227">227</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                          {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">return</span> !string.IsNullOrEmpty(<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a9107f03f8a4e721a8af66dd1bbb38eea">VirtualCacheDir</a>) &amp;&amp; this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a20fdd8f25afd3e712d4331a28886e7e1">Enabled</a> &amp;&amp; <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a51f26c30ab93791154685b3837afc953">HasFileIOPermission</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a20fdd8f25afd3e712d4331a28886e7e1"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a20fdd8f25afd3e712d4331a28886e7e1">ImageResizer.Plugins.DiskCache.DiskCache.Enabled</a></div><div class="ttdeci">bool Enabled</div><div class="ttdoc">Allows disk caching to be disabled for debuginng purposes. Defaults to true. </div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00054">DiskCache.cs:54</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a9107f03f8a4e721a8af66dd1bbb38eea"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a9107f03f8a4e721a8af66dd1bbb38eea">ImageResizer.Plugins.DiskCache.DiskCache.VirtualCacheDir</a></div><div class="ttdeci">string VirtualCacheDir</div><div class="ttdoc">Sets the location of the cache directory. Can be a virtual path (like /App/imagecache) or an applicat...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00131">DiskCache.cs:131</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a51f26c30ab93791154685b3837afc953"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a51f26c30ab93791154685b3837afc953">ImageResizer.Plugins.DiskCache.DiskCache.HasFileIOPermission</a></div><div class="ttdeci">bool HasFileIOPermission()</div><div class="ttdoc">Returns true if .NET permissions allow writing to the cache directory. Does not check NTFS permission...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00234">DiskCache.cs:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a19e04da009febf0d35b37700ca026062"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageResizer.Plugins.DiskCache.DiskCache.LoadSettings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uses the defaults from the resizing.diskcache section in the specified configuration. Throws an invalid operation exception if the <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html" title="Provides methods for creating, maintaining, and securing the disk cache. ">DiskCache</a> is already started. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00175">175</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                          {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ab9566bb68b57437c9dccb4c27d6397e0">Subfolders</a> = c.get(<span class="stringliteral">&quot;diskcache.subfolders&quot;</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ab9566bb68b57437c9dccb4c27d6397e0">Subfolders</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a20fdd8f25afd3e712d4331a28886e7e1">Enabled</a> = c.get(<span class="stringliteral">&quot;diskcache.enabled&quot;</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a20fdd8f25afd3e712d4331a28886e7e1">Enabled</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a21e3a602d75eec0399962ae9b04b2b9b">AutoClean</a> = c.get(<span class="stringliteral">&quot;diskcache.autoClean&quot;</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a21e3a602d75eec0399962ae9b04b2b9b">AutoClean</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a9107f03f8a4e721a8af66dd1bbb38eea">VirtualCacheDir</a> = c.get(<span class="stringliteral">&quot;diskcache.dir&quot;</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a9107f03f8a4e721a8af66dd1bbb38eea">VirtualCacheDir</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a987835b68d3decf11ebc1865af9b2f1a">HashModifiedDate</a> = c.get(<span class="stringliteral">&quot;diskcache.hashModifiedDate&quot;</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a987835b68d3decf11ebc1865af9b2f1a">HashModifiedDate</a>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ae9bd5dae4cd2ec5cfd13153386941e9b">CacheAccessTimeout</a> = c.get(<span class="stringliteral">&quot;diskcache.cacheAccessTimeout&quot;</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ae9bd5dae4cd2ec5cfd13153386941e9b">CacheAccessTimeout</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ad36ae61ace9fdb78f7daf1c5a672c6c4">AsyncBufferSize</a> = c.get(<span class="stringliteral">&quot;diskcache.asyncBufferSize&quot;</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ad36ae61ace9fdb78f7daf1c5a672c6c4">AsyncBufferSize</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a041942b5394c38fd989fa268d69348a7">AsyncWrites</a> = c.get(<span class="stringliteral">&quot;diskcache.asyncWrites&quot;</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a041942b5394c38fd989fa268d69348a7">AsyncWrites</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            CleanupStrategy.LoadFrom(c.getNode(<span class="stringliteral">&quot;cleanupStrategy&quot;</span>));</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a21e3a602d75eec0399962ae9b04b2b9b"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a21e3a602d75eec0399962ae9b04b2b9b">ImageResizer.Plugins.DiskCache.DiskCache.AutoClean</a></div><div class="ttdeci">bool AutoClean</div><div class="ttdoc">If true, items from the cache folder will be automatically &amp;#39;garbage collected&amp;#39; if the cache size limi...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00065">DiskCache.cs:65</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a20fdd8f25afd3e712d4331a28886e7e1"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a20fdd8f25afd3e712d4331a28886e7e1">ImageResizer.Plugins.DiskCache.DiskCache.Enabled</a></div><div class="ttdeci">bool Enabled</div><div class="ttdoc">Allows disk caching to be disabled for debuginng purposes. Defaults to true. </div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00054">DiskCache.cs:54</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_ae9bd5dae4cd2ec5cfd13153386941e9b"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ae9bd5dae4cd2ec5cfd13153386941e9b">ImageResizer.Plugins.DiskCache.DiskCache.CacheAccessTimeout</a></div><div class="ttdeci">int CacheAccessTimeout</div><div class="ttdoc">How many milliseconds to wait for a cached item to be available. Values below 0 are set to 0...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00085">DiskCache.cs:85</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a987835b68d3decf11ebc1865af9b2f1a"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a987835b68d3decf11ebc1865af9b2f1a">ImageResizer.Plugins.DiskCache.DiskCache.HashModifiedDate</a></div><div class="ttdeci">bool HashModifiedDate</div><div class="ttdoc">If true, when a source file is changed, a new file will be created instead of overwriting the old cac...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00098">DiskCache.cs:98</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a9107f03f8a4e721a8af66dd1bbb38eea"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a9107f03f8a4e721a8af66dd1bbb38eea">ImageResizer.Plugins.DiskCache.DiskCache.VirtualCacheDir</a></div><div class="ttdeci">string VirtualCacheDir</div><div class="ttdoc">Sets the location of the cache directory. Can be a virtual path (like /App/imagecache) or an applicat...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00131">DiskCache.cs:131</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a041942b5394c38fd989fa268d69348a7"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a041942b5394c38fd989fa268d69348a7">ImageResizer.Plugins.DiskCache.DiskCache.AsyncWrites</a></div><div class="ttdeci">bool AsyncWrites</div><div class="ttdoc">If true, writes to the disk cache will be performed outside the request thread, allowing responses to...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00107">DiskCache.cs:107</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_ab9566bb68b57437c9dccb4c27d6397e0"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ab9566bb68b57437c9dccb4c27d6397e0">ImageResizer.Plugins.DiskCache.DiskCache.Subfolders</a></div><div class="ttdeci">int Subfolders</div><div class="ttdoc">Controls how many subfolders to use for disk caching. Rounded to the next power of to...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00045">DiskCache.cs:45</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_ad36ae61ace9fdb78f7daf1c5a672c6c4"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ad36ae61ace9fdb78f7daf1c5a672c6c4">ImageResizer.Plugins.DiskCache.DiskCache.AsyncBufferSize</a></div><div class="ttdeci">int AsyncBufferSize</div><div class="ttdoc">If more than this amount of memory (in bytes) is currently allocated by queued writes, the request will be processed synchronously instead of asynchronously. </div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00117">DiskCache.cs:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea8298c74ed69a1689e1640f0991d825"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ImageResizer.Plugins.DiskCache.DiskCache.Process </td>
          <td>(</td>
          <td class="paramtype">HttpContext&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_image_resizer_1_1_caching_1_1_i_response_args.html">IResponseArgs</a>&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Must update the cache if needed, then either rewrite, redirect or serve the cached data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current</td><td></td></tr>
    <tr><td class="paramname">e</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_caching_1_1_i_cache.html#adf2afb4fca74ba610979b081ebff3487">ImageResizer.Caching.ICache</a>.</p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00295">295</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                                                  {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            CacheResult r = <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#aea8298c74ed69a1689e1640f0991d825">Process</a>(e);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            context.Items[<span class="stringliteral">&quot;FinalCachedFile&quot;</span>] = r.PhysicalPath;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">if</span> (r.Data == null) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="comment">//Calculate the virtual path</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordtype">string</span> virtualPath = VirtualCacheDir.TrimEnd(<span class="charliteral">&#39;/&#39;</span>) + <span class="charliteral">&#39;/&#39;</span> + r.RelativePath.Replace(<span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;/&#39;</span>).TrimStart(<span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="comment">//Rewrite to cached, resized image.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                context.RewritePath(virtualPath, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="comment">//Remap the response args writer to use the existing stream.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                ((<a class="code" href="class_image_resizer_1_1_caching_1_1_response_args.html">ResponseArgs</a>)e).ResizeImageToStream = delegate(Stream s) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    ((MemoryStream)r.Data).WriteTo(s);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                };</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                context.RemapHandler(<span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_basic_1_1_no_cache_handler.html">NoCacheHandler</a>(e));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_aea8298c74ed69a1689e1640f0991d825"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#aea8298c74ed69a1689e1640f0991d825">ImageResizer.Plugins.DiskCache.DiskCache.Process</a></div><div class="ttdeci">void Process(HttpContext context, IResponseArgs e)</div><div class="ttdoc">Must update the cache if needed, then either rewrite, redirect or serve the cached data...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00295">DiskCache.cs:295</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_basic_1_1_no_cache_handler_html"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_basic_1_1_no_cache_handler.html">ImageResizer.Plugins.Basic.NoCacheHandler</a></div><div class="ttdoc">Implements IHttpHandler, serves content for the NoCache plugin </div><div class="ttdef"><b>Definition:</b> <a href="_no_cache_handler_8cs_source.html#l00012">NoCacheHandler.cs:12</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_caching_1_1_response_args_html"><div class="ttname"><a href="class_image_resizer_1_1_caching_1_1_response_args.html">ImageResizer.Caching.ResponseArgs</a></div><div class="ttdoc">IResponseArgs implementation </div><div class="ttdef"><b>Definition:</b> <a href="_response_args_8cs_source.html#l00012">ResponseArgs.cs:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c81fcb56683a5658456227469fa5d9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to start the <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html" title="Provides methods for creating, maintaining, and securing the disk cache. ">DiskCache</a> using the current settings. Returns true if succesful or if already started. Returns false on a configuration error. Called by <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a97c992e137f180427979ef2d0459dab9" title="Loads the settings from &#39;c&#39;, starts the cache, and registers the plugin. Will throw an invalidoperati...">Install()</a> </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00254">254</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                            {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#af2c79cf5af8ef3d96966936c1e522d2a">IsConfigurationValid</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            lock (_startSync) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="keywordflow">if</span> (_started) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#af2c79cf5af8ef3d96966936c1e522d2a">IsConfigurationValid</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="comment">//Init the writer.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                writer = <span class="keyword">new</span> WebConfigWriter(<span class="keyword">this</span>,<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a8fed6209155c922102b9430d2f216276">PhysicalCacheDir</a>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <span class="comment">//Init the inner cache</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                cache = <span class="keyword">new</span> CustomDiskCache(<span class="keyword">this</span>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a8fed6209155c922102b9430d2f216276">PhysicalCacheDir</a>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ab9566bb68b57437c9dccb4c27d6397e0">Subfolders</a>, <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a987835b68d3decf11ebc1865af9b2f1a">HashModifiedDate</a>,<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ad36ae61ace9fdb78f7daf1c5a672c6c4">AsyncBufferSize</a>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <span class="comment">//Init the cleanup strategy</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a21e3a602d75eec0399962ae9b04b2b9b">AutoClean</a> &amp;&amp; cleanupStrategy == null) cleanupStrategy = <span class="keyword">new</span> <a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a14e1a1afff8c1d086f91eb7f1d7b4060">CleanupStrategy</a>(); <span class="comment">//Default settings if null</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="comment">//Init the cleanup worker</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a21e3a602d75eec0399962ae9b04b2b9b">AutoClean</a>) cleaner = <span class="keyword">new</span> CleanupManager(<span class="keyword">this</span>, cache, cleanupStrategy);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="comment">//If we&#39;re running with subfolders, enqueue the cache root for cleanup (after the 5 minute delay)</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="comment">//so we don&#39;t eternally &#39;skip&#39; files in the root or in other unused subfolders (since only &#39;accessed&#39; subfolders are ever cleaned ). </span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <span class="keywordflow">if</span> (cleaner != null) cleaner.CleanAll();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keywordflow">if</span> (log != null) log.Info(<span class="stringliteral">&quot;DiskCache started successfully.&quot;</span>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="comment">//Started successfully</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                _started = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a21e3a602d75eec0399962ae9b04b2b9b"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a21e3a602d75eec0399962ae9b04b2b9b">ImageResizer.Plugins.DiskCache.DiskCache.AutoClean</a></div><div class="ttdeci">bool AutoClean</div><div class="ttdoc">If true, items from the cache folder will be automatically &amp;#39;garbage collected&amp;#39; if the cache size limi...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00065">DiskCache.cs:65</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a8fed6209155c922102b9430d2f216276"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a8fed6209155c922102b9430d2f216276">ImageResizer.Plugins.DiskCache.DiskCache.PhysicalCacheDir</a></div><div class="ttdeci">string PhysicalCacheDir</div><div class="ttdoc">Returns the physical path of the cache directory specified in VirtualCacheDir. </div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00145">DiskCache.cs:145</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a987835b68d3decf11ebc1865af9b2f1a"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a987835b68d3decf11ebc1865af9b2f1a">ImageResizer.Plugins.DiskCache.DiskCache.HashModifiedDate</a></div><div class="ttdeci">bool HashModifiedDate</div><div class="ttdoc">If true, when a source file is changed, a new file will be created instead of overwriting the old cac...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00098">DiskCache.cs:98</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_ab9566bb68b57437c9dccb4c27d6397e0"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ab9566bb68b57437c9dccb4c27d6397e0">ImageResizer.Plugins.DiskCache.DiskCache.Subfolders</a></div><div class="ttdeci">int Subfolders</div><div class="ttdoc">Controls how many subfolders to use for disk caching. Rounded to the next power of to...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00045">DiskCache.cs:45</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_af2c79cf5af8ef3d96966936c1e522d2a"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#af2c79cf5af8ef3d96966936c1e522d2a">ImageResizer.Plugins.DiskCache.DiskCache.IsConfigurationValid</a></div><div class="ttdeci">bool IsConfigurationValid()</div><div class="ttdoc">Returns true if the configured settings are valid and .NET (not NTFS) permissions will work...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00227">DiskCache.cs:227</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_a14e1a1afff8c1d086f91eb7f1d7b4060"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#a14e1a1afff8c1d086f91eb7f1d7b4060">ImageResizer.Plugins.DiskCache.DiskCache.CleanupStrategy</a></div><div class="ttdeci">CleanupStrategy CleanupStrategy</div><div class="ttdoc">Only relevant when AutoClean=true. Settings about how background cache cleanup are performed...</div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00074">DiskCache.cs:74</a></div></div>
<div class="ttc" id="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache_html_ad36ae61ace9fdb78f7daf1c5a672c6c4"><div class="ttname"><a href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html#ad36ae61ace9fdb78f7daf1c5a672c6c4">ImageResizer.Plugins.DiskCache.DiskCache.AsyncBufferSize</a></div><div class="ttdeci">int AsyncBufferSize</div><div class="ttdoc">If more than this amount of memory (in bytes) is currently allocated by queued writes, the request will be processed synchronously instead of asynchronously. </div><div class="ttdef"><b>Definition:</b> <a href="_disk_cache_8cs_source.html#l00117">DiskCache.cs:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5cb5580fe25f56de3d31ca75ed91fa8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.Stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if stopped succesfully. Cannot be restarted </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00282">282</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                           {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (cleaner != null) cleaner.Dispose();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            cleaner = null;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9f28854949ae77bc24aaeec231b4cd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.Uninstall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_image_resizer_1_1_configuration_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uninstalls the plugin. Should reverse all changes made during Install </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_plugin.html#a047c1f46ce451fefc5f2ba3c16b64e8f">ImageResizer.Plugins.IPlugin</a>.</p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00216">216</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                        {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            c.Plugins.remove_plugin(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            c.Pipeline.AuthorizeImage -= Pipeline_AuthorizeImage;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">return</span> this.Stop();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="ad36ae61ace9fdb78f7daf1c5a672c6c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ImageResizer.Plugins.DiskCache.DiskCache.AsyncBufferSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If more than this amount of memory (in bytes) is currently allocated by queued writes, the request will be processed synchronously instead of asynchronously. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00117">117</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a041942b5394c38fd989fa268d69348a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.AsyncWrites</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, writes to the disk cache will be performed outside the request thread, allowing responses to return to the client quicker. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00107">107</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a21e3a602d75eec0399962ae9b04b2b9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.AutoClean</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, items from the cache folder will be automatically 'garbage collected' if the cache size limits are exceeded. Defaults to false. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00065">65</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ae9bd5dae4cd2ec5cfd13153386941e9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ImageResizer.Plugins.DiskCache.DiskCache.CacheAccessTimeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How many milliseconds to wait for a cached item to be available. Values below 0 are set to 0. Defaults to 15 seconds. Actual time spent waiting may be 2 or 3x this value, if multiple layers of synchronization require a wait. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00085">85</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a14e1a1afff8c1d086f91eb7f1d7b4060"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_cleanup_strategy.html">CleanupStrategy</a> ImageResizer.Plugins.DiskCache.DiskCache.CleanupStrategy</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only relevant when AutoClean=true. Settings about how background cache cleanup are performed. It is best not to modify these settings. There are very complicated and non-obvious factors involved in their choice. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00074">74</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a20fdd8f25afd3e712d4331a28886e7e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.Enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows disk caching to be disabled for debuginng purposes. Defaults to true. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00054">54</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a987835b68d3decf11ebc1865af9b2f1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.HashModifiedDate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, when a source file is changed, a new file will be created instead of overwriting the old cached file. This helps prevent file lock contention on high-traffic servers. Defaults to true. Do NOT set this to false in a Web Garden or if you have overlapped recycle enabled, as you may risk having occasional failed requests due to write contention by separate proccesses. Changes the hash function, so you should delete the cache folder whenever this setting is modified. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00098">98</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a8fed6209155c922102b9430d2f216276"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ImageResizer.Plugins.DiskCache.DiskCache.PhysicalCacheDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the physical path of the cache directory specified in VirtualCacheDir. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00145">145</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a32744b9ad1db64994e068f27cfe87314"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageResizer.Plugins.DiskCache.DiskCache.Started</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the <a class="el" href="class_image_resizer_1_1_plugins_1_1_disk_cache_1_1_disk_cache.html" title="Provides methods for creating, maintaining, and securing the disk cache. ">DiskCache</a> instance is operational. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00249">249</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ab9566bb68b57437c9dccb4c27d6397e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ImageResizer.Plugins.DiskCache.DiskCache.Subfolders</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="namespace_image_resizer_1_1_plugins_1_1_controls.html">Controls</a> how many subfolders to use for disk caching. Rounded to the next power of to. (1-&gt;2, 3-&gt;4, 5-&gt;8, 9-&gt;16, 17-&gt;32, 33-&gt;64, 65-&gt;128,129-&gt;256,etc.) NTFS does not handle more than 8,000 files per folder well. Larger folders also make cleanup more resource-intensive. Defaults to 32, which combined with the default setting of 400 images per folder, allows for scalability to 12,800 actively used image versions. For example, given a desired cache size of 100,000 items, this should be set to 256. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00045">45</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a9107f03f8a4e721a8af66dd1bbb38eea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ImageResizer.Plugins.DiskCache.DiskCache.VirtualCacheDir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the location of the cache directory. Can be a virtual path (like /App/imagecache) or an application-relative path (like ~/imagecache, the default). Relative paths are assummed to be relative to the application root. All values are converted to virtual path format upon assignment (/App/imagecache) Will throw an InvalidOperationException if changed after the plugin is installed. </p>

<p>Definition at line <a class="el" href="_disk_cache_8cs_source.html#l00131">131</a> of file <a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/nathanael/Documents/resizer/Plugins/DiskCache/<a class="el" href="_disk_cache_8cs_source.html">DiskCache.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
