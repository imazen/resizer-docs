<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ImageResizer: ImageResizer.Plugins.S3Reader.S3VirtualPathProvider Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="resizer-icon-64.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ImageResizer
   &#160;<span id="projectnumber">3.1.3</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_image_resizer.html">ImageResizer</a>      </li>
      <li class="navelem"><a class="el" href="namespace_image_resizer_1_1_plugins.html">Plugins</a>      </li>
      <li class="navelem"><a class="el" href="namespace_image_resizer_1_1_plugins_1_1_s3_reader.html">S3Reader</a>      </li>
      <li class="navelem"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html">S3VirtualPathProvider</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#events">Events</a>  </div>
  <div class="headertitle">
<div class="title">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider" --><!-- doxytag: inherits="ImageResizer::Plugins::IVirtualImageProvider" -->
<p>Allows clients to request objects located on another amazon S3 server through this server. Allows URL rewriting.  
 <a href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ImageResizer.Plugins.S3Reader.S3VirtualPathProvider:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider__inherit__graph.png" border="0" usemap="#_image_resizer_8_plugins_8_s3_reader_8_s3_virtual_path_provider_inherit__map" alt="Inheritance graph"/></div>
<map name="_image_resizer_8_plugins_8_s3_reader_8_s3_virtual_path_provider_inherit__map" id="_image_resizer_8_plugins_8_s3_reader_8_s3_virtual_path_provider_inherit__map">
<area shape="rect" id="node2" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html" title="Implement this to allow your class (or VirtualPathProvider subclass) to be used without registering i..." alt="" coords="242,6,565,53"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ImageResizer.Plugins.S3Reader.S3VirtualPathProvider:</div>
<div class="dyncontent">
<div class="center"><img src="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider__coll__graph.png" border="0" usemap="#_image_resizer_8_plugins_8_s3_reader_8_s3_virtual_path_provider_coll__map" alt="Collaboration graph"/></div>
<map name="_image_resizer_8_plugins_8_s3_reader_8_s3_virtual_path_provider_coll__map" id="_image_resizer_8_plugins_8_s3_reader_8_s3_virtual_path_provider_coll__map">
<area shape="rect" id="node2" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_image_provider.html" title="Implement this to allow your class (or VirtualPathProvider subclass) to be used without registering i..." alt="" coords="242,6,565,53"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>EmptyCacheDependency</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c117f1da7663404001f10a3f46726ab"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::RewriteBucketAndKeyPath" ref="a6c117f1da7663404001f10a3f46726ab" args="(S3VirtualPathProvider sender, S3PathEventArgs e)" -->
delegate void&#160;</td><td class="memItemRight" valign="bottom"><b>RewriteBucketAndKeyPath</b> (<a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html">S3VirtualPathProvider</a> sender, <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_path_event_args.html">S3PathEventArgs</a> e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a448159e9a178355e5f0baecf555de3fe">FilterPath</a> (string path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Execites the PreS3RequestFilter event and returns the result.  <a href="#a448159e9a178355e5f0baecf555de3fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a6a3c5d5b26d0795aedc36bee9d8cac5f">S3VirtualPathProvider</a> (S3Service service, String virtualFilesystemPrefix, TimeSpan absoluteMetadataExpiration, TimeSpan slidingMetadataExpiration, RewriteBucketAndKeyPath bucketFilterCallback, Boolean fastMode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and configure a virtual path provider.  <a href="#a6a3c5d5b26d0795aedc36bee9d8cac5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a04017b8607a46423cc5279884b42c361">S3VirtualPathProvider</a> (RewriteBucketAndKeyPath bucketFilterCallback, Boolean fastMode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default settings: UseSSL=false, VirtualFileSystemPrefix = "~/s3", SlidingExpiration = 1h, AbsoluteExpiration = maxvalue No bucket filtering is performed, so any amazon-hosted bucket can be accessed through this provider unless you add a bucket filter.  <a href="#a04017b8607a46423cc5279884b42c361"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a9dd1f1484dbbf071cbcf79b347c77fb5">IsPathVirtual</a> (string virtualPath)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a specified virtual path is within the virtual file system.  <a href="#a9dd1f1484dbbf071cbcf79b347c77fb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa5f2d07731dcc25569033f193b27802"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::FileExists" ref="afa5f2d07731dcc25569033f193b27802" args="(string virtualPath)" -->
override bool&#160;</td><td class="memItemRight" valign="bottom"><b>FileExists</b> (string virtualPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add3c53e293333297570e139bc0101d96"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::GetFile" ref="add3c53e293333297570e139bc0101d96" args="(string virtualPath)" -->
override VirtualFile&#160;</td><td class="memItemRight" valign="bottom"><b>GetFile</b> (string virtualPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab091fff1cffad0bc907416145731b53d"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::GetCacheDependency" ref="ab091fff1cffad0bc907416145731b53d" args="(string virtualPath, System.Collections.IEnumerable virtualPathDependencies, DateTime utcStart)" -->
override CacheDependency&#160;</td><td class="memItemRight" valign="bottom"><b>GetCacheDependency</b> (string virtualPath, System.Collections.IEnumerable virtualPathDependencies, DateTime utcStart)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac498620e78ab0afcfb160f435e0a7f61"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::FileExists" ref="ac498620e78ab0afcfb160f435e0a7f61" args="(string virtualPath, System.Collections.Specialized.NameValueCollection queryString)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>FileExists</b> (string virtualPath, System.Collections.Specialized.NameValueCollection queryString)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af763d3b97c1d797ad7ef5452e187c3fd"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::GetFile" ref="af763d3b97c1d797ad7ef5452e187c3fd" args="(string virtualPath, System.Collections.Specialized.NameValueCollection queryString)" -->
<a class="el" href="interface_image_resizer_1_1_plugins_1_1_i_virtual_file.html">IVirtualFile</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GetFile</b> (string virtualPath, System.Collections.Specialized.NameValueCollection queryString)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad88f2792271769043eca0bf5653835cd"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::Initialize" ref="ad88f2792271769043eca0bf5653835cd" args="()" -->
override void&#160;</td><td class="memItemRight" valign="bottom"><b>Initialize</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#ab19191d1cd2f926881f09cef89100456">VirtualFilesystemPrefix</a><code> [get, set]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests starting with this path will be handled by this virtual path provider. Should be in app-relative form: "~/s3/". Will be converted to root-relative form upon assigment. Trailing slash required, auto-added.  <a href="#ab19191d1cd2f926881f09cef89100456"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimeSpan&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a38e50849c519fedc6aeb95ad5eda1daa">MetadataAbsoluteExpiration</a><code> [get, set]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Existence and modified date metadata about files is cached for, at longest, this amount of time after it is first stored.  <a href="#a38e50849c519fedc6aeb95ad5eda1daa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TimeSpan&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a797191245f76e16af3ce438b3742f4ad">MetadataSlidingExpiration</a><code> [get, set]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Existence and modified date metadata about files is cached for this long after it is last accessed.  <a href="#a797191245f76e16af3ce438b3742f4ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">S3Service&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#aef3bf1f153772bd653d13602887ca4a3">Service</a><code> [get, set]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets and sets the S3Service object that specifies connection details such as authentication, encryption, etc.  <a href="#aef3bf1f153772bd653d13602887ca4a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a73df927cef18b20829ed898584cfdeff">FastMode</a><code> [get, set]</code></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, existence of bucket and key is assumed as long as prefix is present. Defaults to true. Also, no modified date information is provided, so the cache never gets updated. Requires 1 request instead of 2 to download the image.  <a href="#a73df927cef18b20829ed898584cfdeff"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="events"></a>
Events</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">RewriteBucketAndKeyPath&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a0d41267dbcc02afb14afeb0cbae77492">PreS3RequestFilter</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Important! You should handle this event and throw an exception if a bucket that you do not own is requested. Otherwise other people's buckets could be accessed using your server.  <a href="#a0d41267dbcc02afb14afeb0cbae77492"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Allows clients to request objects located on another amazon S3 server through this server. Allows URL rewriting. </p>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00020">20</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6a3c5d5b26d0795aedc36bee9d8cac5f"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::S3VirtualPathProvider" ref="a6a3c5d5b26d0795aedc36bee9d8cac5f" args="(S3Service service, String virtualFilesystemPrefix, TimeSpan absoluteMetadataExpiration, TimeSpan slidingMetadataExpiration, RewriteBucketAndKeyPath bucketFilterCallback, Boolean fastMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a6a3c5d5b26d0795aedc36bee9d8cac5f">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.S3VirtualPathProvider</a> </td>
          <td>(</td>
          <td class="paramtype">S3Service&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>virtualFilesystemPrefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeSpan&#160;</td>
          <td class="paramname"><em>absoluteMetadataExpiration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeSpan&#160;</td>
          <td class="paramname"><em>slidingMetadataExpiration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RewriteBucketAndKeyPath&#160;</td>
          <td class="paramname"><em>bucketFilterCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Boolean&#160;</td>
          <td class="paramname"><em>fastMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create and configure a virtual path provider. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">service</td><td>Provide the authentication and ecryption settings. For public buckets, no settings are required. UseSSL should be false for best performance. </td></tr>
    <tr><td class="paramname">virtualFilesystemPrefix</td><td>The virtual folder to allow client access of s3 from.</td></tr>
    <tr><td class="paramname">absoluteMetadataExpiration</td><td></td></tr>
    <tr><td class="paramname">slidingMetadataExpiration</td><td></td></tr>
    <tr><td class="paramname">bucketFilterCallback</td><td>You should validate that the requested bucket is your own. If you only want one bucket, just prefix your bucket to the path.</td></tr>
    <tr><td class="paramname">fastMode</td><td>If true, existence of bucket and key is assumed as long as prefix is present. Also, no modified date information is provided to the image resizer, so the cache never gets updated. Requires 1 request instead of 2 to download the image.</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00111">111</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>
<div class="fragment"><pre class="fragment">            : base()
        {
            this.service = service;
            this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#ab19191d1cd2f926881f09cef89100456" title="Requests starting with this path will be handled by this virtual path provider. Should be in app-rela...">VirtualFilesystemPrefix</a> = virtualFilesystemPrefix;
            this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a38e50849c519fedc6aeb95ad5eda1daa" title="Existence and modified date metadata about files is cached for, at longest, this amount of time after...">MetadataAbsoluteExpiration</a> = absoluteMetadataExpiration;
            this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a797191245f76e16af3ce438b3742f4ad" title="Existence and modified date metadata about files is cached for this long after it is last accessed...">MetadataSlidingExpiration</a> = slidingMetadataExpiration;
            this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a0d41267dbcc02afb14afeb0cbae77492" title="Important! You should handle this event and throw an exception if a bucket that you do not own is req...">PreS3RequestFilter</a> += bucketFilterCallback;
            this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a73df927cef18b20829ed898584cfdeff" title="If true, existence of bucket and key is assumed as long as prefix is present. Defaults to true...">FastMode</a> = fastMode;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a04017b8607a46423cc5279884b42c361"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::S3VirtualPathProvider" ref="a04017b8607a46423cc5279884b42c361" args="(RewriteBucketAndKeyPath bucketFilterCallback, Boolean fastMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a6a3c5d5b26d0795aedc36bee9d8cac5f">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.S3VirtualPathProvider</a> </td>
          <td>(</td>
          <td class="paramtype">RewriteBucketAndKeyPath&#160;</td>
          <td class="paramname"><em>bucketFilterCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Boolean&#160;</td>
          <td class="paramname"><em>fastMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default settings: UseSSL=false, VirtualFileSystemPrefix = "~/s3", SlidingExpiration = 1h, AbsoluteExpiration = maxvalue No bucket filtering is performed, so any amazon-hosted bucket can be accessed through this provider unless you add a bucket filter. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">bucketFilterCallback</td><td>You should validate that the requested bucket is your own. If you only want one bucket, just prefix your bucket to the path.</td></tr>
    <tr><td class="paramname">fastMode</td><td>If true, existence of bucket and key is assumed as long as prefix is present. Also, no modified date information is provided to the image resizer, so the cache never gets updated. Requires 1 request instead of 2 to download the image.</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00128">128</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>
<div class="fragment"><pre class="fragment">            : base()
        {
            this.service = <span class="keyword">new</span> S3Service();
            this.service.UseSsl = <span class="keyword">false</span>;
            this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a0d41267dbcc02afb14afeb0cbae77492" title="Important! You should handle this event and throw an exception if a bucket that you do not own is req...">PreS3RequestFilter</a> += bucketFilterCallback;
            this.<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a73df927cef18b20829ed898584cfdeff" title="If true, existence of bucket and key is assumed as long as prefix is present. Defaults to true...">FastMode</a> = fastMode;
        }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a448159e9a178355e5f0baecf555de3fe"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::FilterPath" ref="a448159e9a178355e5f0baecf555de3fe" args="(string path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a448159e9a178355e5f0baecf555de3fe">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.FilterPath</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Execites the PreS3RequestFilter event and returns the result. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00035">35</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            S3PathEventArgs e = <span class="keyword">new</span> S3PathEventArgs(path);
            <span class="keywordflow">if</span> (<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a0d41267dbcc02afb14afeb0cbae77492" title="Important! You should handle this event and throw an exception if a bucket that you do not own is req...">PreS3RequestFilter</a> != null) <a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a0d41267dbcc02afb14afeb0cbae77492" title="Important! You should handle this event and throw an exception if a bucket that you do not own is req...">PreS3RequestFilter</a>(<span class="keyword">this</span>,e);
            <span class="keywordflow">return</span> e.Path;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a9dd1f1484dbbf071cbcf79b347c77fb5"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::IsPathVirtual" ref="a9dd1f1484dbbf071cbcf79b347c77fb5" args="(string virtualPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a9dd1f1484dbbf071cbcf79b347c77fb5">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.IsPathVirtual</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>virtualPath</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines whether a specified virtual path is within the virtual file system. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">virtualPath</td><td>An absolute virtual path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the virtual path is within the virtual file sytem; otherwise, false. </dd></dl>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00151">151</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">return</span> virtualPath.StartsWith(<a class="code" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#ab19191d1cd2f926881f09cef89100456" title="Requests starting with this path will be handled by this virtual path provider. Should be in app-rela...">VirtualFilesystemPrefix</a>, StringComparison.OrdinalIgnoreCase);
        }
</pre></div>
</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="a73df927cef18b20829ed898584cfdeff"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::FastMode" ref="a73df927cef18b20829ed898584cfdeff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a73df927cef18b20829ed898584cfdeff">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.FastMode</a><code> [get, set]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If true, existence of bucket and key is assumed as long as prefix is present. Defaults to true. Also, no modified date information is provided, so the cache never gets updated. Requires 1 request instead of 2 to download the image. </p>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00101">101</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a38e50849c519fedc6aeb95ad5eda1daa"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::MetadataAbsoluteExpiration" ref="a38e50849c519fedc6aeb95ad5eda1daa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimeSpan <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a38e50849c519fedc6aeb95ad5eda1daa">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.MetadataAbsoluteExpiration</a><code> [get, set]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Existence and modified date metadata about files is cached for, at longest, this amount of time after it is first stored. </p>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00056">56</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a797191245f76e16af3ce438b3742f4ad"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::MetadataSlidingExpiration" ref="a797191245f76e16af3ce438b3742f4ad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TimeSpan <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a797191245f76e16af3ce438b3742f4ad">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.MetadataSlidingExpiration</a><code> [get, set]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Existence and modified date metadata about files is cached for this long after it is last accessed. </p>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00072">72</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>

</div>
</div>
<a class="anchor" id="aef3bf1f153772bd653d13602887ca4a3"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::Service" ref="aef3bf1f153772bd653d13602887ca4a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">S3Service <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#aef3bf1f153772bd653d13602887ca4a3">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.Service</a><code> [get, set]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets and sets the S3Service object that specifies connection details such as authentication, encryption, etc. </p>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00091">91</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ab19191d1cd2f926881f09cef89100456"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::VirtualFilesystemPrefix" ref="ab19191d1cd2f926881f09cef89100456" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#ab19191d1cd2f926881f09cef89100456">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.VirtualFilesystemPrefix</a><code> [get, set]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Requests starting with this path will be handled by this virtual path provider. Should be in app-relative form: "~/s3/". Will be converted to root-relative form upon assigment. Trailing slash required, auto-added. </p>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00047">47</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>

</div>
</div>
<hr/><h2>Event Documentation</h2>
<a class="anchor" id="a0d41267dbcc02afb14afeb0cbae77492"></a><!-- doxytag: member="ImageResizer::Plugins::S3Reader::S3VirtualPathProvider::PreS3RequestFilter" ref="a0d41267dbcc02afb14afeb0cbae77492" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RewriteBucketAndKeyPath <a class="el" href="class_image_resizer_1_1_plugins_1_1_s3_reader_1_1_s3_virtual_path_provider.html#a0d41267dbcc02afb14afeb0cbae77492">ImageResizer.Plugins.S3Reader.S3VirtualPathProvider.PreS3RequestFilter</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Important! You should handle this event and throw an exception if a bucket that you do not own is requested. Otherwise other people's buckets could be accessed using your server. </p>

<p>Definition at line <a class="el" href="_s3_virtual_path_provider_8cs_source.html#l00028">28</a> of file <a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Administrator/Documents/resizer/Plugins/S3Reader/<a class="el" href="_s3_virtual_path_provider_8cs_source.html">S3VirtualPathProvider.cs</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
